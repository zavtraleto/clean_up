var fg=Object.defineProperty;var pg=(t,e,n)=>e in t?fg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var b=(t,e,n)=>(pg(t,typeof e!="symbol"?e+"":e,n),n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Pd(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bd={exports:{}},yo={},Md={exports:{}},j={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=Symbol.for("react.element"),mg=Symbol.for("react.portal"),gg=Symbol.for("react.fragment"),yg=Symbol.for("react.strict_mode"),xg=Symbol.for("react.profiler"),_g=Symbol.for("react.provider"),vg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),Sg=Symbol.for("react.suspense"),Cg=Symbol.for("react.memo"),kg=Symbol.for("react.lazy"),ac=Symbol.iterator;function Ag(t){return t===null||typeof t!="object"?null:(t=ac&&t[ac]||t["@@iterator"],typeof t=="function"?t:null)}var Td={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ed=Object.assign,Rd={};function Pr(t,e,n){this.props=t,this.context=e,this.refs=Rd,this.updater=n||Td}Pr.prototype.isReactComponent={};Pr.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Pr.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Id(){}Id.prototype=Pr.prototype;function Ql(t,e,n){this.props=t,this.context=e,this.refs=Rd,this.updater=n||Td}var Zl=Ql.prototype=new Id;Zl.constructor=Ql;Ed(Zl,Pr.prototype);Zl.isPureReactComponent=!0;var lc=Array.isArray,Fd=Object.prototype.hasOwnProperty,Jl={current:null},Ld={key:!0,ref:!0,__self:!0,__source:!0};function Bd(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Fd.call(e,r)&&!Ld.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Oi,type:t,key:s,ref:o,props:i,_owner:Jl.current}}function Pg(t,e){return{$$typeof:Oi,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function eu(t){return typeof t=="object"&&t!==null&&t.$$typeof===Oi}function bg(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var uc=/\/+/g;function Do(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bg(""+t.key):e.toString(36)}function ks(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Oi:case mg:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Do(o,0):r,lc(i)?(n="",t!=null&&(n=t.replace(uc,"$&/")+"/"),ks(i,e,n,"",function(u){return u})):i!=null&&(eu(i)&&(i=Pg(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(uc,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",lc(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Do(s,a);o+=ks(s,e,n,l,i)}else if(l=Ag(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Do(s,a++),o+=ks(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Hi(t,e,n){if(t==null)return t;var r=[],i=0;return ks(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Mg(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Le={current:null},As={transition:null},Tg={ReactCurrentDispatcher:Le,ReactCurrentBatchConfig:As,ReactCurrentOwner:Jl};function zd(){throw Error("act(...) is not supported in production builds of React.")}j.Children={map:Hi,forEach:function(t,e,n){Hi(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Hi(t,function(){e++}),e},toArray:function(t){return Hi(t,function(e){return e})||[]},only:function(t){if(!eu(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};j.Component=Pr;j.Fragment=gg;j.Profiler=xg;j.PureComponent=Ql;j.StrictMode=yg;j.Suspense=Sg;j.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Tg;j.act=zd;j.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Ed({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Jl.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Fd.call(e,l)&&!Ld.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Oi,type:t.type,key:i,ref:s,props:r,_owner:o}};j.createContext=function(t){return t={$$typeof:vg,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_g,_context:t},t.Consumer=t};j.createElement=Bd;j.createFactory=function(t){var e=Bd.bind(null,t);return e.type=t,e};j.createRef=function(){return{current:null}};j.forwardRef=function(t){return{$$typeof:wg,render:t}};j.isValidElement=eu;j.lazy=function(t){return{$$typeof:kg,_payload:{_status:-1,_result:t},_init:Mg}};j.memo=function(t,e){return{$$typeof:Cg,type:t,compare:e===void 0?null:e}};j.startTransition=function(t){var e=As.transition;As.transition={};try{t()}finally{As.transition=e}};j.unstable_act=zd;j.useCallback=function(t,e){return Le.current.useCallback(t,e)};j.useContext=function(t){return Le.current.useContext(t)};j.useDebugValue=function(){};j.useDeferredValue=function(t){return Le.current.useDeferredValue(t)};j.useEffect=function(t,e){return Le.current.useEffect(t,e)};j.useId=function(){return Le.current.useId()};j.useImperativeHandle=function(t,e,n){return Le.current.useImperativeHandle(t,e,n)};j.useInsertionEffect=function(t,e){return Le.current.useInsertionEffect(t,e)};j.useLayoutEffect=function(t,e){return Le.current.useLayoutEffect(t,e)};j.useMemo=function(t,e){return Le.current.useMemo(t,e)};j.useReducer=function(t,e,n){return Le.current.useReducer(t,e,n)};j.useRef=function(t){return Le.current.useRef(t)};j.useState=function(t){return Le.current.useState(t)};j.useSyncExternalStore=function(t,e,n){return Le.current.useSyncExternalStore(t,e,n)};j.useTransition=function(){return Le.current.useTransition()};j.version="18.3.1";Md.exports=j;var De=Md.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eg=De,Rg=Symbol.for("react.element"),Ig=Symbol.for("react.fragment"),Fg=Object.prototype.hasOwnProperty,Lg=Eg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Bg={key:!0,ref:!0,__self:!0,__source:!0};function Od(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Fg.call(e,r)&&!Bg.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Rg,type:t,key:s,ref:o,props:i,_owner:Lg.current}}yo.Fragment=Ig;yo.jsx=Od;yo.jsxs=Od;bd.exports=yo;var N=bd.exports,Oa={},Nd={exports:{}},Qe={},Dd={exports:{}},jd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(R,M){var O=R.length;R.push(M);e:for(;0<O;){var q=O-1>>>1,re=R[q];if(0<i(re,M))R[q]=M,R[O]=re,O=q;else break e}}function n(R){return R.length===0?null:R[0]}function r(R){if(R.length===0)return null;var M=R[0],O=R.pop();if(O!==M){R[0]=O;e:for(var q=0,re=R.length,wt=re>>>1;q<wt;){var St=2*(q+1)-1,Xt=R[St],$e=St+1,xn=R[$e];if(0>i(Xt,O))$e<re&&0>i(xn,Xt)?(R[q]=xn,R[$e]=O,q=$e):(R[q]=Xt,R[St]=O,q=St);else if($e<re&&0>i(xn,O))R[q]=xn,R[$e]=O,q=$e;else break e}}return M}function i(R,M){var O=R.sortIndex-M.sortIndex;return O!==0?O:R.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,g=!1,x=!1,_=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(R){for(var M=n(u);M!==null;){if(M.callback===null)r(u);else if(M.startTime<=R)r(u),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(u)}}function v(R){if(x=!1,y(R),!g)if(n(l)!==null)g=!0,F(C);else{var M=n(u);M!==null&&z(v,M.startTime-R)}}function C(R,M){g=!1,x&&(x=!1,m(A),A=-1),f=!0;var O=d;try{for(y(M),h=n(l);h!==null&&(!(h.expirationTime>M)||R&&!E());){var q=h.callback;if(typeof q=="function"){h.callback=null,d=h.priorityLevel;var re=q(h.expirationTime<=M);M=t.unstable_now(),typeof re=="function"?h.callback=re:h===n(l)&&r(l),y(M)}else r(l);h=n(l)}if(h!==null)var wt=!0;else{var St=n(u);St!==null&&z(v,St.startTime-M),wt=!1}return wt}finally{h=null,d=O,f=!1}}var S=!1,w=null,A=-1,T=5,k=-1;function E(){return!(t.unstable_now()-k<T)}function $(){if(w!==null){var R=t.unstable_now();k=R;var M=!0;try{M=w(!0,R)}finally{M?H():(S=!1,w=null)}}else S=!1}var H;if(typeof p=="function")H=function(){p($)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,Yt=K.port2;K.port1.onmessage=$,H=function(){Yt.postMessage(null)}}else H=function(){_($,0)};function F(R){w=R,S||(S=!0,H())}function z(R,M){A=_(function(){R(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(R){R.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,F(C))},t.unstable_forceFrameRate=function(R){0>R||125<R?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<R?Math.floor(1e3/R):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(R){switch(d){case 1:case 2:case 3:var M=3;break;default:M=d}var O=d;d=M;try{return R()}finally{d=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(R,M){switch(R){case 1:case 2:case 3:case 4:case 5:break;default:R=3}var O=d;d=R;try{return M()}finally{d=O}},t.unstable_scheduleCallback=function(R,M,O){var q=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?q+O:q):O=q,R){case 1:var re=-1;break;case 2:re=250;break;case 5:re=1073741823;break;case 4:re=1e4;break;default:re=5e3}return re=O+re,R={id:c++,callback:M,priorityLevel:R,startTime:O,expirationTime:re,sortIndex:-1},O>q?(R.sortIndex=O,e(u,R),n(l)===null&&R===n(u)&&(x?(m(A),A=-1):x=!0,z(v,O-q))):(R.sortIndex=re,e(l,R),g||f||(g=!0,F(C))),R},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(R){var M=d;return function(){var O=d;d=M;try{return R.apply(this,arguments)}finally{d=O}}}})(jd);Dd.exports=jd;var zg=Dd.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Og=De,Ke=zg;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Gd=new Set,mi={};function Hn(t,e){yr(t,e),yr(t+"Capture",e)}function yr(t,e){for(mi[t]=e,t=0;t<e.length;t++)Gd.add(e[t])}var Gt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Na=Object.prototype.hasOwnProperty,Ng=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,cc={},hc={};function Dg(t){return Na.call(hc,t)?!0:Na.call(cc,t)?!1:Ng.test(t)?hc[t]=!0:(cc[t]=!0,!1)}function jg(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Gg(t,e,n,r){if(e===null||typeof e>"u"||jg(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Be(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ke={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ke[t]=new Be(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ke[e]=new Be(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ke[t]=new Be(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ke[t]=new Be(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ke[t]=new Be(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ke[t]=new Be(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ke[t]=new Be(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ke[t]=new Be(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ke[t]=new Be(t,5,!1,t.toLowerCase(),null,!1,!1)});var tu=/[\-:]([a-z])/g;function nu(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(tu,nu);ke[e]=new Be(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(tu,nu);ke[e]=new Be(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(tu,nu);ke[e]=new Be(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ke[t]=new Be(t,1,!1,t.toLowerCase(),null,!1,!1)});ke.xlinkHref=new Be("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ke[t]=new Be(t,1,!1,t.toLowerCase(),null,!0,!0)});function ru(t,e,n,r){var i=ke.hasOwnProperty(e)?ke[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Gg(e,n,i,r)&&(n=null),r||i===null?Dg(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Vt=Og.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Vi=Symbol.for("react.element"),Kn=Symbol.for("react.portal"),Qn=Symbol.for("react.fragment"),iu=Symbol.for("react.strict_mode"),Da=Symbol.for("react.profiler"),Ud=Symbol.for("react.provider"),Wd=Symbol.for("react.context"),su=Symbol.for("react.forward_ref"),ja=Symbol.for("react.suspense"),Ga=Symbol.for("react.suspense_list"),ou=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),$d=Symbol.for("react.offscreen"),dc=Symbol.iterator;function Ir(t){return t===null||typeof t!="object"?null:(t=dc&&t[dc]||t["@@iterator"],typeof t=="function"?t:null)}var le=Object.assign,jo;function Vr(t){if(jo===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);jo=e&&e[1]||""}return`
`+jo+t}var Go=!1;function Uo(t,e){if(!t||Go)return"";Go=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Go=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Vr(t):""}function Ug(t){switch(t.tag){case 5:return Vr(t.type);case 16:return Vr("Lazy");case 13:return Vr("Suspense");case 19:return Vr("SuspenseList");case 0:case 2:case 15:return t=Uo(t.type,!1),t;case 11:return t=Uo(t.type.render,!1),t;case 1:return t=Uo(t.type,!0),t;default:return""}}function Ua(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Qn:return"Fragment";case Kn:return"Portal";case Da:return"Profiler";case iu:return"StrictMode";case ja:return"Suspense";case Ga:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wd:return(t.displayName||"Context")+".Consumer";case Ud:return(t._context.displayName||"Context")+".Provider";case su:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ou:return e=t.displayName||null,e!==null?e:Ua(t.type)||"Memo";case Kt:e=t._payload,t=t._init;try{return Ua(t(e))}catch{}}return null}function Wg(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ua(e);case 8:return e===iu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Hd(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function $g(t){var e=Hd(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Yi(t){t._valueTracker||(t._valueTracker=$g(t))}function Vd(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Hd(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Ds(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wa(t,e){var n=e.checked;return le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function fc(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Yd(t,e){e=e.checked,e!=null&&ru(t,"checked",e,!1)}function $a(t,e){Yd(t,e);var n=dn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Ha(t,e.type,n):e.hasOwnProperty("defaultValue")&&Ha(t,e.type,dn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function pc(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Ha(t,e,n){(e!=="number"||Ds(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Yr=Array.isArray;function ur(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dn(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Va(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function mc(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(Yr(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dn(n)}}function Xd(t,e){var n=dn(e.value),r=dn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function gc(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function qd(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ya(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?qd(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xi,Kd=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xi=Xi||document.createElement("div"),Xi.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xi.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gi(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ti={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hg=["Webkit","ms","Moz","O"];Object.keys(ti).forEach(function(t){Hg.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ti[e]=ti[t]})});function Qd(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ti.hasOwnProperty(t)&&ti[t]?(""+e).trim():e+"px"}function Zd(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=Qd(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Vg=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xa(t,e){if(e){if(Vg[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function qa(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ka=null;function au(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qa=null,cr=null,hr=null;function yc(t){if(t=ji(t)){if(typeof Qa!="function")throw Error(P(280));var e=t.stateNode;e&&(e=So(e),Qa(t.stateNode,t.type,e))}}function Jd(t){cr?hr?hr.push(t):hr=[t]:cr=t}function ef(){if(cr){var t=cr,e=hr;if(hr=cr=null,yc(t),e)for(t=0;t<e.length;t++)yc(e[t])}}function tf(t,e){return t(e)}function nf(){}var Wo=!1;function rf(t,e,n){if(Wo)return t(e,n);Wo=!0;try{return tf(t,e,n)}finally{Wo=!1,(cr!==null||hr!==null)&&(nf(),ef())}}function yi(t,e){var n=t.stateNode;if(n===null)return null;var r=So(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Za=!1;if(Gt)try{var Fr={};Object.defineProperty(Fr,"passive",{get:function(){Za=!0}}),window.addEventListener("test",Fr,Fr),window.removeEventListener("test",Fr,Fr)}catch{Za=!1}function Yg(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var ni=!1,js=null,Gs=!1,Ja=null,Xg={onError:function(t){ni=!0,js=t}};function qg(t,e,n,r,i,s,o,a,l){ni=!1,js=null,Yg.apply(Xg,arguments)}function Kg(t,e,n,r,i,s,o,a,l){if(qg.apply(this,arguments),ni){if(ni){var u=js;ni=!1,js=null}else throw Error(P(198));Gs||(Gs=!0,Ja=u)}}function Vn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function sf(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function xc(t){if(Vn(t)!==t)throw Error(P(188))}function Qg(t){var e=t.alternate;if(!e){if(e=Vn(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return xc(i),t;if(s===r)return xc(i),e;s=s.sibling}throw Error(P(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function of(t){return t=Qg(t),t!==null?af(t):null}function af(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=af(t);if(e!==null)return e;t=t.sibling}return null}var lf=Ke.unstable_scheduleCallback,_c=Ke.unstable_cancelCallback,Zg=Ke.unstable_shouldYield,Jg=Ke.unstable_requestPaint,de=Ke.unstable_now,ey=Ke.unstable_getCurrentPriorityLevel,lu=Ke.unstable_ImmediatePriority,uf=Ke.unstable_UserBlockingPriority,Us=Ke.unstable_NormalPriority,ty=Ke.unstable_LowPriority,cf=Ke.unstable_IdlePriority,xo=null,Tt=null;function ny(t){if(Tt&&typeof Tt.onCommitFiberRoot=="function")try{Tt.onCommitFiberRoot(xo,t,void 0,(t.current.flags&128)===128)}catch{}}var pt=Math.clz32?Math.clz32:sy,ry=Math.log,iy=Math.LN2;function sy(t){return t>>>=0,t===0?32:31-(ry(t)/iy|0)|0}var qi=64,Ki=4194304;function Xr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ws(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Xr(a):(s&=o,s!==0&&(r=Xr(s)))}else o=n&~i,o!==0?r=Xr(o):s!==0&&(r=Xr(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pt(e),i=1<<n,r|=t[n],e&=~i;return r}function oy(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ay(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-pt(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=oy(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function el(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hf(){var t=qi;return qi<<=1,!(qi&4194240)&&(qi=64),t}function $o(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ni(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pt(e),t[e]=n}function ly(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pt(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function uu(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pt(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var V=0;function df(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ff,cu,pf,mf,gf,tl=!1,Qi=[],rn=null,sn=null,on=null,xi=new Map,_i=new Map,Zt=[],uy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vc(t,e){switch(t){case"focusin":case"focusout":rn=null;break;case"dragenter":case"dragleave":sn=null;break;case"mouseover":case"mouseout":on=null;break;case"pointerover":case"pointerout":xi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":_i.delete(e.pointerId)}}function Lr(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ji(e),e!==null&&cu(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cy(t,e,n,r,i){switch(e){case"focusin":return rn=Lr(rn,t,e,n,r,i),!0;case"dragenter":return sn=Lr(sn,t,e,n,r,i),!0;case"mouseover":return on=Lr(on,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return xi.set(s,Lr(xi.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,_i.set(s,Lr(_i.get(s)||null,t,e,n,r,i)),!0}return!1}function yf(t){var e=En(t.target);if(e!==null){var n=Vn(e);if(n!==null){if(e=n.tag,e===13){if(e=sf(n),e!==null){t.blockedOn=e,gf(t.priority,function(){pf(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ps(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nl(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Ka=r,n.target.dispatchEvent(r),Ka=null}else return e=ji(n),e!==null&&cu(e),t.blockedOn=n,!1;e.shift()}return!0}function wc(t,e,n){Ps(t)&&n.delete(e)}function hy(){tl=!1,rn!==null&&Ps(rn)&&(rn=null),sn!==null&&Ps(sn)&&(sn=null),on!==null&&Ps(on)&&(on=null),xi.forEach(wc),_i.forEach(wc)}function Br(t,e){t.blockedOn===e&&(t.blockedOn=null,tl||(tl=!0,Ke.unstable_scheduleCallback(Ke.unstable_NormalPriority,hy)))}function vi(t){function e(i){return Br(i,t)}if(0<Qi.length){Br(Qi[0],t);for(var n=1;n<Qi.length;n++){var r=Qi[n];r.blockedOn===t&&(r.blockedOn=null)}}for(rn!==null&&Br(rn,t),sn!==null&&Br(sn,t),on!==null&&Br(on,t),xi.forEach(e),_i.forEach(e),n=0;n<Zt.length;n++)r=Zt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zt.length&&(n=Zt[0],n.blockedOn===null);)yf(n),n.blockedOn===null&&Zt.shift()}var dr=Vt.ReactCurrentBatchConfig,$s=!0;function dy(t,e,n,r){var i=V,s=dr.transition;dr.transition=null;try{V=1,hu(t,e,n,r)}finally{V=i,dr.transition=s}}function fy(t,e,n,r){var i=V,s=dr.transition;dr.transition=null;try{V=4,hu(t,e,n,r)}finally{V=i,dr.transition=s}}function hu(t,e,n,r){if($s){var i=nl(t,e,n,r);if(i===null)ea(t,e,r,Hs,n),vc(t,r);else if(cy(i,t,e,n,r))r.stopPropagation();else if(vc(t,r),e&4&&-1<uy.indexOf(t)){for(;i!==null;){var s=ji(i);if(s!==null&&ff(s),s=nl(t,e,n,r),s===null&&ea(t,e,r,Hs,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ea(t,e,r,null,n)}}var Hs=null;function nl(t,e,n,r){if(Hs=null,t=au(r),t=En(t),t!==null)if(e=Vn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=sf(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hs=t,null}function xf(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ey()){case lu:return 1;case uf:return 4;case Us:case ty:return 16;case cf:return 536870912;default:return 16}default:return 16}}var en=null,du=null,bs=null;function _f(){if(bs)return bs;var t,e=du,n=e.length,r,i="value"in en?en.value:en.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bs=i.slice(t,1<r?1-r:void 0)}function Ms(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Zi(){return!0}function Sc(){return!1}function Ze(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Zi:Sc,this.isPropagationStopped=Sc,this}return le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Zi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Zi)},persist:function(){},isPersistent:Zi}),e}var br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fu=Ze(br),Di=le({},br,{view:0,detail:0}),py=Ze(Di),Ho,Vo,zr,_o=le({},Di,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pu,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zr&&(zr&&t.type==="mousemove"?(Ho=t.screenX-zr.screenX,Vo=t.screenY-zr.screenY):Vo=Ho=0,zr=t),Ho)},movementY:function(t){return"movementY"in t?t.movementY:Vo}}),Cc=Ze(_o),my=le({},_o,{dataTransfer:0}),gy=Ze(my),yy=le({},Di,{relatedTarget:0}),Yo=Ze(yy),xy=le({},br,{animationName:0,elapsedTime:0,pseudoElement:0}),_y=Ze(xy),vy=le({},br,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),wy=Ze(vy),Sy=le({},br,{data:0}),kc=Ze(Sy),Cy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ay={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Ay[t])?!!e[t]:!1}function pu(){return Py}var by=le({},Di,{key:function(t){if(t.key){var e=Cy[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ms(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?ky[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pu,charCode:function(t){return t.type==="keypress"?Ms(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ms(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),My=Ze(by),Ty=le({},_o,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ac=Ze(Ty),Ey=le({},Di,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pu}),Ry=Ze(Ey),Iy=le({},br,{propertyName:0,elapsedTime:0,pseudoElement:0}),Fy=Ze(Iy),Ly=le({},_o,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),By=Ze(Ly),zy=[9,13,27,32],mu=Gt&&"CompositionEvent"in window,ri=null;Gt&&"documentMode"in document&&(ri=document.documentMode);var Oy=Gt&&"TextEvent"in window&&!ri,vf=Gt&&(!mu||ri&&8<ri&&11>=ri),Pc=String.fromCharCode(32),bc=!1;function wf(t,e){switch(t){case"keyup":return zy.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zn=!1;function Ny(t,e){switch(t){case"compositionend":return Sf(e);case"keypress":return e.which!==32?null:(bc=!0,Pc);case"textInput":return t=e.data,t===Pc&&bc?null:t;default:return null}}function Dy(t,e){if(Zn)return t==="compositionend"||!mu&&wf(t,e)?(t=_f(),bs=du=en=null,Zn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vf&&e.locale!=="ko"?null:e.data;default:return null}}var jy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mc(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!jy[t.type]:e==="textarea"}function Cf(t,e,n,r){Jd(r),e=Vs(e,"onChange"),0<e.length&&(n=new fu("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ii=null,wi=null;function Gy(t){Lf(t,0)}function vo(t){var e=tr(t);if(Vd(e))return t}function Uy(t,e){if(t==="change")return e}var kf=!1;if(Gt){var Xo;if(Gt){var qo="oninput"in document;if(!qo){var Tc=document.createElement("div");Tc.setAttribute("oninput","return;"),qo=typeof Tc.oninput=="function"}Xo=qo}else Xo=!1;kf=Xo&&(!document.documentMode||9<document.documentMode)}function Ec(){ii&&(ii.detachEvent("onpropertychange",Af),wi=ii=null)}function Af(t){if(t.propertyName==="value"&&vo(wi)){var e=[];Cf(e,wi,t,au(t)),rf(Gy,e)}}function Wy(t,e,n){t==="focusin"?(Ec(),ii=e,wi=n,ii.attachEvent("onpropertychange",Af)):t==="focusout"&&Ec()}function $y(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return vo(wi)}function Hy(t,e){if(t==="click")return vo(e)}function Vy(t,e){if(t==="input"||t==="change")return vo(e)}function Yy(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gt=typeof Object.is=="function"?Object.is:Yy;function Si(t,e){if(gt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Na.call(e,i)||!gt(t[i],e[i]))return!1}return!0}function Rc(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ic(t,e){var n=Rc(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Rc(n)}}function Pf(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Pf(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function bf(){for(var t=window,e=Ds();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ds(t.document)}return e}function gu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Xy(t){var e=bf(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Pf(n.ownerDocument.documentElement,n)){if(r!==null&&gu(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Ic(n,s);var o=Ic(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var qy=Gt&&"documentMode"in document&&11>=document.documentMode,Jn=null,rl=null,si=null,il=!1;function Fc(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;il||Jn==null||Jn!==Ds(r)||(r=Jn,"selectionStart"in r&&gu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),si&&Si(si,r)||(si=r,r=Vs(rl,"onSelect"),0<r.length&&(e=new fu("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jn)))}function Ji(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var er={animationend:Ji("Animation","AnimationEnd"),animationiteration:Ji("Animation","AnimationIteration"),animationstart:Ji("Animation","AnimationStart"),transitionend:Ji("Transition","TransitionEnd")},Ko={},Mf={};Gt&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete er.animationend.animation,delete er.animationiteration.animation,delete er.animationstart.animation),"TransitionEvent"in window||delete er.transitionend.transition);function wo(t){if(Ko[t])return Ko[t];if(!er[t])return t;var e=er[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Mf)return Ko[t]=e[n];return t}var Tf=wo("animationend"),Ef=wo("animationiteration"),Rf=wo("animationstart"),If=wo("transitionend"),Ff=new Map,Lc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function pn(t,e){Ff.set(t,e),Hn(e,[t])}for(var Qo=0;Qo<Lc.length;Qo++){var Zo=Lc[Qo],Ky=Zo.toLowerCase(),Qy=Zo[0].toUpperCase()+Zo.slice(1);pn(Ky,"on"+Qy)}pn(Tf,"onAnimationEnd");pn(Ef,"onAnimationIteration");pn(Rf,"onAnimationStart");pn("dblclick","onDoubleClick");pn("focusin","onFocus");pn("focusout","onBlur");pn(If,"onTransitionEnd");yr("onMouseEnter",["mouseout","mouseover"]);yr("onMouseLeave",["mouseout","mouseover"]);yr("onPointerEnter",["pointerout","pointerover"]);yr("onPointerLeave",["pointerout","pointerover"]);Hn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Hn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Hn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Hn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Hn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zy=new Set("cancel close invalid load scroll toggle".split(" ").concat(qr));function Bc(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Kg(r,e,void 0,t),t.currentTarget=null}function Lf(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Bc(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Bc(i,a,u),s=l}}}if(Gs)throw t=Ja,Gs=!1,Ja=null,t}function Z(t,e){var n=e[ul];n===void 0&&(n=e[ul]=new Set);var r=t+"__bubble";n.has(r)||(Bf(e,t,2,!1),n.add(r))}function Jo(t,e,n){var r=0;e&&(r|=4),Bf(n,t,r,e)}var es="_reactListening"+Math.random().toString(36).slice(2);function Ci(t){if(!t[es]){t[es]=!0,Gd.forEach(function(n){n!=="selectionchange"&&(Zy.has(n)||Jo(n,!1,t),Jo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[es]||(e[es]=!0,Jo("selectionchange",!1,e))}}function Bf(t,e,n,r){switch(xf(e)){case 1:var i=dy;break;case 4:i=fy;break;default:i=hu}n=i.bind(null,e,n,t),i=void 0,!Za||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ea(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=En(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}rf(function(){var u=s,c=au(n),h=[];e:{var d=Ff.get(t);if(d!==void 0){var f=fu,g=t;switch(t){case"keypress":if(Ms(n)===0)break e;case"keydown":case"keyup":f=My;break;case"focusin":g="focus",f=Yo;break;case"focusout":g="blur",f=Yo;break;case"beforeblur":case"afterblur":f=Yo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=Cc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=gy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=Ry;break;case Tf:case Ef:case Rf:f=_y;break;case If:f=Fy;break;case"scroll":f=py;break;case"wheel":f=By;break;case"copy":case"cut":case"paste":f=wy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Ac}var x=(e&4)!==0,_=!x&&t==="scroll",m=x?d!==null?d+"Capture":null:d;x=[];for(var p=u,y;p!==null;){y=p;var v=y.stateNode;if(y.tag===5&&v!==null&&(y=v,m!==null&&(v=yi(p,m),v!=null&&x.push(ki(p,v,y)))),_)break;p=p.return}0<x.length&&(d=new f(d,g,null,n,c),h.push({event:d,listeners:x}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",d&&n!==Ka&&(g=n.relatedTarget||n.fromElement)&&(En(g)||g[Ut]))break e;if((f||d)&&(d=c.window===c?c:(d=c.ownerDocument)?d.defaultView||d.parentWindow:window,f?(g=n.relatedTarget||n.toElement,f=u,g=g?En(g):null,g!==null&&(_=Vn(g),g!==_||g.tag!==5&&g.tag!==6)&&(g=null)):(f=null,g=u),f!==g)){if(x=Cc,v="onMouseLeave",m="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ac,v="onPointerLeave",m="onPointerEnter",p="pointer"),_=f==null?d:tr(f),y=g==null?d:tr(g),d=new x(v,p+"leave",f,n,c),d.target=_,d.relatedTarget=y,v=null,En(c)===u&&(x=new x(m,p+"enter",g,n,c),x.target=y,x.relatedTarget=_,v=x),_=v,f&&g)t:{for(x=f,m=g,p=0,y=x;y;y=Yn(y))p++;for(y=0,v=m;v;v=Yn(v))y++;for(;0<p-y;)x=Yn(x),p--;for(;0<y-p;)m=Yn(m),y--;for(;p--;){if(x===m||m!==null&&x===m.alternate)break t;x=Yn(x),m=Yn(m)}x=null}else x=null;f!==null&&zc(h,d,f,x,!1),g!==null&&_!==null&&zc(h,_,g,x,!0)}}e:{if(d=u?tr(u):window,f=d.nodeName&&d.nodeName.toLowerCase(),f==="select"||f==="input"&&d.type==="file")var C=Uy;else if(Mc(d))if(kf)C=Vy;else{C=$y;var S=Wy}else(f=d.nodeName)&&f.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(C=Hy);if(C&&(C=C(t,u))){Cf(h,C,n,c);break e}S&&S(t,d,u),t==="focusout"&&(S=d._wrapperState)&&S.controlled&&d.type==="number"&&Ha(d,"number",d.value)}switch(S=u?tr(u):window,t){case"focusin":(Mc(S)||S.contentEditable==="true")&&(Jn=S,rl=u,si=null);break;case"focusout":si=rl=Jn=null;break;case"mousedown":il=!0;break;case"contextmenu":case"mouseup":case"dragend":il=!1,Fc(h,n,c);break;case"selectionchange":if(qy)break;case"keydown":case"keyup":Fc(h,n,c)}var w;if(mu)e:{switch(t){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else Zn?wf(t,n)&&(A="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(A="onCompositionStart");A&&(vf&&n.locale!=="ko"&&(Zn||A!=="onCompositionStart"?A==="onCompositionEnd"&&Zn&&(w=_f()):(en=c,du="value"in en?en.value:en.textContent,Zn=!0)),S=Vs(u,A),0<S.length&&(A=new kc(A,t,null,n,c),h.push({event:A,listeners:S}),w?A.data=w:(w=Sf(n),w!==null&&(A.data=w)))),(w=Oy?Ny(t,n):Dy(t,n))&&(u=Vs(u,"onBeforeInput"),0<u.length&&(c=new kc("onBeforeInput","beforeinput",null,n,c),h.push({event:c,listeners:u}),c.data=w))}Lf(h,e)})}function ki(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Vs(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=yi(t,n),s!=null&&r.unshift(ki(t,s,i)),s=yi(t,e),s!=null&&r.push(ki(t,s,i))),t=t.return}return r}function Yn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function zc(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=yi(n,s),l!=null&&o.unshift(ki(n,l,a))):i||(l=yi(n,s),l!=null&&o.push(ki(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var Jy=/\r\n?/g,e0=/\u0000|\uFFFD/g;function Oc(t){return(typeof t=="string"?t:""+t).replace(Jy,`
`).replace(e0,"")}function ts(t,e,n){if(e=Oc(e),Oc(t)!==e&&n)throw Error(P(425))}function Ys(){}var sl=null,ol=null;function al(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ll=typeof setTimeout=="function"?setTimeout:void 0,t0=typeof clearTimeout=="function"?clearTimeout:void 0,Nc=typeof Promise=="function"?Promise:void 0,n0=typeof queueMicrotask=="function"?queueMicrotask:typeof Nc<"u"?function(t){return Nc.resolve(null).then(t).catch(r0)}:ll;function r0(t){setTimeout(function(){throw t})}function ta(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),vi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);vi(e)}function an(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Dc(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mr=Math.random().toString(36).slice(2),Mt="__reactFiber$"+Mr,Ai="__reactProps$"+Mr,Ut="__reactContainer$"+Mr,ul="__reactEvents$"+Mr,i0="__reactListeners$"+Mr,s0="__reactHandles$"+Mr;function En(t){var e=t[Mt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ut]||n[Mt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Dc(t);t!==null;){if(n=t[Mt])return n;t=Dc(t)}return e}t=n,n=t.parentNode}return null}function ji(t){return t=t[Mt]||t[Ut],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function So(t){return t[Ai]||null}var cl=[],nr=-1;function mn(t){return{current:t}}function te(t){0>nr||(t.current=cl[nr],cl[nr]=null,nr--)}function Q(t,e){nr++,cl[nr]=t.current,t.current=e}var fn={},Ee=mn(fn),Ge=mn(!1),zn=fn;function xr(t,e){var n=t.type.contextTypes;if(!n)return fn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ue(t){return t=t.childContextTypes,t!=null}function Xs(){te(Ge),te(Ee)}function jc(t,e,n){if(Ee.current!==fn)throw Error(P(168));Q(Ee,e),Q(Ge,n)}function zf(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(P(108,Wg(t)||"Unknown",i));return le({},n,r)}function qs(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||fn,zn=Ee.current,Q(Ee,t),Q(Ge,Ge.current),!0}function Gc(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=zf(t,e,zn),r.__reactInternalMemoizedMergedChildContext=t,te(Ge),te(Ee),Q(Ee,t)):te(Ge),Q(Ge,n)}var Lt=null,Co=!1,na=!1;function Of(t){Lt===null?Lt=[t]:Lt.push(t)}function o0(t){Co=!0,Of(t)}function gn(){if(!na&&Lt!==null){na=!0;var t=0,e=V;try{var n=Lt;for(V=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Lt=null,Co=!1}catch(i){throw Lt!==null&&(Lt=Lt.slice(t+1)),lf(lu,gn),i}finally{V=e,na=!1}}return null}var rr=[],ir=0,Ks=null,Qs=0,Je=[],et=0,On=null,Bt=1,zt="";function kn(t,e){rr[ir++]=Qs,rr[ir++]=Ks,Ks=t,Qs=e}function Nf(t,e,n){Je[et++]=Bt,Je[et++]=zt,Je[et++]=On,On=t;var r=Bt;t=zt;var i=32-pt(r)-1;r&=~(1<<i),n+=1;var s=32-pt(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Bt=1<<32-pt(e)+i|n<<i|r,zt=s+t}else Bt=1<<s|n<<i|r,zt=t}function yu(t){t.return!==null&&(kn(t,1),Nf(t,1,0))}function xu(t){for(;t===Ks;)Ks=rr[--ir],rr[ir]=null,Qs=rr[--ir],rr[ir]=null;for(;t===On;)On=Je[--et],Je[et]=null,zt=Je[--et],Je[et]=null,Bt=Je[--et],Je[et]=null}var Xe=null,Ye=null,ie=!1,dt=null;function Df(t,e){var n=nt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Uc(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xe=t,Ye=an(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xe=t,Ye=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=On!==null?{id:Bt,overflow:zt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=nt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Xe=t,Ye=null,!0):!1;default:return!1}}function hl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dl(t){if(ie){var e=Ye;if(e){var n=e;if(!Uc(t,e)){if(hl(t))throw Error(P(418));e=an(n.nextSibling);var r=Xe;e&&Uc(t,e)?Df(r,n):(t.flags=t.flags&-4097|2,ie=!1,Xe=t)}}else{if(hl(t))throw Error(P(418));t.flags=t.flags&-4097|2,ie=!1,Xe=t}}}function Wc(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xe=t}function ns(t){if(t!==Xe)return!1;if(!ie)return Wc(t),ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!al(t.type,t.memoizedProps)),e&&(e=Ye)){if(hl(t))throw jf(),Error(P(418));for(;e;)Df(t,e),e=an(e.nextSibling)}if(Wc(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ye=an(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ye=null}}else Ye=Xe?an(t.stateNode.nextSibling):null;return!0}function jf(){for(var t=Ye;t;)t=an(t.nextSibling)}function _r(){Ye=Xe=null,ie=!1}function _u(t){dt===null?dt=[t]:dt.push(t)}var a0=Vt.ReactCurrentBatchConfig;function Or(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function rs(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function $c(t){var e=t._init;return e(t._payload)}function Gf(t){function e(m,p){if(t){var y=m.deletions;y===null?(m.deletions=[p],m.flags|=16):y.push(p)}}function n(m,p){if(!t)return null;for(;p!==null;)e(m,p),p=p.sibling;return null}function r(m,p){for(m=new Map;p!==null;)p.key!==null?m.set(p.key,p):m.set(p.index,p),p=p.sibling;return m}function i(m,p){return m=hn(m,p),m.index=0,m.sibling=null,m}function s(m,p,y){return m.index=y,t?(y=m.alternate,y!==null?(y=y.index,y<p?(m.flags|=2,p):y):(m.flags|=2,p)):(m.flags|=1048576,p)}function o(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,p,y,v){return p===null||p.tag!==6?(p=ua(y,m.mode,v),p.return=m,p):(p=i(p,y),p.return=m,p)}function l(m,p,y,v){var C=y.type;return C===Qn?c(m,p,y.props.children,v,y.key):p!==null&&(p.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kt&&$c(C)===p.type)?(v=i(p,y.props),v.ref=Or(m,p,y),v.return=m,v):(v=Bs(y.type,y.key,y.props,null,m.mode,v),v.ref=Or(m,p,y),v.return=m,v)}function u(m,p,y,v){return p===null||p.tag!==4||p.stateNode.containerInfo!==y.containerInfo||p.stateNode.implementation!==y.implementation?(p=ca(y,m.mode,v),p.return=m,p):(p=i(p,y.children||[]),p.return=m,p)}function c(m,p,y,v,C){return p===null||p.tag!==7?(p=Bn(y,m.mode,v,C),p.return=m,p):(p=i(p,y),p.return=m,p)}function h(m,p,y){if(typeof p=="string"&&p!==""||typeof p=="number")return p=ua(""+p,m.mode,y),p.return=m,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case Vi:return y=Bs(p.type,p.key,p.props,null,m.mode,y),y.ref=Or(m,null,p),y.return=m,y;case Kn:return p=ca(p,m.mode,y),p.return=m,p;case Kt:var v=p._init;return h(m,v(p._payload),y)}if(Yr(p)||Ir(p))return p=Bn(p,m.mode,y,null),p.return=m,p;rs(m,p)}return null}function d(m,p,y,v){var C=p!==null?p.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return C!==null?null:a(m,p,""+y,v);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Vi:return y.key===C?l(m,p,y,v):null;case Kn:return y.key===C?u(m,p,y,v):null;case Kt:return C=y._init,d(m,p,C(y._payload),v)}if(Yr(y)||Ir(y))return C!==null?null:c(m,p,y,v,null);rs(m,y)}return null}function f(m,p,y,v,C){if(typeof v=="string"&&v!==""||typeof v=="number")return m=m.get(y)||null,a(p,m,""+v,C);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Vi:return m=m.get(v.key===null?y:v.key)||null,l(p,m,v,C);case Kn:return m=m.get(v.key===null?y:v.key)||null,u(p,m,v,C);case Kt:var S=v._init;return f(m,p,y,S(v._payload),C)}if(Yr(v)||Ir(v))return m=m.get(y)||null,c(p,m,v,C,null);rs(p,v)}return null}function g(m,p,y,v){for(var C=null,S=null,w=p,A=p=0,T=null;w!==null&&A<y.length;A++){w.index>A?(T=w,w=null):T=w.sibling;var k=d(m,w,y[A],v);if(k===null){w===null&&(w=T);break}t&&w&&k.alternate===null&&e(m,w),p=s(k,p,A),S===null?C=k:S.sibling=k,S=k,w=T}if(A===y.length)return n(m,w),ie&&kn(m,A),C;if(w===null){for(;A<y.length;A++)w=h(m,y[A],v),w!==null&&(p=s(w,p,A),S===null?C=w:S.sibling=w,S=w);return ie&&kn(m,A),C}for(w=r(m,w);A<y.length;A++)T=f(w,m,A,y[A],v),T!==null&&(t&&T.alternate!==null&&w.delete(T.key===null?A:T.key),p=s(T,p,A),S===null?C=T:S.sibling=T,S=T);return t&&w.forEach(function(E){return e(m,E)}),ie&&kn(m,A),C}function x(m,p,y,v){var C=Ir(y);if(typeof C!="function")throw Error(P(150));if(y=C.call(y),y==null)throw Error(P(151));for(var S=C=null,w=p,A=p=0,T=null,k=y.next();w!==null&&!k.done;A++,k=y.next()){w.index>A?(T=w,w=null):T=w.sibling;var E=d(m,w,k.value,v);if(E===null){w===null&&(w=T);break}t&&w&&E.alternate===null&&e(m,w),p=s(E,p,A),S===null?C=E:S.sibling=E,S=E,w=T}if(k.done)return n(m,w),ie&&kn(m,A),C;if(w===null){for(;!k.done;A++,k=y.next())k=h(m,k.value,v),k!==null&&(p=s(k,p,A),S===null?C=k:S.sibling=k,S=k);return ie&&kn(m,A),C}for(w=r(m,w);!k.done;A++,k=y.next())k=f(w,m,A,k.value,v),k!==null&&(t&&k.alternate!==null&&w.delete(k.key===null?A:k.key),p=s(k,p,A),S===null?C=k:S.sibling=k,S=k);return t&&w.forEach(function($){return e(m,$)}),ie&&kn(m,A),C}function _(m,p,y,v){if(typeof y=="object"&&y!==null&&y.type===Qn&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Vi:e:{for(var C=y.key,S=p;S!==null;){if(S.key===C){if(C=y.type,C===Qn){if(S.tag===7){n(m,S.sibling),p=i(S,y.props.children),p.return=m,m=p;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Kt&&$c(C)===S.type){n(m,S.sibling),p=i(S,y.props),p.ref=Or(m,S,y),p.return=m,m=p;break e}n(m,S);break}else e(m,S);S=S.sibling}y.type===Qn?(p=Bn(y.props.children,m.mode,v,y.key),p.return=m,m=p):(v=Bs(y.type,y.key,y.props,null,m.mode,v),v.ref=Or(m,p,y),v.return=m,m=v)}return o(m);case Kn:e:{for(S=y.key;p!==null;){if(p.key===S)if(p.tag===4&&p.stateNode.containerInfo===y.containerInfo&&p.stateNode.implementation===y.implementation){n(m,p.sibling),p=i(p,y.children||[]),p.return=m,m=p;break e}else{n(m,p);break}else e(m,p);p=p.sibling}p=ca(y,m.mode,v),p.return=m,m=p}return o(m);case Kt:return S=y._init,_(m,p,S(y._payload),v)}if(Yr(y))return g(m,p,y,v);if(Ir(y))return x(m,p,y,v);rs(m,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,p!==null&&p.tag===6?(n(m,p.sibling),p=i(p,y),p.return=m,m=p):(n(m,p),p=ua(y,m.mode,v),p.return=m,m=p),o(m)):n(m,p)}return _}var vr=Gf(!0),Uf=Gf(!1),Zs=mn(null),Js=null,sr=null,vu=null;function wu(){vu=sr=Js=null}function Su(t){var e=Zs.current;te(Zs),t._currentValue=e}function fl(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function fr(t,e){Js=t,vu=sr=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(je=!0),t.firstContext=null)}function ot(t){var e=t._currentValue;if(vu!==t)if(t={context:t,memoizedValue:e,next:null},sr===null){if(Js===null)throw Error(P(308));sr=t,Js.dependencies={lanes:0,firstContext:t}}else sr=sr.next=t;return e}var Rn=null;function Cu(t){Rn===null?Rn=[t]:Rn.push(t)}function Wf(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Cu(e)):(n.next=i.next,i.next=n),e.interleaved=n,Wt(t,r)}function Wt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Qt=!1;function ku(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function $f(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ot(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ln(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,W&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Wt(t,n)}return i=r.interleaved,i===null?(e.next=e,Cu(r)):(e.next=i.next,i.next=e),r.interleaved=e,Wt(t,n)}function Ts(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uu(t,n)}}function Hc(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eo(t,e,n,r){var i=t.updateQueue;Qt=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var d=a.lane,f=a.eventTime;if((r&d)===d){c!==null&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,x=a;switch(d=e,f=n,x.tag){case 1:if(g=x.payload,typeof g=="function"){h=g.call(f,h,d);break e}h=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=x.payload,d=typeof g=="function"?g.call(f,h,d):g,d==null)break e;h=le({},h,d);break e;case 2:Qt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=f,l=h):c=c.next=f,o|=d;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;d=a,a=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Dn|=o,t.lanes=o,t.memoizedState=h}}function Vc(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(P(191,i));i.call(r)}}}var Gi={},Et=mn(Gi),Pi=mn(Gi),bi=mn(Gi);function In(t){if(t===Gi)throw Error(P(174));return t}function Au(t,e){switch(Q(bi,e),Q(Pi,t),Q(Et,Gi),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Ya(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Ya(e,t)}te(Et),Q(Et,e)}function wr(){te(Et),te(Pi),te(bi)}function Hf(t){In(bi.current);var e=In(Et.current),n=Ya(e,t.type);e!==n&&(Q(Pi,t),Q(Et,n))}function Pu(t){Pi.current===t&&(te(Et),te(Pi))}var se=mn(0);function to(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ra=[];function bu(){for(var t=0;t<ra.length;t++)ra[t]._workInProgressVersionPrimary=null;ra.length=0}var Es=Vt.ReactCurrentDispatcher,ia=Vt.ReactCurrentBatchConfig,Nn=0,ae=null,me=null,xe=null,no=!1,oi=!1,Mi=0,l0=0;function Ae(){throw Error(P(321))}function Mu(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gt(t[n],e[n]))return!1;return!0}function Tu(t,e,n,r,i,s){if(Nn=s,ae=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Es.current=t===null||t.memoizedState===null?d0:f0,t=n(r,i),oi){s=0;do{if(oi=!1,Mi=0,25<=s)throw Error(P(301));s+=1,xe=me=null,e.updateQueue=null,Es.current=p0,t=n(r,i)}while(oi)}if(Es.current=ro,e=me!==null&&me.next!==null,Nn=0,xe=me=ae=null,no=!1,e)throw Error(P(300));return t}function Eu(){var t=Mi!==0;return Mi=0,t}function Pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?ae.memoizedState=xe=t:xe=xe.next=t,xe}function at(){if(me===null){var t=ae.alternate;t=t!==null?t.memoizedState:null}else t=me.next;var e=xe===null?ae.memoizedState:xe.next;if(e!==null)xe=e,me=t;else{if(t===null)throw Error(P(310));me=t,t={memoizedState:me.memoizedState,baseState:me.baseState,baseQueue:me.baseQueue,queue:me.queue,next:null},xe===null?ae.memoizedState=xe=t:xe=xe.next=t}return xe}function Ti(t,e){return typeof e=="function"?e(t):e}function sa(t){var e=at(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=me,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Nn&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,ae.lanes|=c,Dn|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,gt(r,e.memoizedState)||(je=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ae.lanes|=s,Dn|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function oa(t){var e=at(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);gt(s,e.memoizedState)||(je=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function Vf(){}function Yf(t,e){var n=ae,r=at(),i=e(),s=!gt(r.memoizedState,i);if(s&&(r.memoizedState=i,je=!0),r=r.queue,Ru(Kf.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,Ei(9,qf.bind(null,n,r,i,e),void 0,null),ve===null)throw Error(P(349));Nn&30||Xf(n,e,i)}return i}function Xf(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function qf(t,e,n,r){e.value=n,e.getSnapshot=r,Qf(e)&&Zf(t)}function Kf(t,e,n){return n(function(){Qf(e)&&Zf(t)})}function Qf(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gt(t,n)}catch{return!0}}function Zf(t){var e=Wt(t,1);e!==null&&mt(e,t,1,-1)}function Yc(t){var e=Pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ti,lastRenderedState:t},e.queue=t,t=t.dispatch=h0.bind(null,ae,t),[e.memoizedState,t]}function Ei(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ae.updateQueue,e===null?(e={lastEffect:null,stores:null},ae.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Jf(){return at().memoizedState}function Rs(t,e,n,r){var i=Pt();ae.flags|=t,i.memoizedState=Ei(1|e,n,void 0,r===void 0?null:r)}function ko(t,e,n,r){var i=at();r=r===void 0?null:r;var s=void 0;if(me!==null){var o=me.memoizedState;if(s=o.destroy,r!==null&&Mu(r,o.deps)){i.memoizedState=Ei(e,n,s,r);return}}ae.flags|=t,i.memoizedState=Ei(1|e,n,s,r)}function Xc(t,e){return Rs(8390656,8,t,e)}function Ru(t,e){return ko(2048,8,t,e)}function ep(t,e){return ko(4,2,t,e)}function tp(t,e){return ko(4,4,t,e)}function np(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rp(t,e,n){return n=n!=null?n.concat([t]):null,ko(4,4,np.bind(null,e,t),n)}function Iu(){}function ip(t,e){var n=at();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mu(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function sp(t,e){var n=at();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Mu(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function op(t,e,n){return Nn&21?(gt(n,e)||(n=hf(),ae.lanes|=n,Dn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,je=!0),t.memoizedState=n)}function u0(t,e){var n=V;V=n!==0&&4>n?n:4,t(!0);var r=ia.transition;ia.transition={};try{t(!1),e()}finally{V=n,ia.transition=r}}function ap(){return at().memoizedState}function c0(t,e,n){var r=cn(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},lp(t))up(e,n);else if(n=Wf(t,e,n,r),n!==null){var i=Fe();mt(n,t,r,i),cp(n,e,r)}}function h0(t,e,n){var r=cn(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(lp(t))up(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,gt(a,o)){var l=e.interleaved;l===null?(i.next=i,Cu(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=Wf(t,e,i,r),n!==null&&(i=Fe(),mt(n,t,r,i),cp(n,e,r))}}function lp(t){var e=t.alternate;return t===ae||e!==null&&e===ae}function up(t,e){oi=no=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cp(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,uu(t,n)}}var ro={readContext:ot,useCallback:Ae,useContext:Ae,useEffect:Ae,useImperativeHandle:Ae,useInsertionEffect:Ae,useLayoutEffect:Ae,useMemo:Ae,useReducer:Ae,useRef:Ae,useState:Ae,useDebugValue:Ae,useDeferredValue:Ae,useTransition:Ae,useMutableSource:Ae,useSyncExternalStore:Ae,useId:Ae,unstable_isNewReconciler:!1},d0={readContext:ot,useCallback:function(t,e){return Pt().memoizedState=[t,e===void 0?null:e],t},useContext:ot,useEffect:Xc,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rs(4194308,4,np.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rs(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rs(4,2,t,e)},useMemo:function(t,e){var n=Pt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=c0.bind(null,ae,t),[r.memoizedState,t]},useRef:function(t){var e=Pt();return t={current:t},e.memoizedState=t},useState:Yc,useDebugValue:Iu,useDeferredValue:function(t){return Pt().memoizedState=t},useTransition:function(){var t=Yc(!1),e=t[0];return t=u0.bind(null,t[1]),Pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ae,i=Pt();if(ie){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),ve===null)throw Error(P(349));Nn&30||Xf(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Xc(Kf.bind(null,r,s,t),[t]),r.flags|=2048,Ei(9,qf.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Pt(),e=ve.identifierPrefix;if(ie){var n=zt,r=Bt;n=(r&~(1<<32-pt(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l0++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f0={readContext:ot,useCallback:ip,useContext:ot,useEffect:Ru,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:sa,useRef:Jf,useState:function(){return sa(Ti)},useDebugValue:Iu,useDeferredValue:function(t){var e=at();return op(e,me.memoizedState,t)},useTransition:function(){var t=sa(Ti)[0],e=at().memoizedState;return[t,e]},useMutableSource:Vf,useSyncExternalStore:Yf,useId:ap,unstable_isNewReconciler:!1},p0={readContext:ot,useCallback:ip,useContext:ot,useEffect:Ru,useImperativeHandle:rp,useInsertionEffect:ep,useLayoutEffect:tp,useMemo:sp,useReducer:oa,useRef:Jf,useState:function(){return oa(Ti)},useDebugValue:Iu,useDeferredValue:function(t){var e=at();return me===null?e.memoizedState=t:op(e,me.memoizedState,t)},useTransition:function(){var t=oa(Ti)[0],e=at().memoizedState;return[t,e]},useMutableSource:Vf,useSyncExternalStore:Yf,useId:ap,unstable_isNewReconciler:!1};function ct(t,e){if(t&&t.defaultProps){e=le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function pl(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ao={isMounted:function(t){return(t=t._reactInternals)?Vn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Fe(),i=cn(t),s=Ot(r,i);s.payload=e,n!=null&&(s.callback=n),e=ln(t,s,i),e!==null&&(mt(e,t,i,r),Ts(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Fe(),i=cn(t),s=Ot(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ln(t,s,i),e!==null&&(mt(e,t,i,r),Ts(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Fe(),r=cn(t),i=Ot(n,r);i.tag=2,e!=null&&(i.callback=e),e=ln(t,i,r),e!==null&&(mt(e,t,r,n),Ts(e,t,r))}};function qc(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Si(n,r)||!Si(i,s):!0}function hp(t,e,n){var r=!1,i=fn,s=e.contextType;return typeof s=="object"&&s!==null?s=ot(s):(i=Ue(e)?zn:Ee.current,r=e.contextTypes,s=(r=r!=null)?xr(t,i):fn),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ao,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Kc(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ao.enqueueReplaceState(e,e.state,null)}function ml(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ku(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ot(s):(s=Ue(e)?zn:Ee.current,i.context=xr(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(pl(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Ao.enqueueReplaceState(i,i.state,null),eo(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Sr(t,e){try{var n="",r=e;do n+=Ug(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function aa(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function gl(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var m0=typeof WeakMap=="function"?WeakMap:Map;function dp(t,e,n){n=Ot(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){so||(so=!0,Pl=r),gl(t,e)},n}function fp(t,e,n){n=Ot(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){gl(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){gl(t,e),typeof r!="function"&&(un===null?un=new Set([this]):un.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qc(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new m0;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=T0.bind(null,t,e,n),e.then(t,t))}function Zc(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Jc(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ot(-1,1),e.tag=2,ln(n,e,1))),n.lanes|=1),t)}var g0=Vt.ReactCurrentOwner,je=!1;function Re(t,e,n,r){e.child=t===null?Uf(e,null,n,r):vr(e,t.child,n,r)}function eh(t,e,n,r,i){n=n.render;var s=e.ref;return fr(e,i),r=Tu(t,e,n,r,s,i),n=Eu(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$t(t,e,i)):(ie&&n&&yu(e),e.flags|=1,Re(t,e,r,i),e.child)}function th(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!ju(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,pp(t,e,s,r,i)):(t=Bs(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Si,n(o,r)&&t.ref===e.ref)return $t(t,e,i)}return e.flags|=1,t=hn(s,r),t.ref=e.ref,t.return=e,e.child=t}function pp(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Si(s,r)&&t.ref===e.ref)if(je=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(je=!0);else return e.lanes=t.lanes,$t(t,e,i)}return yl(t,e,n,r,i)}function mp(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Q(ar,Ve),Ve|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Q(ar,Ve),Ve|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Q(ar,Ve),Ve|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Q(ar,Ve),Ve|=r;return Re(t,e,i,n),e.child}function gp(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function yl(t,e,n,r,i){var s=Ue(n)?zn:Ee.current;return s=xr(e,s),fr(e,i),n=Tu(t,e,n,r,s,i),r=Eu(),t!==null&&!je?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,$t(t,e,i)):(ie&&r&&yu(e),e.flags|=1,Re(t,e,n,i),e.child)}function nh(t,e,n,r,i){if(Ue(n)){var s=!0;qs(e)}else s=!1;if(fr(e,i),e.stateNode===null)Is(t,e),hp(e,n,r),ml(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=ot(u):(u=Ue(n)?zn:Ee.current,u=xr(e,u));var c=n.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&Kc(e,o,r,u),Qt=!1;var d=e.memoizedState;o.state=d,eo(e,r,o,i),l=e.memoizedState,a!==r||d!==l||Ge.current||Qt?(typeof c=="function"&&(pl(e,n,c,r),l=e.memoizedState),(a=Qt||qc(e,n,a,r,d,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,$f(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:ct(e.type,a),o.props=u,h=e.pendingProps,d=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=ot(l):(l=Ue(n)?zn:Ee.current,l=xr(e,l));var f=n.getDerivedStateFromProps;(c=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||d!==l)&&Kc(e,o,r,l),Qt=!1,d=e.memoizedState,o.state=d,eo(e,r,o,i);var g=e.memoizedState;a!==h||d!==g||Ge.current||Qt?(typeof f=="function"&&(pl(e,n,f,r),g=e.memoizedState),(u=Qt||qc(e,n,u,r,d,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return xl(t,e,n,r,s,i)}function xl(t,e,n,r,i,s){gp(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Gc(e,n,!1),$t(t,e,s);r=e.stateNode,g0.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=vr(e,t.child,null,s),e.child=vr(e,null,a,s)):Re(t,e,a,s),e.memoizedState=r.state,i&&Gc(e,n,!0),e.child}function yp(t){var e=t.stateNode;e.pendingContext?jc(t,e.pendingContext,e.pendingContext!==e.context):e.context&&jc(t,e.context,!1),Au(t,e.containerInfo)}function rh(t,e,n,r,i){return _r(),_u(i),e.flags|=256,Re(t,e,n,r),e.child}var _l={dehydrated:null,treeContext:null,retryLane:0};function vl(t){return{baseLanes:t,cachePool:null,transitions:null}}function xp(t,e,n){var r=e.pendingProps,i=se.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Q(se,i&1),t===null)return dl(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Mo(o,r,0,null),t=Bn(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=vl(n),e.memoizedState=_l,t):Fu(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return y0(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=hn(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=hn(a,s):(s=Bn(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?vl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=_l,r}return s=t.child,t=s.sibling,r=hn(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Fu(t,e){return e=Mo({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function is(t,e,n,r){return r!==null&&_u(r),vr(e,t.child,null,n),t=Fu(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function y0(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=aa(Error(P(422))),is(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Mo({mode:"visible",children:r.children},i,0,null),s=Bn(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&vr(e,t.child,null,o),e.child.memoizedState=vl(o),e.memoizedState=_l,s);if(!(e.mode&1))return is(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(P(419)),r=aa(s,r,void 0),is(t,e,o,r)}if(a=(o&t.childLanes)!==0,je||a){if(r=ve,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Wt(t,i),mt(r,t,i,-1))}return Du(),r=aa(Error(P(421))),is(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E0.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ye=an(i.nextSibling),Xe=e,ie=!0,dt=null,t!==null&&(Je[et++]=Bt,Je[et++]=zt,Je[et++]=On,Bt=t.id,zt=t.overflow,On=e),e=Fu(e,r.children),e.flags|=4096,e)}function ih(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),fl(t.return,e,n)}function la(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _p(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Re(t,e,r.children,n),r=se.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ih(t,n,e);else if(t.tag===19)ih(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Q(se,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&to(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),la(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&to(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}la(e,!0,n,null,s);break;case"together":la(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Is(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function $t(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Dn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=hn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=hn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function x0(t,e,n){switch(e.tag){case 3:yp(e),_r();break;case 5:Hf(e);break;case 1:Ue(e.type)&&qs(e);break;case 4:Au(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Q(Zs,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Q(se,se.current&1),e.flags|=128,null):n&e.child.childLanes?xp(t,e,n):(Q(se,se.current&1),t=$t(t,e,n),t!==null?t.sibling:null);Q(se,se.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _p(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Q(se,se.current),r)break;return null;case 22:case 23:return e.lanes=0,mp(t,e,n)}return $t(t,e,n)}var vp,wl,wp,Sp;vp=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};wl=function(){};wp=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,In(Et.current);var s=null;switch(n){case"input":i=Wa(t,i),r=Wa(t,r),s=[];break;case"select":i=le({},i,{value:void 0}),r=le({},r,{value:void 0}),s=[];break;case"textarea":i=Va(t,i),r=Va(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Ys)}Xa(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(mi.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i?.[u],r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(mi.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Z("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};Sp=function(t,e,n,r){n!==r&&(e.flags|=4)};function Nr(t,e){if(!ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Pe(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function _0(t,e,n){var r=e.pendingProps;switch(xu(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(e),null;case 1:return Ue(e.type)&&Xs(),Pe(e),null;case 3:return r=e.stateNode,wr(),te(Ge),te(Ee),bu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(ns(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,dt!==null&&(Tl(dt),dt=null))),wl(t,e),Pe(e),null;case 5:Pu(e);var i=In(bi.current);if(n=e.type,t!==null&&e.stateNode!=null)wp(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Pe(e),null}if(t=In(Et.current),ns(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Mt]=e,r[Ai]=s,t=(e.mode&1)!==0,n){case"dialog":Z("cancel",r),Z("close",r);break;case"iframe":case"object":case"embed":Z("load",r);break;case"video":case"audio":for(i=0;i<qr.length;i++)Z(qr[i],r);break;case"source":Z("error",r);break;case"img":case"image":case"link":Z("error",r),Z("load",r);break;case"details":Z("toggle",r);break;case"input":fc(r,s),Z("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Z("invalid",r);break;case"textarea":mc(r,s),Z("invalid",r)}Xa(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&ts(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ts(r.textContent,a,t),i=["children",""+a]):mi.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Z("scroll",r)}switch(n){case"input":Yi(r),pc(r,s,!0);break;case"textarea":Yi(r),gc(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ys)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=qd(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Mt]=e,t[Ai]=r,vp(t,e,!1,!1),e.stateNode=t;e:{switch(o=qa(n,r),n){case"dialog":Z("cancel",t),Z("close",t),i=r;break;case"iframe":case"object":case"embed":Z("load",t),i=r;break;case"video":case"audio":for(i=0;i<qr.length;i++)Z(qr[i],t);i=r;break;case"source":Z("error",t),i=r;break;case"img":case"image":case"link":Z("error",t),Z("load",t),i=r;break;case"details":Z("toggle",t),i=r;break;case"input":fc(t,r),i=Wa(t,r),Z("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=le({},r,{value:void 0}),Z("invalid",t);break;case"textarea":mc(t,r),i=Va(t,r),Z("invalid",t);break;default:i=r}Xa(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?Zd(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Kd(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gi(t,l):typeof l=="number"&&gi(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mi.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Z("scroll",t):l!=null&&ru(t,s,l,o))}switch(n){case"input":Yi(t),pc(t,r,!1);break;case"textarea":Yi(t),gc(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dn(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?ur(t,!!r.multiple,s,!1):r.defaultValue!=null&&ur(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Ys)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pe(e),null;case 6:if(t&&e.stateNode!=null)Sp(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=In(bi.current),In(Et.current),ns(e)){if(r=e.stateNode,n=e.memoizedProps,r[Mt]=e,(s=r.nodeValue!==n)&&(t=Xe,t!==null))switch(t.tag){case 3:ts(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ts(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Mt]=e,e.stateNode=r}return Pe(e),null;case 13:if(te(se),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ie&&Ye!==null&&e.mode&1&&!(e.flags&128))jf(),_r(),e.flags|=98560,s=!1;else if(s=ns(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(P(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(P(317));s[Mt]=e}else _r(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pe(e),s=!1}else dt!==null&&(Tl(dt),dt=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||se.current&1?ge===0&&(ge=3):Du())),e.updateQueue!==null&&(e.flags|=4),Pe(e),null);case 4:return wr(),wl(t,e),t===null&&Ci(e.stateNode.containerInfo),Pe(e),null;case 10:return Su(e.type._context),Pe(e),null;case 17:return Ue(e.type)&&Xs(),Pe(e),null;case 19:if(te(se),s=e.memoizedState,s===null)return Pe(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Nr(s,!1);else{if(ge!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=to(t),o!==null){for(e.flags|=128,Nr(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Q(se,se.current&1|2),e.child}t=t.sibling}s.tail!==null&&de()>Cr&&(e.flags|=128,r=!0,Nr(s,!1),e.lanes=4194304)}else{if(!r)if(t=to(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Nr(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ie)return Pe(e),null}else 2*de()-s.renderingStartTime>Cr&&n!==1073741824&&(e.flags|=128,r=!0,Nr(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=de(),e.sibling=null,n=se.current,Q(se,r?n&1|2:n&1),e):(Pe(e),null);case 22:case 23:return Nu(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ve&1073741824&&(Pe(e),e.subtreeFlags&6&&(e.flags|=8192)):Pe(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function v0(t,e){switch(xu(e),e.tag){case 1:return Ue(e.type)&&Xs(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wr(),te(Ge),te(Ee),bu(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Pu(e),null;case 13:if(te(se),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));_r()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return te(se),null;case 4:return wr(),null;case 10:return Su(e.type._context),null;case 22:case 23:return Nu(),null;case 24:return null;default:return null}}var ss=!1,Me=!1,w0=typeof WeakSet=="function"?WeakSet:Set,I=null;function or(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ce(t,e,r)}else n.current=null}function Sl(t,e,n){try{n()}catch(r){ce(t,e,r)}}var sh=!1;function S0(t,e){if(sl=$s,t=bf(),gu(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,d=null;t:for(;;){for(var f;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(f=h.firstChild)!==null;)d=h,h=f;for(;;){if(h===t)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),(f=h.nextSibling)!==null)break;h=d,d=h.parentNode}h=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(ol={focusedElem:t,selectionRange:n},$s=!1,I=e;I!==null;)if(e=I,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,I=t;else for(;I!==null;){e=I;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var x=g.memoizedProps,_=g.memoizedState,m=e.stateNode,p=m.getSnapshotBeforeUpdate(e.elementType===e.type?x:ct(e.type,x),_);m.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(v){ce(e,e.return,v)}if(t=e.sibling,t!==null){t.return=e.return,I=t;break}I=e.return}return g=sh,sh=!1,g}function ai(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Sl(e,n,s)}i=i.next}while(i!==r)}}function Po(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Cl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cp(t){var e=t.alternate;e!==null&&(t.alternate=null,Cp(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Mt],delete e[Ai],delete e[ul],delete e[i0],delete e[s0])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function kp(t){return t.tag===5||t.tag===3||t.tag===4}function oh(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||kp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Ys));else if(r!==4&&(t=t.child,t!==null))for(kl(t,e,n),t=t.sibling;t!==null;)kl(t,e,n),t=t.sibling}function Al(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Al(t,e,n),t=t.sibling;t!==null;)Al(t,e,n),t=t.sibling}var we=null,ht=!1;function qt(t,e,n){for(n=n.child;n!==null;)Ap(t,e,n),n=n.sibling}function Ap(t,e,n){if(Tt&&typeof Tt.onCommitFiberUnmount=="function")try{Tt.onCommitFiberUnmount(xo,n)}catch{}switch(n.tag){case 5:Me||or(n,e);case 6:var r=we,i=ht;we=null,qt(t,e,n),we=r,ht=i,we!==null&&(ht?(t=we,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):we.removeChild(n.stateNode));break;case 18:we!==null&&(ht?(t=we,n=n.stateNode,t.nodeType===8?ta(t.parentNode,n):t.nodeType===1&&ta(t,n),vi(t)):ta(we,n.stateNode));break;case 4:r=we,i=ht,we=n.stateNode.containerInfo,ht=!0,qt(t,e,n),we=r,ht=i;break;case 0:case 11:case 14:case 15:if(!Me&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Sl(n,e,o),i=i.next}while(i!==r)}qt(t,e,n);break;case 1:if(!Me&&(or(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ce(n,e,a)}qt(t,e,n);break;case 21:qt(t,e,n);break;case 22:n.mode&1?(Me=(r=Me)||n.memoizedState!==null,qt(t,e,n),Me=r):qt(t,e,n);break;default:qt(t,e,n)}}function ah(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new w0),e.forEach(function(r){var i=R0.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function lt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:we=a.stateNode,ht=!1;break e;case 3:we=a.stateNode.containerInfo,ht=!0;break e;case 4:we=a.stateNode.containerInfo,ht=!0;break e}a=a.return}if(we===null)throw Error(P(160));Ap(s,o,i),we=null,ht=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){ce(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pp(e,t),e=e.sibling}function Pp(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(lt(e,t),Ct(t),r&4){try{ai(3,t,t.return),Po(3,t)}catch(x){ce(t,t.return,x)}try{ai(5,t,t.return)}catch(x){ce(t,t.return,x)}}break;case 1:lt(e,t),Ct(t),r&512&&n!==null&&or(n,n.return);break;case 5:if(lt(e,t),Ct(t),r&512&&n!==null&&or(n,n.return),t.flags&32){var i=t.stateNode;try{gi(i,"")}catch(x){ce(t,t.return,x)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Yd(i,s),qa(a,o);var u=qa(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?Zd(i,h):c==="dangerouslySetInnerHTML"?Kd(i,h):c==="children"?gi(i,h):ru(i,c,h,u)}switch(a){case"input":$a(i,s);break;case"textarea":Xd(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?ur(i,!!s.multiple,f,!1):d!==!!s.multiple&&(s.defaultValue!=null?ur(i,!!s.multiple,s.defaultValue,!0):ur(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ai]=s}catch(x){ce(t,t.return,x)}}break;case 6:if(lt(e,t),Ct(t),r&4){if(t.stateNode===null)throw Error(P(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){ce(t,t.return,x)}}break;case 3:if(lt(e,t),Ct(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{vi(e.containerInfo)}catch(x){ce(t,t.return,x)}break;case 4:lt(e,t),Ct(t);break;case 13:lt(e,t),Ct(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zu=de())),r&4&&ah(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Me=(u=Me)||c,lt(e,t),Me=u):lt(e,t),Ct(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(I=t,c=t.child;c!==null;){for(h=I=c;I!==null;){switch(d=I,f=d.child,d.tag){case 0:case 11:case 14:case 15:ai(4,d,d.return);break;case 1:or(d,d.return);var g=d.stateNode;if(typeof g.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(x){ce(r,n,x)}}break;case 5:or(d,d.return);break;case 22:if(d.memoizedState!==null){uh(h);continue}}f!==null?(f.return=d,I=f):uh(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Qd("display",o))}catch(x){ce(t,t.return,x)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(x){ce(t,t.return,x)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:lt(e,t),Ct(t),r&4&&ah(t);break;case 21:break;default:lt(e,t),Ct(t)}}function Ct(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(kp(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gi(i,""),r.flags&=-33);var s=oh(t);Al(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=oh(t);kl(t,a,o);break;default:throw Error(P(161))}}catch(l){ce(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function C0(t,e,n){I=t,bp(t)}function bp(t,e,n){for(var r=(t.mode&1)!==0;I!==null;){var i=I,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||ss;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Me;a=ss;var u=Me;if(ss=o,(Me=l)&&!u)for(I=i;I!==null;)o=I,l=o.child,o.tag===22&&o.memoizedState!==null?ch(i):l!==null?(l.return=o,I=l):ch(i);for(;s!==null;)I=s,bp(s),s=s.sibling;I=i,ss=a,Me=u}lh(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,I=s):lh(t)}}function lh(t){for(;I!==null;){var e=I;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Me||Po(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Me)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:ct(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Vc(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Vc(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&vi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}Me||e.flags&512&&Cl(e)}catch(d){ce(e,e.return,d)}}if(e===t){I=null;break}if(n=e.sibling,n!==null){n.return=e.return,I=n;break}I=e.return}}function uh(t){for(;I!==null;){var e=I;if(e===t){I=null;break}var n=e.sibling;if(n!==null){n.return=e.return,I=n;break}I=e.return}}function ch(t){for(;I!==null;){var e=I;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Po(4,e)}catch(l){ce(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ce(e,i,l)}}var s=e.return;try{Cl(e)}catch(l){ce(e,s,l)}break;case 5:var o=e.return;try{Cl(e)}catch(l){ce(e,o,l)}}}catch(l){ce(e,e.return,l)}if(e===t){I=null;break}var a=e.sibling;if(a!==null){a.return=e.return,I=a;break}I=e.return}}var k0=Math.ceil,io=Vt.ReactCurrentDispatcher,Lu=Vt.ReactCurrentOwner,it=Vt.ReactCurrentBatchConfig,W=0,ve=null,pe=null,Se=0,Ve=0,ar=mn(0),ge=0,Ri=null,Dn=0,bo=0,Bu=0,li=null,ze=null,zu=0,Cr=1/0,Ft=null,so=!1,Pl=null,un=null,os=!1,tn=null,oo=0,ui=0,bl=null,Fs=-1,Ls=0;function Fe(){return W&6?de():Fs!==-1?Fs:Fs=de()}function cn(t){return t.mode&1?W&2&&Se!==0?Se&-Se:a0.transition!==null?(Ls===0&&(Ls=hf()),Ls):(t=V,t!==0||(t=window.event,t=t===void 0?16:xf(t.type)),t):1}function mt(t,e,n,r){if(50<ui)throw ui=0,bl=null,Error(P(185));Ni(t,n,r),(!(W&2)||t!==ve)&&(t===ve&&(!(W&2)&&(bo|=n),ge===4&&Jt(t,Se)),We(t,r),n===1&&W===0&&!(e.mode&1)&&(Cr=de()+500,Co&&gn()))}function We(t,e){var n=t.callbackNode;ay(t,e);var r=Ws(t,t===ve?Se:0);if(r===0)n!==null&&_c(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_c(n),e===1)t.tag===0?o0(hh.bind(null,t)):Of(hh.bind(null,t)),n0(function(){!(W&6)&&gn()}),n=null;else{switch(df(r)){case 1:n=lu;break;case 4:n=uf;break;case 16:n=Us;break;case 536870912:n=cf;break;default:n=Us}n=Bp(n,Mp.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Mp(t,e){if(Fs=-1,Ls=0,W&6)throw Error(P(327));var n=t.callbackNode;if(pr()&&t.callbackNode!==n)return null;var r=Ws(t,t===ve?Se:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ao(t,r);else{e=r;var i=W;W|=2;var s=Ep();(ve!==t||Se!==e)&&(Ft=null,Cr=de()+500,Ln(t,e));do try{b0();break}catch(a){Tp(t,a)}while(1);wu(),io.current=s,W=i,pe!==null?e=0:(ve=null,Se=0,e=ge)}if(e!==0){if(e===2&&(i=el(t),i!==0&&(r=i,e=Ml(t,i))),e===1)throw n=Ri,Ln(t,0),Jt(t,r),We(t,de()),n;if(e===6)Jt(t,r);else{if(i=t.current.alternate,!(r&30)&&!A0(i)&&(e=ao(t,r),e===2&&(s=el(t),s!==0&&(r=s,e=Ml(t,s))),e===1))throw n=Ri,Ln(t,0),Jt(t,r),We(t,de()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:An(t,ze,Ft);break;case 3:if(Jt(t,r),(r&130023424)===r&&(e=zu+500-de(),10<e)){if(Ws(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Fe(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ll(An.bind(null,t,ze,Ft),e);break}An(t,ze,Ft);break;case 4:if(Jt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-pt(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=de()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k0(r/1960))-r,10<r){t.timeoutHandle=ll(An.bind(null,t,ze,Ft),r);break}An(t,ze,Ft);break;case 5:An(t,ze,Ft);break;default:throw Error(P(329))}}}return We(t,de()),t.callbackNode===n?Mp.bind(null,t):null}function Ml(t,e){var n=li;return t.current.memoizedState.isDehydrated&&(Ln(t,e).flags|=256),t=ao(t,e),t!==2&&(e=ze,ze=n,e!==null&&Tl(e)),t}function Tl(t){ze===null?ze=t:ze.push.apply(ze,t)}function A0(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gt(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Jt(t,e){for(e&=~Bu,e&=~bo,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pt(e),r=1<<n;t[n]=-1,e&=~r}}function hh(t){if(W&6)throw Error(P(327));pr();var e=Ws(t,0);if(!(e&1))return We(t,de()),null;var n=ao(t,e);if(t.tag!==0&&n===2){var r=el(t);r!==0&&(e=r,n=Ml(t,r))}if(n===1)throw n=Ri,Ln(t,0),Jt(t,e),We(t,de()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,An(t,ze,Ft),We(t,de()),null}function Ou(t,e){var n=W;W|=1;try{return t(e)}finally{W=n,W===0&&(Cr=de()+500,Co&&gn())}}function jn(t){tn!==null&&tn.tag===0&&!(W&6)&&pr();var e=W;W|=1;var n=it.transition,r=V;try{if(it.transition=null,V=1,t)return t()}finally{V=r,it.transition=n,W=e,!(W&6)&&gn()}}function Nu(){Ve=ar.current,te(ar)}function Ln(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,t0(n)),pe!==null)for(n=pe.return;n!==null;){var r=n;switch(xu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xs();break;case 3:wr(),te(Ge),te(Ee),bu();break;case 5:Pu(r);break;case 4:wr();break;case 13:te(se);break;case 19:te(se);break;case 10:Su(r.type._context);break;case 22:case 23:Nu()}n=n.return}if(ve=t,pe=t=hn(t.current,null),Se=Ve=e,ge=0,Ri=null,Bu=bo=Dn=0,ze=li=null,Rn!==null){for(e=0;e<Rn.length;e++)if(n=Rn[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Rn=null}return t}function Tp(t,e){do{var n=pe;try{if(wu(),Es.current=ro,no){for(var r=ae.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}no=!1}if(Nn=0,xe=me=ae=null,oi=!1,Mi=0,Lu.current=null,n===null||n.return===null){ge=1,Ri=e,pe=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Se,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=Zc(o);if(f!==null){f.flags&=-257,Jc(f,o,a,s,e),f.mode&1&&Qc(s,u,e),e=f,l=u;var g=e.updateQueue;if(g===null){var x=new Set;x.add(l),e.updateQueue=x}else g.add(l);break e}else{if(!(e&1)){Qc(s,u,e),Du();break e}l=Error(P(426))}}else if(ie&&a.mode&1){var _=Zc(o);if(_!==null){!(_.flags&65536)&&(_.flags|=256),Jc(_,o,a,s,e),_u(Sr(l,a));break e}}s=l=Sr(l,a),ge!==4&&(ge=2),li===null?li=[s]:li.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=dp(s,l,e);Hc(s,m);break e;case 1:a=l;var p=s.type,y=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(un===null||!un.has(y)))){s.flags|=65536,e&=-e,s.lanes|=e;var v=fp(s,a,e);Hc(s,v);break e}}s=s.return}while(s!==null)}Ip(n)}catch(C){e=C,pe===n&&n!==null&&(pe=n=n.return);continue}break}while(1)}function Ep(){var t=io.current;return io.current=ro,t===null?ro:t}function Du(){(ge===0||ge===3||ge===2)&&(ge=4),ve===null||!(Dn&268435455)&&!(bo&268435455)||Jt(ve,Se)}function ao(t,e){var n=W;W|=2;var r=Ep();(ve!==t||Se!==e)&&(Ft=null,Ln(t,e));do try{P0();break}catch(i){Tp(t,i)}while(1);if(wu(),W=n,io.current=r,pe!==null)throw Error(P(261));return ve=null,Se=0,ge}function P0(){for(;pe!==null;)Rp(pe)}function b0(){for(;pe!==null&&!Zg();)Rp(pe)}function Rp(t){var e=Lp(t.alternate,t,Ve);t.memoizedProps=t.pendingProps,e===null?Ip(t):pe=e,Lu.current=null}function Ip(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=v0(n,e),n!==null){n.flags&=32767,pe=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ge=6,pe=null;return}}else if(n=_0(n,e,Ve),n!==null){pe=n;return}if(e=e.sibling,e!==null){pe=e;return}pe=e=t}while(e!==null);ge===0&&(ge=5)}function An(t,e,n){var r=V,i=it.transition;try{it.transition=null,V=1,M0(t,e,n,r)}finally{it.transition=i,V=r}return null}function M0(t,e,n,r){do pr();while(tn!==null);if(W&6)throw Error(P(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(ly(t,s),t===ve&&(pe=ve=null,Se=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||os||(os=!0,Bp(Us,function(){return pr(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=it.transition,it.transition=null;var o=V;V=1;var a=W;W|=4,Lu.current=null,S0(t,n),Pp(n,t),Xy(ol),$s=!!sl,ol=sl=null,t.current=n,C0(n),Jg(),W=a,V=o,it.transition=s}else t.current=n;if(os&&(os=!1,tn=t,oo=i),s=t.pendingLanes,s===0&&(un=null),ny(n.stateNode),We(t,de()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(so)throw so=!1,t=Pl,Pl=null,t;return oo&1&&t.tag!==0&&pr(),s=t.pendingLanes,s&1?t===bl?ui++:(ui=0,bl=t):ui=0,gn(),null}function pr(){if(tn!==null){var t=df(oo),e=it.transition,n=V;try{if(it.transition=null,V=16>t?16:t,tn===null)var r=!1;else{if(t=tn,tn=null,oo=0,W&6)throw Error(P(331));var i=W;for(W|=4,I=t.current;I!==null;){var s=I,o=s.child;if(I.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(I=u;I!==null;){var c=I;switch(c.tag){case 0:case 11:case 15:ai(8,c,s)}var h=c.child;if(h!==null)h.return=c,I=h;else for(;I!==null;){c=I;var d=c.sibling,f=c.return;if(Cp(c),c===u){I=null;break}if(d!==null){d.return=f,I=d;break}I=f}}}var g=s.alternate;if(g!==null){var x=g.child;if(x!==null){g.child=null;do{var _=x.sibling;x.sibling=null,x=_}while(x!==null)}}I=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,I=o;else e:for(;I!==null;){if(s=I,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ai(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,I=m;break e}I=s.return}}var p=t.current;for(I=p;I!==null;){o=I;var y=o.child;if(o.subtreeFlags&2064&&y!==null)y.return=o,I=y;else e:for(o=p;I!==null;){if(a=I,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Po(9,a)}}catch(C){ce(a,a.return,C)}if(a===o){I=null;break e}var v=a.sibling;if(v!==null){v.return=a.return,I=v;break e}I=a.return}}if(W=i,gn(),Tt&&typeof Tt.onPostCommitFiberRoot=="function")try{Tt.onPostCommitFiberRoot(xo,t)}catch{}r=!0}return r}finally{V=n,it.transition=e}}return!1}function dh(t,e,n){e=Sr(n,e),e=dp(t,e,1),t=ln(t,e,1),e=Fe(),t!==null&&(Ni(t,1,e),We(t,e))}function ce(t,e,n){if(t.tag===3)dh(t,t,n);else for(;e!==null;){if(e.tag===3){dh(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(un===null||!un.has(r))){t=Sr(n,t),t=fp(e,t,1),e=ln(e,t,1),t=Fe(),e!==null&&(Ni(e,1,t),We(e,t));break}}e=e.return}}function T0(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Fe(),t.pingedLanes|=t.suspendedLanes&n,ve===t&&(Se&n)===n&&(ge===4||ge===3&&(Se&130023424)===Se&&500>de()-zu?Ln(t,0):Bu|=n),We(t,e)}function Fp(t,e){e===0&&(t.mode&1?(e=Ki,Ki<<=1,!(Ki&130023424)&&(Ki=4194304)):e=1);var n=Fe();t=Wt(t,e),t!==null&&(Ni(t,e,n),We(t,n))}function E0(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fp(t,n)}function R0(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),Fp(t,n)}var Lp;Lp=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ge.current)je=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return je=!1,x0(t,e,n);je=!!(t.flags&131072)}else je=!1,ie&&e.flags&1048576&&Nf(e,Qs,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Is(t,e),t=e.pendingProps;var i=xr(e,Ee.current);fr(e,n),i=Tu(null,e,r,t,i,n);var s=Eu();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ue(r)?(s=!0,qs(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ku(e),i.updater=Ao,e.stateNode=i,i._reactInternals=e,ml(e,r,t,n),e=xl(null,e,r,!0,s,n)):(e.tag=0,ie&&s&&yu(e),Re(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Is(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=F0(r),t=ct(r,t),i){case 0:e=yl(null,e,r,t,n);break e;case 1:e=nh(null,e,r,t,n);break e;case 11:e=eh(null,e,r,t,n);break e;case 14:e=th(null,e,r,ct(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ct(r,i),yl(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ct(r,i),nh(t,e,r,i,n);case 3:e:{if(yp(e),t===null)throw Error(P(387));r=e.pendingProps,s=e.memoizedState,i=s.element,$f(t,e),eo(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Sr(Error(P(423)),e),e=rh(t,e,r,n,i);break e}else if(r!==i){i=Sr(Error(P(424)),e),e=rh(t,e,r,n,i);break e}else for(Ye=an(e.stateNode.containerInfo.firstChild),Xe=e,ie=!0,dt=null,n=Uf(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(_r(),r===i){e=$t(t,e,n);break e}Re(t,e,r,n)}e=e.child}return e;case 5:return Hf(e),t===null&&dl(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,al(r,i)?o=null:s!==null&&al(r,s)&&(e.flags|=32),gp(t,e),Re(t,e,o,n),e.child;case 6:return t===null&&dl(e),null;case 13:return xp(t,e,n);case 4:return Au(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=vr(e,null,r,n):Re(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ct(r,i),eh(t,e,r,i,n);case 7:return Re(t,e,e.pendingProps,n),e.child;case 8:return Re(t,e,e.pendingProps.children,n),e.child;case 12:return Re(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Q(Zs,r._currentValue),r._currentValue=o,s!==null)if(gt(s.value,o)){if(s.children===i.children&&!Ge.current){e=$t(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ot(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),fl(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(P(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),fl(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Re(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,fr(e,n),i=ot(i),r=r(i),e.flags|=1,Re(t,e,r,n),e.child;case 14:return r=e.type,i=ct(r,e.pendingProps),i=ct(r.type,i),th(t,e,r,i,n);case 15:return pp(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:ct(r,i),Is(t,e),e.tag=1,Ue(r)?(t=!0,qs(e)):t=!1,fr(e,n),hp(e,r,i),ml(e,r,i,n),xl(null,e,r,!0,t,n);case 19:return _p(t,e,n);case 22:return mp(t,e,n)}throw Error(P(156,e.tag))};function Bp(t,e){return lf(t,e)}function I0(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nt(t,e,n,r){return new I0(t,e,n,r)}function ju(t){return t=t.prototype,!(!t||!t.isReactComponent)}function F0(t){if(typeof t=="function")return ju(t)?1:0;if(t!=null){if(t=t.$$typeof,t===su)return 11;if(t===ou)return 14}return 2}function hn(t,e){var n=t.alternate;return n===null?(n=nt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bs(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")ju(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Qn:return Bn(n.children,i,s,e);case iu:o=8,i|=8;break;case Da:return t=nt(12,n,e,i|2),t.elementType=Da,t.lanes=s,t;case ja:return t=nt(13,n,e,i),t.elementType=ja,t.lanes=s,t;case Ga:return t=nt(19,n,e,i),t.elementType=Ga,t.lanes=s,t;case $d:return Mo(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ud:o=10;break e;case Wd:o=9;break e;case su:o=11;break e;case ou:o=14;break e;case Kt:o=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=nt(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Bn(t,e,n,r){return t=nt(7,t,r,e),t.lanes=n,t}function Mo(t,e,n,r){return t=nt(22,t,r,e),t.elementType=$d,t.lanes=n,t.stateNode={isHidden:!1},t}function ua(t,e,n){return t=nt(6,t,null,e),t.lanes=n,t}function ca(t,e,n){return e=nt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function L0(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$o(0),this.expirationTimes=$o(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$o(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Gu(t,e,n,r,i,s,o,a,l){return t=new L0(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=nt(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ku(s),t}function B0(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Kn,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zp(t){if(!t)return fn;t=t._reactInternals;e:{if(Vn(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ue(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(Ue(n))return zf(t,n,e)}return e}function Op(t,e,n,r,i,s,o,a,l){return t=Gu(n,r,!0,t,i,s,o,a,l),t.context=zp(null),n=t.current,r=Fe(),i=cn(n),s=Ot(r,i),s.callback=e??null,ln(n,s,i),t.current.lanes=i,Ni(t,i,r),We(t,r),t}function To(t,e,n,r){var i=e.current,s=Fe(),o=cn(i);return n=zp(n),e.context===null?e.context=n:e.pendingContext=n,e=Ot(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ln(i,e,o),t!==null&&(mt(t,i,o,s),Ts(t,i,o)),o}function lo(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fh(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Uu(t,e){fh(t,e),(t=t.alternate)&&fh(t,e)}function z0(){return null}var Np=typeof reportError=="function"?reportError:function(t){console.error(t)};function Wu(t){this._internalRoot=t}Eo.prototype.render=Wu.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));To(t,e,null,null)};Eo.prototype.unmount=Wu.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jn(function(){To(null,t,null,null)}),e[Ut]=null}};function Eo(t){this._internalRoot=t}Eo.prototype.unstable_scheduleHydration=function(t){if(t){var e=mf();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zt.length&&e!==0&&e<Zt[n].priority;n++);Zt.splice(n,0,t),n===0&&yf(t)}};function $u(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ro(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function ph(){}function O0(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=lo(o);s.call(u)}}var o=Op(e,r,t,0,null,!1,!1,"",ph);return t._reactRootContainer=o,t[Ut]=o.current,Ci(t.nodeType===8?t.parentNode:t),jn(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=lo(l);a.call(u)}}var l=Gu(t,0,!1,null,null,!1,!1,"",ph);return t._reactRootContainer=l,t[Ut]=l.current,Ci(t.nodeType===8?t.parentNode:t),jn(function(){To(e,l,n,r)}),l}function Io(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=lo(o);a.call(l)}}To(e,o,t,i)}else o=O0(n,e,t,i,r);return lo(o)}ff=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Xr(e.pendingLanes);n!==0&&(uu(e,n|1),We(e,de()),!(W&6)&&(Cr=de()+500,gn()))}break;case 13:jn(function(){var r=Wt(t,1);if(r!==null){var i=Fe();mt(r,t,1,i)}}),Uu(t,1)}};cu=function(t){if(t.tag===13){var e=Wt(t,134217728);if(e!==null){var n=Fe();mt(e,t,134217728,n)}Uu(t,134217728)}};pf=function(t){if(t.tag===13){var e=cn(t),n=Wt(t,e);if(n!==null){var r=Fe();mt(n,t,e,r)}Uu(t,e)}};mf=function(){return V};gf=function(t,e){var n=V;try{return V=t,e()}finally{V=n}};Qa=function(t,e,n){switch(e){case"input":if($a(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=So(r);if(!i)throw Error(P(90));Vd(r),$a(r,i)}}}break;case"textarea":Xd(t,n);break;case"select":e=n.value,e!=null&&ur(t,!!n.multiple,e,!1)}};tf=Ou;nf=jn;var N0={usingClientEntryPoint:!1,Events:[ji,tr,So,Jd,ef,Ou]},Dr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},D0={bundleType:Dr.bundleType,version:Dr.version,rendererPackageName:Dr.rendererPackageName,rendererConfig:Dr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=of(t),t===null?null:t.stateNode},findFiberByHostInstance:Dr.findFiberByHostInstance||z0,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var as=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!as.isDisabled&&as.supportsFiber)try{xo=as.inject(D0),Tt=as}catch{}}Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=N0;Qe.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$u(e))throw Error(P(200));return B0(t,e,null,n)};Qe.createRoot=function(t,e){if(!$u(t))throw Error(P(299));var n=!1,r="",i=Np;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Gu(t,1,!1,null,null,n,!1,r,i),t[Ut]=e.current,Ci(t.nodeType===8?t.parentNode:t),new Wu(e)};Qe.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=of(e),t=t===null?null:t.stateNode,t};Qe.flushSync=function(t){return jn(t)};Qe.hydrate=function(t,e,n){if(!Ro(e))throw Error(P(200));return Io(null,t,e,!0,n)};Qe.hydrateRoot=function(t,e,n){if(!$u(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=Np;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Op(e,null,t,1,n??null,i,!1,s,o),t[Ut]=e.current,Ci(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Eo(e)};Qe.render=function(t,e,n){if(!Ro(e))throw Error(P(200));return Io(null,t,e,!1,n)};Qe.unmountComponentAtNode=function(t){if(!Ro(t))throw Error(P(40));return t._reactRootContainer?(jn(function(){Io(null,null,t,!1,function(){t._reactRootContainer=null,t[Ut]=null})}),!0):!1};Qe.unstable_batchedUpdates=Ou;Qe.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ro(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Io(t,e,n,!1,r)};Qe.version="18.3.1-next-f1338f8080-20240426";function Dp(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Dp)}catch(t){console.error(t)}}Dp(),Nd.exports=Qe;var j0=Nd.exports,mh=j0;Oa.createRoot=mh.createRoot,Oa.hydrateRoot=mh.hydrateRoot;const G0="modulepreload",U0=function(t){return"/clean_up/"+t},gh={},uo=function(e,n,r){if(!n||n.length===0)return e();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=U0(s),s in gh)return;gh[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const h=i[c];if(h.href===s&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":G0,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,h)=>{u.addEventListener("load",c),u.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>e()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})};var B=(t=>(t.Application="application",t.WebGLPipes="webgl-pipes",t.WebGLPipesAdaptor="webgl-pipes-adaptor",t.WebGLSystem="webgl-system",t.WebGPUPipes="webgpu-pipes",t.WebGPUPipesAdaptor="webgpu-pipes-adaptor",t.WebGPUSystem="webgpu-system",t.CanvasSystem="canvas-system",t.CanvasPipesAdaptor="canvas-pipes-adaptor",t.CanvasPipes="canvas-pipes",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t.MaskEffect="mask-effect",t.BlendMode="blend-mode",t.TextureSource="texture-source",t.Environment="environment",t.ShapeBuilder="shape-builder",t.Batcher="batcher",t))(B||{});const El=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},ls=(t,e)=>El(t).priority??e,Ce={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(El).forEach(e=>{e.type.forEach(n=>this._removeHandlers[n]?.(e))}),this},add(...t){return t.map(El).forEach(e=>{e.type.forEach(n=>{const r=this._addHandlers,i=this._queue;r[n]?r[n]?.(e):(i[n]=i[n]||[],i[n]?.push(e))})}),this},handle(t,e,n){const r=this._addHandlers,i=this._removeHandlers;if(r[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);r[t]=e,i[t]=n;const s=this._queue;return s[t]&&(s[t]?.forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,n=>{n.name&&(e[n.name]=n.ref)},n=>{n.name&&delete e[n.name]})},handleByNamedList(t,e,n=-1){return this.handle(t,r=>{e.findIndex(s=>s.name===r.name)>=0||(e.push({name:r.name,value:r.ref}),e.sort((s,o)=>ls(o.value,n)-ls(s.value,n)))},r=>{const i=e.findIndex(s=>s.name===r.name);i!==-1&&e.splice(i,1)})},handleByList(t,e,n=-1){return this.handle(t,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>ls(s,n)-ls(i,n)))},r=>{const i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})},mixin(t,...e){for(const n of e)Object.defineProperties(t.prototype,Object.getOwnPropertyDescriptors(n))}},W0={extension:{type:B.Environment,name:"browser",priority:-1},test:()=>!0,load:async()=>{await uo(()=>import("./browserAll-dd5f5685.js"),["assets/browserAll-dd5f5685.js","assets/init-858d7a65.js","assets/colorToUniform-21d3a5e1.js"])}},$0={extension:{type:B.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:async()=>{await uo(()=>import("./webworkerAll-3e47dce9.js"),["assets/webworkerAll-3e47dce9.js","assets/init-858d7a65.js","assets/colorToUniform-21d3a5e1.js"])}};class be{constructor(e,n,r){this._x=n||0,this._y=r||0,this._observer=e}clone(e){return new be(e??this._observer,this._x,this._y)}set(e=0,n=e){return(this._x!==e||this._y!==n)&&(this._x=e,this._y=n,this._observer._onUpdate(this)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this._observer._onUpdate(this)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[pixi.js/math:ObservablePoint x=${this._x} y=${this._y} scope=${this._observer}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this._observer._onUpdate(this))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this._observer._onUpdate(this))}}var jp={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function s(l,u,c,h,d){if(typeof c!="function")throw new TypeError("The listener must be a function");var f=new i(c,h||l,d),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],f]:l._events[g].push(f):(l._events[g]=f,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function a(){this._events=new r,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,h;if(this._eventsCount===0)return u;for(h in c=this._events)e.call(c,h)&&u.push(n?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=n?n+u:u,h=this._events[c];if(!h)return[];if(h.fn)return[h.fn];for(var d=0,f=h.length,g=new Array(f);d<f;d++)g[d]=h[d].fn;return g},a.prototype.listenerCount=function(u){var c=n?n+u:u,h=this._events[c];return h?h.fn?1:h.length:0},a.prototype.emit=function(u,c,h,d,f,g){var x=n?n+u:u;if(!this._events[x])return!1;var _=this._events[x],m=arguments.length,p,y;if(_.fn){switch(_.once&&this.removeListener(u,_.fn,void 0,!0),m){case 1:return _.fn.call(_.context),!0;case 2:return _.fn.call(_.context,c),!0;case 3:return _.fn.call(_.context,c,h),!0;case 4:return _.fn.call(_.context,c,h,d),!0;case 5:return _.fn.call(_.context,c,h,d,f),!0;case 6:return _.fn.call(_.context,c,h,d,f,g),!0}for(y=1,p=new Array(m-1);y<m;y++)p[y-1]=arguments[y];_.fn.apply(_.context,p)}else{var v=_.length,C;for(y=0;y<v;y++)switch(_[y].once&&this.removeListener(u,_[y].fn,void 0,!0),m){case 1:_[y].fn.call(_[y].context);break;case 2:_[y].fn.call(_[y].context,c);break;case 3:_[y].fn.call(_[y].context,c,h);break;case 4:_[y].fn.call(_[y].context,c,h,d);break;default:if(!p)for(C=1,p=new Array(m-1);C<m;C++)p[C-1]=arguments[C];_[y].fn.apply(_[y].context,p)}}return!0},a.prototype.on=function(u,c,h){return s(this,u,c,h,!1)},a.prototype.once=function(u,c,h){return s(this,u,c,h,!0)},a.prototype.removeListener=function(u,c,h,d){var f=n?n+u:u;if(!this._events[f])return this;if(!c)return o(this,f),this;var g=this._events[f];if(g.fn)g.fn===c&&(!d||g.once)&&(!h||g.context===h)&&o(this,f);else{for(var x=0,_=[],m=g.length;x<m;x++)(g[x].fn!==c||d&&!g[x].once||h&&g[x].context!==h)&&_.push(g[x]);_.length?this._events[f]=_.length===1?_[0]:_:o(this,f)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=n,a.EventEmitter=a,t.exports=a})(jp);var H0=jp.exports;const xt=Pd(H0),V0=Math.PI*2,Y0=180/Math.PI,X0=Math.PI/180;class Te{constructor(e=0,n=0){this.x=0,this.y=0,this.x=e,this.y=n}clone(){return new Te(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,n=e){return this.x=e,this.y=n,this}toString(){return`[pixi.js/math:Point x=${this.x} y=${this.y}]`}static get shared(){return ha.x=0,ha.y=0,ha}}const ha=new Te;class G{constructor(e=1,n=0,r=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,n,r,i,s,o){return this.a=e,this.b=n,this.c=r,this.d=i,this.tx=s,this.ty=o,this}toArray(e,n){this.array||(this.array=new Float32Array(9));const r=n||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,n){n=n||new Te;const r=e.x,i=e.y;return n.x=this.a*r+this.c*i+this.tx,n.y=this.b*r+this.d*i+this.ty,n}applyInverse(e,n){n=n||new Te;const r=this.a,i=this.b,s=this.c,o=this.d,a=this.tx,l=this.ty,u=1/(r*o+s*-i),c=e.x,h=e.y;return n.x=o*u*c+-s*u*h+(l*s-a*o)*u,n.y=r*u*h+-i*u*c+(-l*r+a*i)*u,n}translate(e,n){return this.tx+=e,this.ty+=n,this}scale(e,n){return this.a*=e,this.d*=n,this.c*=e,this.b*=n,this.tx*=e,this.ty*=n,this}rotate(e){const n=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*n-this.b*r,this.b=i*r+this.b*n,this.c=s*n-this.d*r,this.d=s*r+this.d*n,this.tx=o*n-this.ty*r,this.ty=o*r+this.ty*n,this}append(e){const n=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*n+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*n+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*n+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}appendFrom(e,n){const r=e.a,i=e.b,s=e.c,o=e.d,a=e.tx,l=e.ty,u=n.a,c=n.b,h=n.c,d=n.d;return this.a=r*u+i*h,this.b=r*c+i*d,this.c=s*u+o*h,this.d=s*c+o*d,this.tx=a*u+l*h+n.tx,this.ty=a*c+l*d+n.ty,this}setTransform(e,n,r,i,s,o,a,l,u){return this.a=Math.cos(a+u)*s,this.b=Math.sin(a+u)*s,this.c=-Math.sin(a-l)*o,this.d=Math.cos(a-l)*o,this.tx=e-(r*this.a+i*this.c),this.ty=n-(r*this.b+i*this.d),this}prepend(e){const n=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=n*e.a+this.ty*e.c+e.tx,this.ty=n*e.b+this.ty*e.d+e.ty,this}decompose(e){const n=this.a,r=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),l=Math.atan2(r,n),u=Math.abs(a+l);return u<1e-5||Math.abs(V0-u)<1e-5?(e.rotation=l,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=l),e.scale.x=Math.sqrt(n*n+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*n+o.y*i),e.position.y=this.ty+(o.x*r+o.y*s),e}invert(){const e=this.a,n=this.b,r=this.c,i=this.d,s=this.tx,o=e*i-n*r;return this.a=i/o,this.b=-n/o,this.c=-r/o,this.d=e/o,this.tx=(r*this.ty-i*s)/o,this.ty=-(e*this.ty-n*s)/o,this}isIdentity(){return this.a===1&&this.b===0&&this.c===0&&this.d===1&&this.tx===0&&this.ty===0}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new G;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}equals(e){return e.a===this.a&&e.b===this.b&&e.c===this.c&&e.d===this.d&&e.tx===this.tx&&e.ty===this.ty}toString(){return`[pixi.js:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return K0.identity()}static get shared(){return q0.identity()}}const q0=new G,K0=new G,Pn=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],bn=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Mn=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Tn=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Rl=[],Gp=[],us=Math.sign;function Q0(){for(let t=0;t<16;t++){const e=[];Rl.push(e);for(let n=0;n<16;n++){const r=us(Pn[t]*Pn[n]+Mn[t]*bn[n]),i=us(bn[t]*Pn[n]+Tn[t]*bn[n]),s=us(Pn[t]*Mn[n]+Mn[t]*Tn[n]),o=us(bn[t]*Mn[n]+Tn[t]*Tn[n]);for(let a=0;a<16;a++)if(Pn[a]===r&&bn[a]===i&&Mn[a]===s&&Tn[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new G;e.set(Pn[t],bn[t],Mn[t],Tn[t],0,0),Gp.push(e)}}Q0();const Y={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>Pn[t],uY:t=>bn[t],vX:t=>Mn[t],vY:t=>Tn[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Rl[t][e],sub:(t,e)=>Rl[t][Y.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Y.S:Y.N:Math.abs(e)*2<=Math.abs(t)?t>0?Y.E:Y.W:e>0?t>0?Y.SE:Y.SW:t>0?Y.NE:Y.NW,matrixAppendRotationInv:(t,e,n=0,r=0)=>{const i=Gp[Y.inv(e)];i.tx=n,i.ty=r,t.append(i)},transformRectCoords:(t,e,n,r)=>{const{x:i,y:s,width:o,height:a}=t,{x:l,y:u,width:c,height:h}=e;return n===Y.E?(r.set(i+l,s+u,o,a),r):n===Y.S?r.set(c-s-a+l,i+u,a,o):n===Y.W?r.set(c-i-o+l,h-s-a+u,o,a):n===Y.N?r.set(s+l,h-i-o+u,a,o):r.set(i+l,s+u,o,a)}},cs=[new Te,new Te,new Te,new Te];class fe{constructor(e=0,n=0,r=0,i=0){this.type="rectangle",this.x=Number(e),this.y=Number(n),this.width=Number(r),this.height=Number(i)}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}isEmpty(){return this.left===this.right||this.top===this.bottom}static get EMPTY(){return new fe(0,0,0,0)}clone(){return new fe(this.x,this.y,this.width,this.height)}copyFromBounds(e){return this.x=e.minX,this.y=e.minY,this.width=e.maxX-e.minX,this.height=e.maxY-e.minY,this}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&n>=this.y&&n<this.y+this.height}strokeContains(e,n,r,i=.5){const{width:s,height:o}=this;if(s<=0||o<=0)return!1;const a=this.x,l=this.y,u=r*(1-i),c=r-u,h=a-u,d=a+s+u,f=l-u,g=l+o+u,x=a+c,_=a+s-c,m=l+c,p=l+o-c;return e>=h&&e<=d&&n>=f&&n<=g&&!(e>x&&e<_&&n>m&&n<p)}intersects(e,n){if(!n){const A=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=A)return!1;const k=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>k}const r=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=r||o<=s)return!1;const a=cs[0].set(e.left,e.top),l=cs[1].set(e.left,e.bottom),u=cs[2].set(e.right,e.top),c=cs[3].set(e.right,e.bottom);if(u.x<=a.x||l.y<=a.y)return!1;const h=Math.sign(n.a*n.d-n.b*n.c);if(h===0||(n.apply(a,a),n.apply(l,l),n.apply(u,u),n.apply(c,c),Math.max(a.x,l.x,u.x,c.x)<=r||Math.min(a.x,l.x,u.x,c.x)>=i||Math.max(a.y,l.y,u.y,c.y)<=s||Math.min(a.y,l.y,u.y,c.y)>=o))return!1;const d=h*(l.y-a.y),f=h*(a.x-l.x),g=d*r+f*s,x=d*i+f*s,_=d*r+f*o,m=d*i+f*o;if(Math.max(g,x,_,m)<=d*a.x+f*a.y||Math.min(g,x,_,m)>=d*c.x+f*c.y)return!1;const p=h*(a.y-u.y),y=h*(u.x-a.x),v=p*r+y*s,C=p*i+y*s,S=p*r+y*o,w=p*i+y*o;return!(Math.max(v,C,S,w)<=p*a.x+y*a.y||Math.min(v,C,S,w)>=p*c.x+y*c.y)}pad(e=0,n=e){return this.x-=e,this.y-=n,this.width+=e*2,this.height+=n*2,this}fit(e){const n=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=n,this.width=Math.max(r-n,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,n=.001){const r=Math.ceil((this.x+this.width-n)*e)/e,i=Math.ceil((this.y+this.height-n)*e)/e;return this.x=Math.floor((this.x+n)*e)/e,this.y=Math.floor((this.y+n)*e)/e,this.width=r-this.x,this.height=i-this.y,this}scale(e,n=e){return this.x*=e,this.y*=n,this.width*=e,this.height*=n,this}enlarge(e){const n=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=n,this.width=r-n,this.y=i,this.height=s-i,this}getBounds(e){return e||(e=new fe),e.copyFrom(this),e}containsRect(e){if(this.width<=0||this.height<=0)return!1;const n=e.x,r=e.y,i=e.x+e.width,s=e.y+e.height;return n>=this.x&&n<this.x+this.width&&r>=this.y&&r<this.y+this.height&&i>=this.x&&i<this.x+this.width&&s>=this.y&&s<this.y+this.height}set(e,n,r,i){return this.x=e,this.y=n,this.width=r,this.height=i,this}toString(){return`[pixi.js/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}const da={default:-1};function he(t="default"){return da[t]===void 0&&(da[t]=-1),++da[t]}const yh=new Set,X="8.0.0",Z0="8.3.4",lr={quiet:!1,noColor:!1},D=(t,e,n=3)=>{if(lr.quiet||yh.has(e))return;let r=new Error().stack;const i=`${e}
Deprecated since v${t}`,s=typeof console.groupCollapsed=="function"&&!lr.noColor;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",i):(r=r.split(`
`).splice(n).join(`
`),s?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",i),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",i),console.warn(r))),yh.add(e)};Object.defineProperties(D,{quiet:{get:()=>lr.quiet,set:t=>{lr.quiet=t},enumerable:!0,configurable:!1},noColor:{get:()=>lr.noColor,set:t=>{lr.noColor=t},enumerable:!0,configurable:!1}});const Up=()=>{};function co(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function xh(t){return!(t&t-1)&&!!t}function Wp(t){const e={};for(const n in t)t[n]!==void 0&&(e[n]=t[n]);return e}const _h=Object.create(null);function J0(t){const e=_h[t];return e===void 0&&(_h[t]=he("resource")),e}const $p=class Hp extends xt{constructor(e={}){super(),this._resourceType="textureSampler",this._touched=0,this._maxAnisotropy=1,this.destroyed=!1,e={...Hp.defaultOptions,...e},this.addressMode=e.addressMode,this.addressModeU=e.addressModeU??this.addressModeU,this.addressModeV=e.addressModeV??this.addressModeV,this.addressModeW=e.addressModeW??this.addressModeW,this.scaleMode=e.scaleMode,this.magFilter=e.magFilter??this.magFilter,this.minFilter=e.minFilter??this.minFilter,this.mipmapFilter=e.mipmapFilter??this.mipmapFilter,this.lodMinClamp=e.lodMinClamp,this.lodMaxClamp=e.lodMaxClamp,this.compare=e.compare,this.maxAnisotropy=e.maxAnisotropy??1}set addressMode(e){this.addressModeU=e,this.addressModeV=e,this.addressModeW=e}get addressMode(){return this.addressModeU}set wrapMode(e){D(X,"TextureStyle.wrapMode is now TextureStyle.addressMode"),this.addressMode=e}get wrapMode(){return this.addressMode}set scaleMode(e){this.magFilter=e,this.minFilter=e,this.mipmapFilter=e}get scaleMode(){return this.magFilter}set maxAnisotropy(e){this._maxAnisotropy=Math.min(e,16),this._maxAnisotropy>1&&(this.scaleMode="linear")}get maxAnisotropy(){return this._maxAnisotropy}get _resourceId(){return this._sharedResourceId||this._generateResourceId()}update(){this.emit("change",this),this._sharedResourceId=null}_generateResourceId(){const e=`${this.addressModeU}-${this.addressModeV}-${this.addressModeW}-${this.magFilter}-${this.minFilter}-${this.mipmapFilter}-${this.lodMinClamp}-${this.lodMaxClamp}-${this.compare}-${this._maxAnisotropy}`;return this._sharedResourceId=J0(e),this._resourceId}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this.removeAllListeners()}};$p.defaultOptions={addressMode:"clamp-to-edge",scaleMode:"linear"};let ho=$p;const Vp=class Yp extends xt{constructor(e={}){super(),this.options=e,this.uid=he("textureSource"),this._resourceType="textureSource",this._resourceId=he("resource"),this.uploadMethodId="unknown",this._resolution=1,this.pixelWidth=1,this.pixelHeight=1,this.width=1,this.height=1,this.sampleCount=1,this.mipLevelCount=1,this.autoGenerateMipmaps=!1,this.format="rgba8unorm",this.dimension="2d",this.antialias=!1,this._touched=0,this._batchTick=-1,this._textureBindLocation=-1,e={...Yp.defaultOptions,...e},this.label=e.label??"",this.resource=e.resource,this.autoGarbageCollect=e.autoGarbageCollect,this._resolution=e.resolution,e.width?this.pixelWidth=e.width*this._resolution:this.pixelWidth=this.resource?this.resourceWidth??1:1,e.height?this.pixelHeight=e.height*this._resolution:this.pixelHeight=this.resource?this.resourceHeight??1:1,this.width=this.pixelWidth/this._resolution,this.height=this.pixelHeight/this._resolution,this.format=e.format,this.dimension=e.dimensions,this.mipLevelCount=e.mipLevelCount,this.autoGenerateMipmaps=e.autoGenerateMipmaps,this.sampleCount=e.sampleCount,this.antialias=e.antialias,this.alphaMode=e.alphaMode,this.style=new ho(Wp(e)),this.destroyed=!1,this._refreshPOT()}get source(){return this}get style(){return this._style}set style(e){this.style!==e&&(this._style?.off("change",this._onStyleChange,this),this._style=e,this._style?.on("change",this._onStyleChange,this),this._onStyleChange())}set maxAnisotropy(e){this._style.maxAnisotropy=e}get maxAnisotropy(){return this._style.maxAnisotropy}get addressMode(){return this._style.addressMode}set addressMode(e){this._style.addressMode=e}get repeatMode(){return this._style.addressMode}set repeatMode(e){this._style.addressMode=e}get magFilter(){return this._style.magFilter}set magFilter(e){this._style.magFilter=e}get minFilter(){return this._style.minFilter}set minFilter(e){this._style.minFilter=e}get mipmapFilter(){return this._style.mipmapFilter}set mipmapFilter(e){this._style.mipmapFilter=e}get lodMinClamp(){return this._style.lodMinClamp}set lodMinClamp(e){this._style.lodMinClamp=e}get lodMaxClamp(){return this._style.lodMaxClamp}set lodMaxClamp(e){this._style.lodMaxClamp=e}_onStyleChange(){this.emit("styleChange",this)}update(){if(this.resource){const e=this._resolution;if(this.resize(this.resourceWidth/e,this.resourceHeight/e))return}this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._style&&(this._style.destroy(),this._style=null),this.uploadMethodId=null,this.resource=null,this.removeAllListeners()}unload(){this._resourceId=he("resource"),this.emit("change",this),this.emit("unload",this)}get resourceWidth(){const{resource:e}=this;return e.naturalWidth||e.videoWidth||e.displayWidth||e.width}get resourceHeight(){const{resource:e}=this;return e.naturalHeight||e.videoHeight||e.displayHeight||e.height}get resolution(){return this._resolution}set resolution(e){this._resolution!==e&&(this._resolution=e,this.width=this.pixelWidth/e,this.height=this.pixelHeight/e)}resize(e,n,r){r||(r=this._resolution),e||(e=this.width),n||(n=this.height);const i=Math.round(e*r),s=Math.round(n*r);return this.width=i/r,this.height=s/r,this._resolution=r,this.pixelWidth===i&&this.pixelHeight===s?!1:(this._refreshPOT(),this.pixelWidth=i,this.pixelHeight=s,this.emit("resize",this),this._resourceId=he("resource"),this.emit("change",this),!0)}updateMipmaps(){this.autoGenerateMipmaps&&this.mipLevelCount>1&&this.emit("updateMipmaps",this)}set wrapMode(e){this._style.wrapMode=e}get wrapMode(){return this._style.wrapMode}set scaleMode(e){this._style.scaleMode=e}get scaleMode(){return this._style.scaleMode}_refreshPOT(){this.isPowerOfTwo=xh(this.pixelWidth)&&xh(this.pixelHeight)}static test(e){throw new Error("Unimplemented")}};Vp.defaultOptions={resolution:1,format:"bgra8unorm",alphaMode:"premultiply-alpha-on-upload",dimensions:"2d",mipLevelCount:1,autoGenerateMipmaps:!1,sampleCount:1,antialias:!1,autoGarbageCollect:!1};let _t=Vp;class Hu extends _t{constructor(e){const n=e.resource||new Float32Array(e.width*e.height*4);let r=e.format;r||(n instanceof Float32Array?r="rgba32float":n instanceof Int32Array||n instanceof Uint32Array?r="rgba32uint":n instanceof Int16Array||n instanceof Uint16Array?r="rgba16uint":(n instanceof Int8Array,r="bgra8unorm")),super({...e,resource:n,format:r}),this.uploadMethodId="buffer"}static test(e){return e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}Hu.extension=B.TextureSource;const vh=new G;class ex{constructor(e,n){this.mapCoord=new G,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,typeof n>"u"?this.clampMargin=e.width<10?0:.5:this.clampMargin=n,this.isSimple=!1,this.texture=e}get texture(){return this._texture}set texture(e){this.texture!==e&&(this._texture?.removeListener("update",this.update,this),this._texture=e,this._texture.addListener("update",this.update,this),this.update())}multiplyUvs(e,n){n===void 0&&(n=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];n[i]=s*r.a+o*r.c+r.tx,n[i+1]=s*r.b+o*r.d+r.ty}return n}update(){const e=this._texture;this._updateID++;const n=e.uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const r=e.orig,i=e.trim;i&&(vh.set(r.width/i.width,0,0,r.height/i.height,-i.x/i.width,-i.y/i.height),this.mapCoord.append(vh));const s=e.source,o=this.uClampFrame,a=this.clampMargin/s._resolution,l=this.clampOffset/s._resolution;return o[0]=(e.frame.x+a+l)/s.width,o[1]=(e.frame.y+a+l)/s.height,o[2]=(e.frame.x+e.frame.width-a+l)/s.width,o[3]=(e.frame.y+e.frame.height-a+l)/s.height,this.uClampOffset[0]=this.clampOffset/s.pixelWidth,this.uClampOffset[1]=this.clampOffset/s.pixelHeight,this.isSimple=e.frame.width===s.width&&e.frame.height===s.height&&e.rotate===0,!0}}class U extends xt{constructor({source:e,label:n,frame:r,orig:i,trim:s,defaultAnchor:o,defaultBorders:a,rotate:l,dynamic:u}={}){if(super(),this.uid=he("texture"),this.uvs={x0:0,y0:0,x1:0,y1:0,x2:0,y2:0,x3:0,y3:0},this.frame=new fe,this.noFrame=!1,this.dynamic=!1,this.isTexture=!0,this.label=n,this.source=e?.source??new _t,this.noFrame=!r,r)this.frame.copyFrom(r);else{const{width:c,height:h}=this._source;this.frame.width=c,this.frame.height=h}this.orig=i||this.frame,this.trim=s,this.rotate=l??0,this.defaultAnchor=o,this.defaultBorders=a,this.destroyed=!1,this.dynamic=u||!1,this.updateUvs()}set source(e){this._source&&this._source.off("resize",this.update,this),this._source=e,e.on("resize",this.update,this),this.emit("update",this)}get source(){return this._source}get textureMatrix(){return this._textureMatrix||(this._textureMatrix=new ex(this)),this._textureMatrix}get width(){return this.orig.width}get height(){return this.orig.height}updateUvs(){const{uvs:e,frame:n}=this,{width:r,height:i}=this._source,s=n.x/r,o=n.y/i,a=n.width/r,l=n.height/i;let u=this.rotate;if(u){const c=a/2,h=l/2,d=s+c,f=o+h;u=Y.add(u,Y.NW),e.x0=d+c*Y.uX(u),e.y0=f+h*Y.uY(u),u=Y.add(u,2),e.x1=d+c*Y.uX(u),e.y1=f+h*Y.uY(u),u=Y.add(u,2),e.x2=d+c*Y.uX(u),e.y2=f+h*Y.uY(u),u=Y.add(u,2),e.x3=d+c*Y.uX(u),e.y3=f+h*Y.uY(u)}else e.x0=s,e.y0=o,e.x1=s+a,e.y1=o,e.x2=s+a,e.y2=o+l,e.x3=s,e.y3=o+l}destroy(e=!1){this._source&&e&&(this._source.destroy(),this._source=null),this._textureMatrix=null,this.destroyed=!0,this.emit("destroy",this),this.removeAllListeners()}update(){this.noFrame&&(this.frame.width=this._source.width,this.frame.height=this._source.height),this.updateUvs(),this.emit("update",this)}get baseTexture(){return D(X,"Texture.baseTexture is now Texture.source"),this._source}}U.EMPTY=new U({label:"EMPTY",source:new _t({label:"EMPTY"})});U.EMPTY.destroy=Up;U.WHITE=new U({source:new Hu({resource:new Uint8Array([255,255,255,255]),width:1,height:1,alphaMode:"premultiply-alpha-on-upload",label:"WHITE"}),label:"WHITE"});U.WHITE.destroy=Up;function tx(t,e,n){const{width:r,height:i}=n.orig,s=n.trim;if(s){const o=s.width,a=s.height;t.minX=s.x-e._x*r,t.maxX=t.minX+o,t.minY=s.y-e._y*i,t.maxY=t.minY+a}else t.minX=-e._x*r,t.maxX=t.minX+r,t.minY=-e._y*i,t.maxY=t.minY+i}const wh=new G;class yt{constructor(e=1/0,n=1/0,r=-1/0,i=-1/0){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=wh,this.minX=e,this.minY=n,this.maxX=r,this.maxY=i}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}get rectangle(){this._rectangle||(this._rectangle=new fe);const e=this._rectangle;return this.minX>this.maxX||this.minY>this.maxY?(e.x=0,e.y=0,e.width=0,e.height=0):e.copyFromBounds(this),e}clear(){return this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.matrix=wh,this}set(e,n,r,i){this.minX=e,this.minY=n,this.maxX=r,this.maxY=i}addFrame(e,n,r,i,s){s||(s=this.matrix);const o=s.a,a=s.b,l=s.c,u=s.d,c=s.tx,h=s.ty;let d=this.minX,f=this.minY,g=this.maxX,x=this.maxY,_=o*e+l*n+c,m=a*e+u*n+h;_<d&&(d=_),m<f&&(f=m),_>g&&(g=_),m>x&&(x=m),_=o*r+l*n+c,m=a*r+u*n+h,_<d&&(d=_),m<f&&(f=m),_>g&&(g=_),m>x&&(x=m),_=o*e+l*i+c,m=a*e+u*i+h,_<d&&(d=_),m<f&&(f=m),_>g&&(g=_),m>x&&(x=m),_=o*r+l*i+c,m=a*r+u*i+h,_<d&&(d=_),m<f&&(f=m),_>g&&(g=_),m>x&&(x=m),this.minX=d,this.minY=f,this.maxX=g,this.maxY=x}addRect(e,n){this.addFrame(e.x,e.y,e.x+e.width,e.y+e.height,n)}addBounds(e,n){this.addFrame(e.minX,e.minY,e.maxX,e.maxY,n)}addBoundsMask(e){this.minX=this.minX>e.minX?this.minX:e.minX,this.minY=this.minY>e.minY?this.minY:e.minY,this.maxX=this.maxX<e.maxX?this.maxX:e.maxX,this.maxY=this.maxY<e.maxY?this.maxY:e.maxY}applyMatrix(e){const n=this.minX,r=this.minY,i=this.maxX,s=this.maxY,{a:o,b:a,c:l,d:u,tx:c,ty:h}=e;let d=o*n+l*r+c,f=a*n+u*r+h;this.minX=d,this.minY=f,this.maxX=d,this.maxY=f,d=o*i+l*r+c,f=a*i+u*r+h,this.minX=d<this.minX?d:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=f>this.maxY?f:this.maxY,d=o*n+l*s+c,f=a*n+u*s+h,this.minX=d<this.minX?d:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=f>this.maxY?f:this.maxY,d=o*i+l*s+c,f=a*i+u*s+h,this.minX=d<this.minX?d:this.minX,this.minY=f<this.minY?f:this.minY,this.maxX=d>this.maxX?d:this.maxX,this.maxY=f>this.maxY?f:this.maxY}fit(e){return this.minX<e.left&&(this.minX=e.left),this.maxX>e.right&&(this.maxX=e.right),this.minY<e.top&&(this.minY=e.top),this.maxY>e.bottom&&(this.maxY=e.bottom),this}fitBounds(e,n,r,i){return this.minX<e&&(this.minX=e),this.maxX>n&&(this.maxX=n),this.minY<r&&(this.minY=r),this.maxY>i&&(this.maxY=i),this}pad(e,n=e){return this.minX-=e,this.maxX+=e,this.minY-=n,this.maxY+=n,this}ceil(){return this.minX=Math.floor(this.minX),this.minY=Math.floor(this.minY),this.maxX=Math.ceil(this.maxX),this.maxY=Math.ceil(this.maxY),this}clone(){return new yt(this.minX,this.minY,this.maxX,this.maxY)}scale(e,n=e){return this.minX*=e,this.minY*=n,this.maxX*=e,this.maxY*=n,this}get x(){return this.minX}set x(e){const n=this.maxX-this.minX;this.minX=e,this.maxX=e+n}get y(){return this.minY}set y(e){const n=this.maxY-this.minY;this.minY=e,this.maxY=e+n}get width(){return this.maxX-this.minX}set width(e){this.maxX=this.minX+e}get height(){return this.maxY-this.minY}set height(e){this.maxY=this.minY+e}get left(){return this.minX}get right(){return this.maxX}get top(){return this.minY}get bottom(){return this.maxY}get isPositive(){return this.maxX-this.minX>0&&this.maxY-this.minY>0}get isValid(){return this.minX+this.minY!==1/0}addVertexData(e,n,r,i){let s=this.minX,o=this.minY,a=this.maxX,l=this.maxY;i||(i=this.matrix);const u=i.a,c=i.b,h=i.c,d=i.d,f=i.tx,g=i.ty;for(let x=n;x<r;x+=2){const _=e[x],m=e[x+1],p=u*_+h*m+f,y=c*_+d*m+g;s=p<s?p:s,o=y<o?y:o,a=p>a?p:a,l=y>l?y:l}this.minX=s,this.minY=o,this.maxX=a,this.maxY=l}containsPoint(e,n){return this.minX<=e&&this.minY<=n&&this.maxX>=e&&this.maxY>=n}toString(){return`[pixi.js:Bounds minX=${this.minX} minY=${this.minY} maxX=${this.maxX} maxY=${this.maxY} width=${this.width} height=${this.height}]`}copyFrom(e){return this.minX=e.minX,this.minY=e.minY,this.maxX=e.maxX,this.maxY=e.maxY,this}}var nx={grad:.9,turn:360,rad:360/(2*Math.PI)},It=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},_e=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},rt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Xp=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},Sh=function(t){return{r:rt(t.r,0,255),g:rt(t.g,0,255),b:rt(t.b,0,255),a:rt(t.a)}},fa=function(t){return{r:_e(t.r),g:_e(t.g),b:_e(t.b),a:_e(t.a,3)}},rx=/^#([0-9a-f]{3,8})$/i,hs=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},qp=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),o=s-Math.min(e,n,r),a=o?s===e?(n-r)/o:s===n?2+(r-e)/o:4+(e-n)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},Kp=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),o=r*(1-n),a=r*(1-(e-s)*n),l=r*(1-(1-e+s)*n),u=s%6;return{r:255*[r,a,o,o,l,r][u],g:255*[l,r,r,a,o,o][u],b:255*[o,o,l,r,r,a][u],a:i}},Ch=function(t){return{h:Xp(t.h),s:rt(t.s,0,100),l:rt(t.l,0,100),a:rt(t.a)}},kh=function(t){return{h:_e(t.h),s:_e(t.s),l:_e(t.l),a:_e(t.a,3)}},Ah=function(t){return Kp((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},ci=function(t){return{h:(e=qp(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},ix=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sx=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ox=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ax=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Il={string:[[function(t){var e=rx.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?_e(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?_e(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=ox.exec(t)||ax.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:Sh({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=ix.exec(t)||sx.exec(t);if(!e)return null;var n,r,i=Ch({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(nx[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return Ah(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return It(e)&&It(n)&&It(r)?Sh({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!It(e)||!It(n)||!It(r))return null;var o=Ch({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return Ah(o)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!It(e)||!It(n)||!It(r))return null;var o=function(a){return{h:Xp(a.h),s:rt(a.s,0,100),v:rt(a.v,0,100),a:rt(a.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return Kp(o)},"hsv"]]},Ph=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},lx=function(t){return typeof t=="string"?Ph(t.trim(),Il.string):typeof t=="object"&&t!==null?Ph(t,Il.object):[null,void 0]},pa=function(t,e){var n=ci(t);return{h:n.h,s:rt(n.s+100*e,0,100),l:n.l,a:n.a}},ma=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},bh=function(t,e){var n=ci(t);return{h:n.h,s:n.s,l:rt(n.l+100*e,0,100),a:n.a}},Fl=function(){function t(e){this.parsed=lx(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return _e(ma(this.rgba),2)},t.prototype.isDark=function(){return ma(this.rgba)<.5},t.prototype.isLight=function(){return ma(this.rgba)>=.5},t.prototype.toHex=function(){return e=fa(this.rgba),n=e.r,r=e.g,i=e.b,o=(s=e.a)<1?hs(_e(255*s)):"","#"+hs(n)+hs(r)+hs(i)+o;var e,n,r,i,s,o},t.prototype.toRgb=function(){return fa(this.rgba)},t.prototype.toRgbString=function(){return e=fa(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return kh(ci(this.rgba))},t.prototype.toHslString=function(){return e=kh(ci(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=qp(this.rgba),{h:_e(e.h),s:_e(e.s),v:_e(e.v),a:_e(e.a,3)};var e},t.prototype.invert=function(){return kt({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),kt(pa(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),kt(pa(this.rgba,-e))},t.prototype.grayscale=function(){return kt(pa(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),kt(bh(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),kt(bh(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?kt({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):_e(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=ci(this.rgba);return typeof e=="number"?kt({h:e,s:n.s,l:n.l,a:n.a}):_e(n.h)},t.prototype.isEqual=function(e){return this.toHex()===kt(e).toHex()},t}(),kt=function(t){return t instanceof Fl?t:new Fl(t)},Mh=[],ux=function(t){t.forEach(function(e){Mh.indexOf(e)<0&&(e(Fl,Il),Mh.push(e))})};function cx(t,e){var n={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},r={};for(var i in n)r[n[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,l,u=r[this.toHex()];if(u)return u;if(o?.closest){var c=this.toRgb(),h=1/0,d="black";if(!s.length)for(var f in n)s[f]=new t(n[f]).toRgb();for(var g in n){var x=(a=c,l=s[g],Math.pow(a.r-l.r,2)+Math.pow(a.g-l.g,2)+Math.pow(a.b-l.b,2));x<h&&(h=x,d=g)}return d}},e.string.push([function(o){var a=o.toLowerCase(),l=a==="transparent"?"#0000":n[a];return l?new t(l).toRgb():null},"name"])}ux([cx]);const kr=class Kr{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof Kr)this._value=this._cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set Color#value to null");(this._value===null||!this._isSourceEqual(this._value,e))&&(this._value=this._cloneSource(e),this._normalize(this._value))}}get value(){return this._value}_cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?{...e}:e}_isSourceEqual(e,n){const r=typeof e;if(r!==typeof n)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===n;if(Array.isArray(e)&&Array.isArray(n)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(n))return e.length!==n.length?!1:e.every((s,o)=>s===n[o]);if(e!==null&&n!==null){const s=Object.keys(e),o=Object.keys(n);return s.length!==o.length?!1:s.every(a=>e[a]===n[a])}return e===n}toRgba(){const[e,n,r,i]=this._components;return{r:e,g:n,b:r,a:i}}toRgb(){const[e,n,r]=this._components;return{r:e,g:n,b:r}}toRgbaString(){const[e,n,r]=this.toUint8RgbArray();return`rgba(${e},${n},${r},${this.alpha})`}toUint8RgbArray(e){const[n,r,i]=this._components;return this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb),e[0]=Math.round(n*255),e[1]=Math.round(r*255),e[2]=Math.round(i*255),e}toArray(e){this._arrayRgba||(this._arrayRgba=[]),e||(e=this._arrayRgba);const[n,r,i,s]=this._components;return e[0]=n,e[1]=r,e[2]=i,e[3]=s,e}toRgbArray(e){this._arrayRgb||(this._arrayRgb=[]),e||(e=this._arrayRgb);const[n,r,i]=this._components;return e[0]=n,e[1]=r,e[2]=i,e}toNumber(){return this._int}toBgrNumber(){const[e,n,r]=this.toUint8RgbArray();return(r<<16)+(n<<8)+e}toLittleEndianNumber(){const e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){const[n,r,i,s]=Kr._temp.setValue(e)._components;return this._components[0]*=n,this._components[1]*=r,this._components[2]*=i,this._components[3]*=s,this._refreshInt(),this._value=null,this}premultiply(e,n=!0){return n&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this._refreshInt(),this._value=null,this}toPremultiplied(e,n=!0){if(e===1)return(255<<24)+this._int;if(e===0)return n?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return n&&(r=r*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(r<<16)+(i<<8)+s}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const n=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-n.length)+n}setAlpha(e){return this._components[3]=this._clamp(e),this}_normalize(e){let n,r,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){const o=e;n=(o>>16&255)/255,r=(o>>8&255)/255,i=(o&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[n,r,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[n,r,i,s=255]=e,n/=255,r/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){const a=Kr.HEX_PATTERN.exec(e);a&&(e=`#${a[2]}`)}const o=kt(e);o.isValid()&&({r:n,g:r,b:i,a:s}=o.rgba,n/=255,r/=255,i/=255)}if(n!==void 0)this._components[0]=n,this._components[1]=r,this._components[2]=i,this._components[3]=s,this._refreshInt();else throw new Error(`Unable to convert color ${e}`)}_refreshInt(){this._clamp(this._components);const[e,n,r]=this._components;this._int=(e*255<<16)+(n*255<<8)+(r*255|0)}_clamp(e,n=0,r=1){return typeof e=="number"?Math.min(Math.max(e,n),r):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,n),r)}),e)}static isColorLike(e){return typeof e=="number"||typeof e=="string"||e instanceof Number||e instanceof Kr||Array.isArray(e)||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Float32Array||e.r!==void 0&&e.g!==void 0&&e.b!==void 0||e.r!==void 0&&e.g!==void 0&&e.b!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0||e.h!==void 0&&e.s!==void 0&&e.l!==void 0&&e.a!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0||e.h!==void 0&&e.s!==void 0&&e.v!==void 0&&e.a!==void 0}};kr.shared=new kr;kr._temp=new kr;kr.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let ye=kr;const hx={cullArea:null,cullable:!1,cullableChildren:!0};let ga=0;const Th=500;function ee(...t){ga!==Th&&(ga++,ga===Th?console.warn("PixiJS Warning: too many warnings, no more warnings will be reported to the console by PixiJS."):console.warn("PixiJS Warning: ",...t))}const Ui={_registeredResources:new Set,register(t){this._registeredResources.add(t)},unregister(t){this._registeredResources.delete(t)},release(){this._registeredResources.forEach(t=>t.clear())},get registeredCount(){return this._registeredResources.size},isRegistered(t){return this._registeredResources.has(t)},reset(){this._registeredResources.clear()}};class dx{constructor(e,n){this._pool=[],this._count=0,this._index=0,this._classType=e,n&&this.prepopulate(n)}prepopulate(e){for(let n=0;n<e;n++)this._pool[this._index++]=new this._classType;this._count+=e}get(e){let n;return this._index>0?n=this._pool[--this._index]:n=new this._classType,n.init?.(e),n}return(e){e.reset?.(),this._pool[this._index++]=e}get totalSize(){return this._count}get totalFree(){return this._index}get totalUsed(){return this._count-this._index}clear(){if(this._pool.length>0&&this._pool[0].destroy)for(let e=0;e<this._index;e++)this._pool[e].destroy();this._pool.length=0,this._count=0,this._index=0}}class fx{constructor(){this._poolsByClass=new Map}prepopulate(e,n){this.getPool(e).prepopulate(n)}get(e,n){return this.getPool(e).get(n)}return(e){this.getPool(e.constructor).return(e)}getPool(e){return this._poolsByClass.has(e)||this._poolsByClass.set(e,new dx(e)),this._poolsByClass.get(e)}stats(){const e={};return this._poolsByClass.forEach(n=>{const r=e[n._classType.name]?n._classType.name+n._classType.ID:n._classType.name;e[r]={free:n.totalFree,used:n.totalUsed,size:n.totalSize}}),e}clear(){this._poolsByClass.forEach(e=>e.clear()),this._poolsByClass.clear()}}const st=new fx;Ui.register(st);const px={get isCachedAsTexture(){return!!this.renderGroup?.isCachedAsTexture},cacheAsTexture(t){typeof t=="boolean"&&t===!1?this.disableRenderGroup():(this.enableRenderGroup(),this.renderGroup.enableCacheAsTexture(t===!0?{}:t))},updateCacheTexture(){this.renderGroup?.updateCacheTexture()},get cacheAsBitmap(){return this.isCachedAsTexture},set cacheAsBitmap(t){D("v8.6.0","cacheAsBitmap is deprecated, use cacheAsTexture instead."),this.cacheAsTexture(t)}};function mx(t,e,n){const r=t.length;let i;if(e>=r||n===0)return;n=e+n>r?r-e:n;const s=r-n;for(i=e;i<s;++i)t[i]=t[i+n];t.length=s}const gx={allowChildren:!0,removeChildren(t=0,e){const n=e??this.children.length,r=n-t,i=[];if(r>0&&r<=n){for(let o=n-1;o>=t;o--){const a=this.children[o];a&&(i.push(a),a.parent=null)}mx(this.children,t,n);const s=this.renderGroup||this.parentRenderGroup;s&&s.removeChildren(i);for(let o=0;o<i.length;++o){const a=i[o];a.parentRenderLayer?.detach(a),this.emit("childRemoved",a,this,o),i[o].emit("removed",this)}return i.length>0&&this._didViewChangeTick++,i}else if(r===0&&this.children.length===0)return i;throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},removeChildAt(t){const e=this.getChildAt(t);return this.removeChild(e)},getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]},setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);this.getChildIndex(t),this.addChildAt(t,e)},getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied Container must be a child of the caller");return e},addChildAt(t,e){this.allowChildren||D(X,"addChildAt: Only Containers will be allowed to add children in v8.0.0");const{children:n}=this;if(e<0||e>n.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${n.length}`);if(t.parent){const i=t.parent.children.indexOf(t);if(t.parent===this&&i===e)return t;i!==-1&&t.parent.children.splice(i,1)}e===n.length?n.push(t):n.splice(e,0,t),t.parent=this,t.didChange=!0,t._updateFlags=15;const r=this.renderGroup||this.parentRenderGroup;return r&&r.addChild(t),this.sortableChildren&&(this.sortDirty=!0),this.emit("childAdded",t,this,e),t.emit("added",this),t},swapChildren(t,e){if(t===e)return;const n=this.getChildIndex(t),r=this.getChildIndex(e);this.children[n]=e,this.children[r]=t;const i=this.renderGroup||this.parentRenderGroup;i&&(i.structureDidChange=!0),this._didContainerChangeTick++},removeFromParent(){this.parent?.removeChild(this)},reparentChild(...t){return t.length===1?this.reparentChildAt(t[0],this.children.length):(t.forEach(e=>this.reparentChildAt(e,this.children.length)),t[0])},reparentChildAt(t,e){if(t.parent===this)return this.setChildIndex(t,e),t;const n=t.worldTransform.clone();t.removeFromParent(),this.addChildAt(t,e);const r=this.worldTransform.clone();return r.invert(),n.prepend(r),t.setFromMatrix(n),t},replaceChild(t,e){t.updateLocalTransform(),this.addChildAt(e,this.getChildIndex(t)),e.setFromMatrix(t.localTransform),e.updateLocalTransform(),this.removeChild(t)}},yx={collectRenderables(t,e,n){this.parentRenderLayer&&this.parentRenderLayer!==n||this.globalDisplayStatus<7||!this.includeInBuild||(this.sortableChildren&&this.sortChildren(),this.isSimple?this.collectRenderablesSimple(t,e,n):this.renderGroup?e.renderPipes.renderGroup.addRenderGroup(this.renderGroup,t):this.collectRenderablesWithEffects(t,e,n))},collectRenderablesSimple(t,e,n){const r=this.children,i=r.length;for(let s=0;s<i;s++)r[s].collectRenderables(t,e,n)},collectRenderablesWithEffects(t,e,n){const{renderPipes:r}=e;for(let i=0;i<this.effects.length;i++){const s=this.effects[i];r[s.pipe].push(s,this,t)}this.collectRenderablesSimple(t,e,n);for(let i=this.effects.length-1;i>=0;i--){const s=this.effects[i];r[s.pipe].pop(s,this,t)}}};class Eh{constructor(){this.pipe="filter",this.priority=1}destroy(){for(let e=0;e<this.filters.length;e++)this.filters[e].destroy();this.filters=null,this.filterArea=null}}class xx{constructor(){this._effectClasses=[],this._tests=[],this._initialized=!1}init(){this._initialized||(this._initialized=!0,this._effectClasses.forEach(e=>{this.add({test:e.test,maskClass:e})}))}add(e){this._tests.push(e)}getMaskEffect(e){this._initialized||this.init();for(let n=0;n<this._tests.length;n++){const r=this._tests[n];if(r.test(e))return st.get(r.maskClass,e)}return e}returnMaskEffect(e){st.return(e)}}const Ll=new xx;Ce.handleByList(B.MaskEffect,Ll._effectClasses);const _x={_maskEffect:null,_maskOptions:{inverse:!1},_filterEffect:null,effects:[],_markStructureAsChanged(){const t=this.renderGroup||this.parentRenderGroup;t&&(t.structureDidChange=!0)},addEffect(t){this.effects.indexOf(t)===-1&&(this.effects.push(t),this.effects.sort((n,r)=>n.priority-r.priority),this._markStructureAsChanged(),this._updateIsSimple())},removeEffect(t){const e=this.effects.indexOf(t);e!==-1&&(this.effects.splice(e,1),this._markStructureAsChanged(),this._updateIsSimple())},set mask(t){const e=this._maskEffect;e?.mask!==t&&(e&&(this.removeEffect(e),Ll.returnMaskEffect(e),this._maskEffect=null),t!=null&&(this._maskEffect=Ll.getMaskEffect(t),this.addEffect(this._maskEffect)))},get mask(){return this._maskEffect?.mask},setMask(t){this._maskOptions={...this._maskOptions,...t},t.mask&&(this.mask=t.mask),this._markStructureAsChanged()},set filters(t){!Array.isArray(t)&&t&&(t=[t]);const e=this._filterEffect||(this._filterEffect=new Eh);t=t;const n=t?.length>0,r=e.filters?.length>0,i=n!==r;t=Array.isArray(t)?t.slice(0):t,e.filters=Object.freeze(t),i&&(n?this.addEffect(e):(this.removeEffect(e),e.filters=t??null))},get filters(){return this._filterEffect?.filters},set filterArea(t){this._filterEffect||(this._filterEffect=new Eh),this._filterEffect.filterArea=t},get filterArea(){return this._filterEffect?.filterArea}},vx={label:null,get name(){return D(X,"Container.name property has been removed, use Container.label instead"),this.label},set name(t){D(X,"Container.name property has been removed, use Container.label instead"),this.label=t},getChildByName(t,e=!1){return this.getChildByLabel(t,e)},getChildByLabel(t,e=!1){const n=this.children;for(let r=0;r<n.length;r++){const i=n[r];if(i.label===t||t instanceof RegExp&&t.test(i.label))return i}if(e)for(let r=0;r<n.length;r++){const s=n[r].getChildByLabel(t,!0);if(s)return s}return null},getChildrenByLabel(t,e=!1,n=[]){const r=this.children;for(let i=0;i<r.length;i++){const s=r[i];(s.label===t||t instanceof RegExp&&t.test(s.label))&&n.push(s)}if(e)for(let i=0;i<r.length;i++)r[i].getChildrenByLabel(t,!0,n);return n}},Ie=st.getPool(G),Nt=st.getPool(yt),wx=new G,Sx={getFastGlobalBounds(t,e){e||(e=new yt),e.clear(),this._getGlobalBoundsRecursive(!!t,e,this.parentRenderLayer),e.isValid||e.set(0,0,0,0);const n=this.renderGroup||this.parentRenderGroup;return e.applyMatrix(n.worldTransform),e},_getGlobalBoundsRecursive(t,e,n){let r=e;if(t&&this.parentRenderLayer&&this.parentRenderLayer!==n||this.localDisplayStatus!==7||!this.measurable)return;const i=!!this.effects.length;if((this.renderGroup||i)&&(r=Nt.get().clear()),this.boundsArea)e.addRect(this.boundsArea,this.worldTransform);else{if(this.renderPipeId){const o=this.bounds;r.addFrame(o.minX,o.minY,o.maxX,o.maxY,this.groupTransform)}const s=this.children;for(let o=0;o<s.length;o++)s[o]._getGlobalBoundsRecursive(t,r,n)}if(i){let s=!1;const o=this.renderGroup||this.parentRenderGroup;for(let a=0;a<this.effects.length;a++)this.effects[a].addBounds&&(s||(s=!0,r.applyMatrix(o.worldTransform)),this.effects[a].addBounds(r,!0));s&&r.applyMatrix(o.worldTransform.copyTo(wx).invert()),e.addBounds(r),Nt.return(r)}else this.renderGroup&&(e.addBounds(r,this.relativeGroupTransform),Nt.return(r))}};function Qp(t,e,n){n.clear();let r,i;return t.parent?e?r=t.parent.worldTransform:(i=Ie.get().identity(),r=Vu(t,i)):r=G.IDENTITY,Zp(t,n,r,e),i&&Ie.return(i),n.isValid||n.set(0,0,0,0),n}function Zp(t,e,n,r){if(!t.visible||!t.measurable)return;let i;r?i=t.worldTransform:(t.updateLocalTransform(),i=Ie.get(),i.appendFrom(t.localTransform,n));const s=e,o=!!t.effects.length;if(o&&(e=Nt.get().clear()),t.boundsArea)e.addRect(t.boundsArea,i);else{const a=t.bounds;a&&!a.isEmpty()&&(e.matrix=i,e.addBounds(a));for(let l=0;l<t.children.length;l++)Zp(t.children[l],e,i,r)}if(o){for(let a=0;a<t.effects.length;a++)t.effects[a].addBounds?.(e);s.addBounds(e,G.IDENTITY),Nt.return(e)}r||Ie.return(i)}function Vu(t,e){const n=t.parent;return n&&(Vu(n,e),n.updateLocalTransform(),e.append(n.localTransform)),e}function Jp(t,e){if(t===16777215||!e)return e;if(e===16777215||!t)return t;const n=t>>16&255,r=t>>8&255,i=t&255,s=e>>16&255,o=e>>8&255,a=e&255,l=n*s/255|0,u=r*o/255|0,c=i*a/255|0;return(l<<16)+(u<<8)+c}const Rh=16777215;function Ih(t,e){return t===Rh?e:e===Rh?t:Jp(t,e)}function zs(t){return((t&255)<<16)+(t&65280)+(t>>16&255)}const Cx={getGlobalAlpha(t){if(t)return this.renderGroup?this.renderGroup.worldAlpha:this.parentRenderGroup?this.parentRenderGroup.worldAlpha*this.alpha:this.alpha;let e=this.alpha,n=this.parent;for(;n;)e*=n.alpha,n=n.parent;return e},getGlobalTransform(t=new G,e){if(e)return t.copyFrom(this.worldTransform);this.updateLocalTransform();const n=Vu(this,Ie.get().identity());return t.appendFrom(this.localTransform,n),Ie.return(n),t},getGlobalTint(t){if(t)return this.renderGroup?zs(this.renderGroup.worldColor):this.parentRenderGroup?zs(Ih(this.localColor,this.parentRenderGroup.worldColor)):this.tint;let e=this.localColor,n=this.parent;for(;n;)e=Ih(e,n.localColor),n=n.parent;return zs(e)}};function em(t,e,n){return e.clear(),n||(n=G.IDENTITY),tm(t,e,n,t,!0),e.isValid||e.set(0,0,0,0),e}function tm(t,e,n,r,i){let s;if(i)s=Ie.get(),s=n.copyTo(s);else{if(!t.visible||!t.measurable)return;t.updateLocalTransform();const l=t.localTransform;s=Ie.get(),s.appendFrom(l,n)}const o=e,a=!!t.effects.length;if(a&&(e=Nt.get().clear()),t.boundsArea)e.addRect(t.boundsArea,s);else{t.renderPipeId&&(e.matrix=s,e.addBounds(t.bounds));const l=t.children;for(let u=0;u<l.length;u++)tm(l[u],e,s,r,!1)}if(a){for(let l=0;l<t.effects.length;l++)t.effects[l].addLocalBounds?.(e,r);o.addBounds(e,G.IDENTITY),Nt.return(e)}Ie.return(s)}function nm(t,e){const n=t.children;for(let r=0;r<n.length;r++){const i=n[r],s=i.uid,o=(i._didViewChangeTick&65535)<<16|i._didContainerChangeTick&65535,a=e.index;(e.data[a]!==s||e.data[a+1]!==o)&&(e.data[e.index]=s,e.data[e.index+1]=o,e.didChange=!0),e.index=a+2,i.children.length&&nm(i,e)}return e.didChange}const kx=new G,Ax={_localBoundsCacheId:-1,_localBoundsCacheData:null,_setWidth(t,e){const n=Math.sign(this.scale.x)||1;e!==0?this.scale.x=t/e*n:this.scale.x=n},_setHeight(t,e){const n=Math.sign(this.scale.y)||1;e!==0?this.scale.y=t/e*n:this.scale.y=n},getLocalBounds(){this._localBoundsCacheData||(this._localBoundsCacheData={data:[],index:1,didChange:!1,localBounds:new yt});const t=this._localBoundsCacheData;return t.index=1,t.didChange=!1,t.data[0]!==this._didViewChangeTick&&(t.didChange=!0,t.data[0]=this._didViewChangeTick),nm(this,t),t.didChange&&em(this,t.localBounds,kx),t.localBounds},getBounds(t,e){return Qp(this,t,e||new yt)}},Px={_onRender:null,set onRender(t){const e=this.renderGroup||this.parentRenderGroup;if(!t){this._onRender&&e?.removeOnRender(this),this._onRender=null;return}this._onRender||e?.addOnRender(this),this._onRender=t},get onRender(){return this._onRender}},bx={_zIndex:0,sortDirty:!1,sortableChildren:!1,get zIndex(){return this._zIndex},set zIndex(t){this._zIndex!==t&&(this._zIndex=t,this.depthOfChildModified())},depthOfChildModified(){this.parent&&(this.parent.sortableChildren=!0,this.parent.sortDirty=!0),this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0)},sortChildren(){this.sortDirty&&(this.sortDirty=!1,this.children.sort(Mx))}};function Mx(t,e){return t._zIndex-e._zIndex}const Tx={getGlobalPosition(t=new Te,e=!1){return this.parent?this.parent.toGlobal(this._position,t,e):(t.x=this._position.x,t.y=this._position.y),t},toGlobal(t,e,n=!1){const r=this.getGlobalTransform(Ie.get(),n);return e=r.apply(t,e),Ie.return(r),e},toLocal(t,e,n,r){e&&(t=e.toGlobal(t,n,r));const i=this.getGlobalTransform(Ie.get(),r);return n=i.applyInverse(t,n),Ie.return(i),n}};class rm{constructor(){this.uid=he("instructionSet"),this.instructions=[],this.instructionSize=0,this.renderables=[],this.gcTick=0}reset(){this.instructionSize=0}destroy(){this.instructions.length=0,this.renderables.length=0,this.renderPipes=null,this.gcTick=0}add(e){this.instructions[this.instructionSize++]=e}log(){this.instructions.length=this.instructionSize,console.table(this.instructions,["type","action"])}}let Ex=0;class Rx{constructor(e){this._poolKeyHash=Object.create(null),this._texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this.textureStyle=new ho(this.textureOptions)}createTexture(e,n,r){const i=new _t({...this.textureOptions,width:e,height:n,resolution:1,antialias:r,autoGarbageCollect:!1});return new U({source:i,label:`texturePool_${Ex++}`})}getOptimalTexture(e,n,r=1,i){let s=Math.ceil(e*r-1e-6),o=Math.ceil(n*r-1e-6);s=co(s),o=co(o);const a=(s<<17)+(o<<1)+(i?1:0);this._texturePool[a]||(this._texturePool[a]=[]);let l=this._texturePool[a].pop();return l||(l=this.createTexture(s,o,i)),l.source._resolution=r,l.source.width=s/r,l.source.height=o/r,l.source.pixelWidth=s,l.source.pixelHeight=o,l.frame.x=0,l.frame.y=0,l.frame.width=e,l.frame.height=n,l.updateUvs(),this._poolKeyHash[l.uid]=a,l}getSameSizeTexture(e,n=!1){const r=e.source;return this.getOptimalTexture(e.width,e.height,r._resolution,n)}returnTexture(e,n=!1){const r=this._poolKeyHash[e.uid];n&&(e.source.style=this.textureStyle),this._texturePool[r].push(e)}clear(e){if(e=e!==!1,e)for(const n in this._texturePool){const r=this._texturePool[n];if(r)for(let i=0;i<r.length;i++)r[i].destroy(!0)}this._texturePool={}}}const im=new Rx;Ui.register(im);class Ix{constructor(){this.renderPipeId="renderGroup",this.root=null,this.canBundle=!1,this.renderGroupParent=null,this.renderGroupChildren=[],this.worldTransform=new G,this.worldColorAlpha=4294967295,this.worldColor=16777215,this.worldAlpha=1,this.childrenToUpdate=Object.create(null),this.updateTick=0,this.gcTick=0,this.childrenRenderablesToUpdate={list:[],index:0},this.structureDidChange=!0,this.instructionSet=new rm,this._onRenderContainers=[],this.textureNeedsUpdate=!0,this.isCachedAsTexture=!1,this._matrixDirty=7}init(e){this.root=e,e._onRender&&this.addOnRender(e),e.didChange=!0;const n=e.children;for(let r=0;r<n.length;r++){const i=n[r];i._updateFlags=15,this.addChild(i)}}enableCacheAsTexture(e={}){this.textureOptions=e,this.isCachedAsTexture=!0,this.textureNeedsUpdate=!0}disableCacheAsTexture(){this.isCachedAsTexture=!1,this.texture&&(im.returnTexture(this.texture,!0),this.texture=null)}updateCacheTexture(){this.textureNeedsUpdate=!0;const e=this._parentCacheAsTextureRenderGroup;e&&!e.textureNeedsUpdate&&e.updateCacheTexture()}reset(){this.renderGroupChildren.length=0;for(const e in this.childrenToUpdate){const n=this.childrenToUpdate[e];n.list.fill(null),n.index=0}this.childrenRenderablesToUpdate.index=0,this.childrenRenderablesToUpdate.list.fill(null),this.root=null,this.updateTick=0,this.structureDidChange=!0,this._onRenderContainers.length=0,this.renderGroupParent=null,this.disableCacheAsTexture()}get localTransform(){return this.root.localTransform}addRenderGroupChild(e){e.renderGroupParent&&e.renderGroupParent._removeRenderGroupChild(e),e.renderGroupParent=this,this.renderGroupChildren.push(e)}_removeRenderGroupChild(e){const n=this.renderGroupChildren.indexOf(e);n>-1&&this.renderGroupChildren.splice(n,1),e.renderGroupParent=null}addChild(e){if(this.structureDidChange=!0,e.parentRenderGroup=this,e.updateTick=-1,e.parent===this.root?e.relativeRenderGroupDepth=1:e.relativeRenderGroupDepth=e.parent.relativeRenderGroupDepth+1,e.didChange=!0,this.onChildUpdate(e),e.renderGroup){this.addRenderGroupChild(e.renderGroup);return}e._onRender&&this.addOnRender(e);const n=e.children;for(let r=0;r<n.length;r++)this.addChild(n[r])}removeChild(e){if(this.structureDidChange=!0,e._onRender&&(e.renderGroup||this.removeOnRender(e)),e.parentRenderGroup=null,e.renderGroup){this._removeRenderGroupChild(e.renderGroup);return}const n=e.children;for(let r=0;r<n.length;r++)this.removeChild(n[r])}removeChildren(e){for(let n=0;n<e.length;n++)this.removeChild(e[n])}onChildUpdate(e){let n=this.childrenToUpdate[e.relativeRenderGroupDepth];n||(n=this.childrenToUpdate[e.relativeRenderGroupDepth]={index:0,list:[]}),n.list[n.index++]=e}updateRenderable(e){e.globalDisplayStatus<7||(this.instructionSet.renderPipes[e.renderPipeId].updateRenderable(e),e.didViewUpdate=!1)}onChildViewUpdate(e){this.childrenRenderablesToUpdate.list[this.childrenRenderablesToUpdate.index++]=e}get isRenderable(){return this.root.localDisplayStatus===7&&this.worldAlpha>0}addOnRender(e){this._onRenderContainers.push(e)}removeOnRender(e){this._onRenderContainers.splice(this._onRenderContainers.indexOf(e),1)}runOnRender(e){for(let n=0;n<this._onRenderContainers.length;n++)this._onRenderContainers[n]._onRender(e)}destroy(){this.disableCacheAsTexture(),this.renderGroupParent=null,this.root=null,this.childrenRenderablesToUpdate=null,this.childrenToUpdate=null,this.renderGroupChildren=null,this._onRenderContainers=null,this.instructionSet=null}getChildren(e=[]){const n=this.root.children;for(let r=0;r<n.length;r++)this._getChildren(n[r],e);return e}_getChildren(e,n=[]){if(n.push(e),e.renderGroup)return n;const r=e.children;for(let i=0;i<r.length;i++)this._getChildren(r[i],n);return n}invalidateMatrices(){this._matrixDirty=7}get inverseWorldTransform(){return this._matrixDirty&1?(this._matrixDirty&=-2,this._inverseWorldTransform||(this._inverseWorldTransform=new G),this._inverseWorldTransform.copyFrom(this.worldTransform).invert()):this._inverseWorldTransform}get textureOffsetInverseTransform(){return this._matrixDirty&2?(this._matrixDirty&=-3,this._textureOffsetInverseTransform||(this._textureOffsetInverseTransform=new G),this._textureOffsetInverseTransform.copyFrom(this.inverseWorldTransform).translate(-this._textureBounds.x,-this._textureBounds.y)):this._textureOffsetInverseTransform}get inverseParentTextureTransform(){if(!(this._matrixDirty&4))return this._inverseParentTextureTransform;this._matrixDirty&=-5;const e=this._parentCacheAsTextureRenderGroup;return e?(this._inverseParentTextureTransform||(this._inverseParentTextureTransform=new G),this._inverseParentTextureTransform.copyFrom(this.worldTransform).prepend(e.inverseWorldTransform).translate(-e._textureBounds.x,-e._textureBounds.y)):this.worldTransform}get cacheToLocalTransform(){return this.isCachedAsTexture?this.textureOffsetInverseTransform:this._parentCacheAsTextureRenderGroup?this._parentCacheAsTextureRenderGroup.textureOffsetInverseTransform:null}}function Fx(t,e,n={}){for(const r in e)!n[r]&&e[r]!==void 0&&(t[r]=e[r])}const ya=new be(null),ds=new be(null),xa=new be(null,1,1),fs=new be(null),Fh=1,Lx=2,_a=4;class Rt extends xt{constructor(e={}){super(),this.uid=he("renderable"),this._updateFlags=15,this.renderGroup=null,this.parentRenderGroup=null,this.parentRenderGroupIndex=0,this.didChange=!1,this.didViewUpdate=!1,this.relativeRenderGroupDepth=0,this.children=[],this.parent=null,this.includeInBuild=!0,this.measurable=!0,this.isSimple=!0,this.updateTick=-1,this.localTransform=new G,this.relativeGroupTransform=new G,this.groupTransform=this.relativeGroupTransform,this.destroyed=!1,this._position=new be(this,0,0),this._scale=xa,this._pivot=ds,this._origin=fs,this._skew=ya,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._rotation=0,this.localColor=16777215,this.localAlpha=1,this.groupAlpha=1,this.groupColor=16777215,this.groupColorAlpha=4294967295,this.localBlendMode="inherit",this.groupBlendMode="normal",this.localDisplayStatus=7,this.globalDisplayStatus=7,this._didContainerChangeTick=0,this._didViewChangeTick=0,this._didLocalTransformChangeId=-1,this.effects=[],Fx(this,e,{children:!0,parent:!0,effects:!0}),e.children?.forEach(n=>this.addChild(n)),e.parent?.addChild(this)}static mixin(e){D("8.8.0","Container.mixin is deprecated, please use extensions.mixin instead."),Ce.mixin(Rt,e)}set _didChangeId(e){this._didViewChangeTick=e>>12&4095,this._didContainerChangeTick=e&4095}get _didChangeId(){return this._didContainerChangeTick&4095|(this._didViewChangeTick&4095)<<12}addChild(...e){if(this.allowChildren||D(X,"addChild: Only Containers will be allowed to add children in v8.0.0"),e.length>1){for(let i=0;i<e.length;i++)this.addChild(e[i]);return e[0]}const n=e[0],r=this.renderGroup||this.parentRenderGroup;return n.parent===this?(this.children.splice(this.children.indexOf(n),1),this.children.push(n),r&&(r.structureDidChange=!0),n):(n.parent&&n.parent.removeChild(n),this.children.push(n),this.sortableChildren&&(this.sortDirty=!0),n.parent=this,n.didChange=!0,n._updateFlags=15,r&&r.addChild(n),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this),this._didViewChangeTick++,n._zIndex!==0&&n.depthOfChildModified(),n)}removeChild(...e){if(e.length>1){for(let i=0;i<e.length;i++)this.removeChild(e[i]);return e[0]}const n=e[0],r=this.children.indexOf(n);return r>-1&&(this._didViewChangeTick++,this.children.splice(r,1),this.renderGroup?this.renderGroup.removeChild(n):this.parentRenderGroup&&this.parentRenderGroup.removeChild(n),n.parentRenderLayer&&n.parentRenderLayer.detach(n),n.parent=null,this.emit("childRemoved",n,this,r),n.emit("removed",this)),n}_onUpdate(e){e&&e===this._skew&&this._updateSkew(),this._didContainerChangeTick++,!this.didChange&&(this.didChange=!0,this.parentRenderGroup&&this.parentRenderGroup.onChildUpdate(this))}set isRenderGroup(e){!!this.renderGroup!==e&&(e?this.enableRenderGroup():this.disableRenderGroup())}get isRenderGroup(){return!!this.renderGroup}enableRenderGroup(){if(this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),this.renderGroup=st.get(Ix,this),this.groupTransform=G.IDENTITY,e?.addChild(this),this._updateIsSimple()}disableRenderGroup(){if(!this.renderGroup)return;const e=this.parentRenderGroup;e?.removeChild(this),st.return(this.renderGroup),this.renderGroup=null,this.groupTransform=this.relativeGroupTransform,e?.addChild(this),this._updateIsSimple()}_updateIsSimple(){this.isSimple=!this.renderGroup&&this.effects.length===0}get worldTransform(){return this._worldTransform||(this._worldTransform=new G),this.renderGroup?this._worldTransform.copyFrom(this.renderGroup.worldTransform):this.parentRenderGroup&&this._worldTransform.appendFrom(this.relativeGroupTransform,this.parentRenderGroup.worldTransform),this._worldTransform}get x(){return this._position.x}set x(e){this._position.x=e}get y(){return this._position.y}set y(e){this._position.y=e}get position(){return this._position}set position(e){this._position.copyFrom(e)}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this._onUpdate(this._skew))}get angle(){return this.rotation*Y0}set angle(e){this.rotation=e*X0}get pivot(){return this._pivot===ds&&(this._pivot=new be(this,0,0)),this._pivot}set pivot(e){this._pivot===ds&&(this._pivot=new be(this,0,0),this._origin!==fs&&ee("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._pivot.set(e):this._pivot.copyFrom(e)}get skew(){return this._skew===ya&&(this._skew=new be(this,0,0)),this._skew}set skew(e){this._skew===ya&&(this._skew=new be(this,0,0)),this._skew.copyFrom(e)}get scale(){return this._scale===xa&&(this._scale=new be(this,1,1)),this._scale}set scale(e){this._scale===xa&&(this._scale=new be(this,0,0)),typeof e=="string"&&(e=parseFloat(e)),typeof e=="number"?this._scale.set(e):this._scale.copyFrom(e)}get origin(){return this._origin===fs&&(this._origin=new be(this,0,0)),this._origin}set origin(e){this._origin===fs&&(this._origin=new be(this,0,0),this._pivot!==ds&&ee("Setting both a pivot and origin on a Container is not recommended. This can lead to unexpected behavior if not handled carefully.")),typeof e=="number"?this._origin.set(e):this._origin.copyFrom(e)}get width(){return Math.abs(this.scale.x*this.getLocalBounds().width)}set width(e){const n=this.getLocalBounds().width;this._setWidth(e,n)}get height(){return Math.abs(this.scale.y*this.getLocalBounds().height)}set height(e){const n=this.getLocalBounds().height;this._setHeight(e,n)}getSize(e){e||(e={});const n=this.getLocalBounds();return e.width=Math.abs(this.scale.x*n.width),e.height=Math.abs(this.scale.y*n.height),e}setSize(e,n){const r=this.getLocalBounds();typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,r.width),n!==void 0&&this._setHeight(n,r.height)}_updateSkew(){const e=this._rotation,n=this._skew;this._cx=Math.cos(e+n._y),this._sx=Math.sin(e+n._y),this._cy=-Math.sin(e-n._x),this._sy=Math.cos(e-n._x)}updateTransform(e){return this.position.set(typeof e.x=="number"?e.x:this.position.x,typeof e.y=="number"?e.y:this.position.y),this.scale.set(typeof e.scaleX=="number"?e.scaleX||1:this.scale.x,typeof e.scaleY=="number"?e.scaleY||1:this.scale.y),this.rotation=typeof e.rotation=="number"?e.rotation:this.rotation,this.skew.set(typeof e.skewX=="number"?e.skewX:this.skew.x,typeof e.skewY=="number"?e.skewY:this.skew.y),this.pivot.set(typeof e.pivotX=="number"?e.pivotX:this.pivot.x,typeof e.pivotY=="number"?e.pivotY:this.pivot.y),this.origin.set(typeof e.originX=="number"?e.originX:this.origin.x,typeof e.originY=="number"?e.originY:this.origin.y),this}setFromMatrix(e){e.decompose(this)}updateLocalTransform(){const e=this._didContainerChangeTick;if(this._didLocalTransformChangeId===e)return;this._didLocalTransformChangeId=e;const n=this.localTransform,r=this._scale,i=this._pivot,s=this._origin,o=this._position,a=r._x,l=r._y,u=i._x,c=i._y,h=-s._x,d=-s._y;n.a=this._cx*a,n.b=this._sx*a,n.c=this._cy*l,n.d=this._sy*l,n.tx=o._x-(u*n.a+c*n.c)+(h*n.a+d*n.c)-h,n.ty=o._y-(u*n.b+c*n.d)+(h*n.b+d*n.d)-d}set alpha(e){e!==this.localAlpha&&(this.localAlpha=e,this._updateFlags|=Fh,this._onUpdate())}get alpha(){return this.localAlpha}set tint(e){const r=ye.shared.setValue(e??16777215).toBgrNumber();r!==this.localColor&&(this.localColor=r,this._updateFlags|=Fh,this._onUpdate())}get tint(){return zs(this.localColor)}set blendMode(e){this.localBlendMode!==e&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=Lx,this.localBlendMode=e,this._onUpdate())}get blendMode(){return this.localBlendMode}get visible(){return!!(this.localDisplayStatus&2)}set visible(e){const n=e?2:0;(this.localDisplayStatus&2)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=_a,this.localDisplayStatus^=2,this._onUpdate())}get culled(){return!(this.localDisplayStatus&4)}set culled(e){const n=e?0:4;(this.localDisplayStatus&4)!==n&&(this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._updateFlags|=_a,this.localDisplayStatus^=4,this._onUpdate())}get renderable(){return!!(this.localDisplayStatus&1)}set renderable(e){const n=e?1:0;(this.localDisplayStatus&1)!==n&&(this._updateFlags|=_a,this.localDisplayStatus^=1,this.parentRenderGroup&&(this.parentRenderGroup.structureDidChange=!0),this._onUpdate())}get isRenderable(){return this.localDisplayStatus===7&&this.groupAlpha>0}destroy(e=!1){if(this.destroyed)return;this.destroyed=!0;let n;if(this.children.length&&(n=this.removeChildren(0,this.children.length)),this.removeFromParent(),this.parent=null,this._maskEffect=null,this._filterEffect=null,this.effects=null,this._position=null,this._scale=null,this._pivot=null,this._origin=null,this._skew=null,this.emit("destroyed",this),this.removeAllListeners(),(typeof e=="boolean"?e:e?.children)&&n)for(let i=0;i<n.length;++i)n[i].destroy(e);this.renderGroup?.destroy(),this.renderGroup=null}}Ce.mixin(Rt,gx,Sx,Tx,Px,Ax,_x,vx,bx,hx,px,Cx,yx);class sm extends Rt{constructor(e){super(e),this.canBundle=!0,this.allowChildren=!1,this._roundPixels=0,this._lastUsed=-1,this._gpuData=Object.create(null),this._bounds=new yt(0,1,0,0),this._boundsDirty=!0}get bounds(){return this._boundsDirty?(this.updateBounds(),this._boundsDirty=!1,this._bounds):this._bounds}get roundPixels(){return!!this._roundPixels}set roundPixels(e){this._roundPixels=e?1:0}containsPoint(e){const n=this.bounds,{x:r,y:i}=e;return r>=n.minX&&r<=n.maxX&&i>=n.minY&&i<=n.maxY}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0;const e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}destroy(e){super.destroy(e),this._bounds=null;for(const n in this._gpuData)this._gpuData[n].destroy?.();this._gpuData=null}collectRenderablesSimple(e,n,r){const{renderPipes:i}=n;i.blendMode.pushBlendMode(this,this.groupBlendMode,e),i[this.renderPipeId].addRenderable(this,e),this.didViewUpdate=!1;const o=this.children,a=o.length;for(let l=0;l<a;l++)o[l].collectRenderables(e,n,r);i.blendMode.popBlendMode(e)}}class Gn extends sm{constructor(e=U.EMPTY){e instanceof U&&(e={texture:e});const{texture:n=U.EMPTY,anchor:r,roundPixels:i,width:s,height:o,...a}=e;super({label:"Sprite",...a}),this.renderPipeId="sprite",this.batched=!0,this._visualBounds={minX:0,maxX:1,minY:0,maxY:0},this._anchor=new be({_onUpdate:()=>{this.onViewUpdate()}}),r?this.anchor=r:n.defaultAnchor&&(this.anchor=n.defaultAnchor),this.texture=n,this.allowChildren=!1,this.roundPixels=i??!1,s!==void 0&&(this.width=s),o!==void 0&&(this.height=o)}static from(e,n=!1){return e instanceof U?new Gn(e):new Gn(U.from(e,n))}set texture(e){e||(e=U.EMPTY);const n=this._texture;n!==e&&(n&&n.dynamic&&n.off("update",this.onViewUpdate,this),e.dynamic&&e.on("update",this.onViewUpdate,this),this._texture=e,this._width&&this._setWidth(this._width,this._texture.orig.width),this._height&&this._setHeight(this._height,this._texture.orig.height),this.onViewUpdate())}get texture(){return this._texture}get visualBounds(){return tx(this._visualBounds,this._anchor,this._texture),this._visualBounds}get sourceBounds(){return D("8.6.1","Sprite.sourceBounds is deprecated, use visualBounds instead."),this.visualBounds}updateBounds(){const e=this._anchor,n=this._texture,r=this._bounds,{width:i,height:s}=n.orig;r.minX=-e._x*i,r.maxX=r.minX+i,r.minY=-e._y*s,r.maxY=r.minY+s}destroy(e=!1){if(super.destroy(e),typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.textureSource;this._texture.destroy(r)}this._texture=null,this._visualBounds=null,this._bounds=null,this._anchor=null,this._gpuData=null}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){this._setWidth(e,this._texture.orig.width),this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){this._setHeight(e,this._texture.orig.height),this._height=e}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this._texture.orig.width,e.height=Math.abs(this.scale.y)*this._texture.orig.height,e}setSize(e,n){typeof e=="object"?(n=e.height??e.width,e=e.width):n??(n=e),e!==void 0&&this._setWidth(e,this._texture.orig.width),n!==void 0&&this._setHeight(n,this._texture.orig.height)}}const Bx=new yt;function om(t,e,n){const r=Bx;t.measurable=!0,Qp(t,n,r),e.addBoundsMask(r),t.measurable=!1}function am(t,e,n){const r=Nt.get();t.measurable=!0;const i=Ie.get().identity(),s=lm(t,n,i);em(t,r,s),t.measurable=!1,e.addBoundsMask(r),Ie.return(i),Nt.return(r)}function lm(t,e,n){return t?(t!==e&&(lm(t.parent,e,n),t.updateLocalTransform(),n.append(t.localTransform)),n):(ee("Mask bounds, renderable is not inside the root container"),n)}class um{constructor(e){this.priority=0,this.inverse=!1,this.pipe="alphaMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.renderMaskToTexture=!(e instanceof Gn),this.mask.renderable=this.renderMaskToTexture,this.mask.includeInBuild=!this.renderMaskToTexture,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask=null}addBounds(e,n){this.inverse||om(this.mask,e,n)}addLocalBounds(e,n){am(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}destroy(){this.reset()}static test(e){return e instanceof Gn}}um.extension=B.MaskEffect;class cm{constructor(e){this.priority=0,this.pipe="colorMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e}destroy(){}static test(e){return typeof e=="number"}}cm.extension=B.MaskEffect;class hm{constructor(e){this.priority=0,this.pipe="stencilMask",e?.mask&&this.init(e.mask)}init(e){this.mask=e,this.mask.includeInBuild=!1,this.mask.measurable=!1}reset(){this.mask.measurable=!0,this.mask.includeInBuild=!0,this.mask=null}addBounds(e,n){om(this.mask,e,n)}addLocalBounds(e,n){am(this.mask,e,n)}containsPoint(e,n){const r=this.mask;return n(r,e)}destroy(){this.reset()}static test(e){return e instanceof Rt}}hm.extension=B.MaskEffect;const zx={createCanvas:(t,e)=>{const n=document.createElement("canvas");return n.width=t,n.height=e,n},createImage:()=>new Image,getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")};let Lh=zx;const ne={get(){return Lh},set(t){Lh=t}};class dm extends _t{constructor(e){e.resource||(e.resource=ne.get().createCanvas()),e.width||(e.width=e.resource.width,e.autoDensity||(e.width/=e.resolution)),e.height||(e.height=e.resource.height,e.autoDensity||(e.height/=e.resolution)),super(e),this.uploadMethodId="image",this.autoDensity=e.autoDensity,this.resizeCanvas(),this.transparent=!!e.transparent}resizeCanvas(){this.autoDensity&&"style"in this.resource&&(this.resource.style.width=`${this.width}px`,this.resource.style.height=`${this.height}px`),(this.resource.width!==this.pixelWidth||this.resource.height!==this.pixelHeight)&&(this.resource.width=this.pixelWidth,this.resource.height=this.pixelHeight)}resize(e=this.width,n=this.height,r=this._resolution){const i=super.resize(e,n,r);return i&&this.resizeCanvas(),i}static test(e){return globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement||globalThis.OffscreenCanvas&&e instanceof OffscreenCanvas}get context2D(){return this._context2D||(this._context2D=this.resource.getContext("2d"))}}dm.extension=B.TextureSource;class Un extends _t{constructor(e){super(e),this.uploadMethodId="image",this.autoGarbageCollect=!0}static test(e){return globalThis.HTMLImageElement&&e instanceof HTMLImageElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap||globalThis.VideoFrame&&e instanceof VideoFrame}}Un.extension=B.TextureSource;var Bl=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Bl||{});class va{constructor(e,n=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this._fn=e,this._context=n,this.priority=r,this._once=i}match(e,n=null){return this._fn===e&&this._context===n}emit(e){this._fn&&(this._context?this._fn.call(this._context,e):this._fn(e));const n=this.next;return this._once&&this.destroy(!0),this._destroyed&&(this.next=null),n}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this._fn=null,this._context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const n=this.next;return this.next=e?null:n,this.previous=null,n}}const fm=class He{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new va(null,null,1/0),this.deltaMS=1/He.targetFPMS,this.elapsedMS=1/He.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,n,r=Bl.NORMAL){return this._addListener(new va(e,n,r))}addOnce(e,n,r=Bl.NORMAL){return this._addListener(new va(e,n,r,!0))}_addListener(e){let n=this._head.next,r=this._head;if(!n)e.connect(r);else{for(;n;){if(e.priority>n.priority){e.connect(r);break}r=n,n=n.next}e.previous||e.connect(r)}return this._startIfPossible(),this}remove(e,n){let r=this._head.next;for(;r;)r.match(e,n)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,n=this._head;for(;n=n.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(e=performance.now()){let n;if(e>this.lastTime){if(n=this.elapsedMS=e-this.lastTime,n>this._maxElapsedMS&&(n=this._maxElapsedMS),n*=this.speed,this._minElapsedMS){const s=e-this._lastFrame|0;if(s<this._minElapsedMS)return;this._lastFrame=e-s%this._minElapsedMS}this.deltaMS=n,this.deltaTime=this.deltaMS*He.targetFPMS;const r=this._head;let i=r.next;for(;i;)i=i.emit(this);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(e){const n=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,n)/1e3,He.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(e===0)this._minElapsedMS=0;else{const n=Math.max(this.minFPS,e);this._minElapsedMS=1/(n/1e3)}}static get shared(){if(!He._shared){const e=He._shared=new He;e.autoStart=!0,e._protected=!0}return He._shared}static get system(){if(!He._system){const e=He._system=new He;e.autoStart=!0,e._protected=!0}return He._system}};fm.targetFPMS=.06;let ps=fm,wa;async function pm(){return wa??(wa=(async()=>{const e=ne.get().createCanvas(1,1).getContext("webgl");if(!e)return"premultiply-alpha-on-upload";const n=await new Promise(o=>{const a=document.createElement("video");a.onloadeddata=()=>o(a),a.onerror=()=>o(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!n)return"premultiply-alpha-on-upload";const r=e.createTexture();e.bindTexture(e.TEXTURE_2D,r);const i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,r,0),e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),e.pixelStorei(e.UNPACK_COLORSPACE_CONVERSION_WEBGL,e.NONE),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,n);const s=new Uint8Array(4);return e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,s),e.deleteFramebuffer(i),e.deleteTexture(r),e.getExtension("WEBGL_lose_context")?.loseContext(),s[0]<=s[3]?"premultiplied-alpha":"premultiply-alpha-on-upload"})()),wa}const Fo=class mm extends _t{constructor(e){super(e),this.isReady=!1,this.uploadMethodId="video",e={...mm.defaultOptions,...e},this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this.alphaMode=e.alphaMode??"premultiply-alpha-on-upload",this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onCanPlayThrough=this._onCanPlayThrough.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),e.autoLoad!==!1&&this.load()}updateFrame(){if(!this.destroyed){if(this._updateFPS){const e=ps.shared.elapsedMS*this.resource.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0),this.isValid&&this.update()}}_videoFrameRequestCallback(){this.updateFrame(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback)}get isValid(){return!!this.resource.videoWidth&&!!this.resource.videoHeight}async load(){if(this._load)return this._load;const e=this.resource,n=this.options;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._mediaReady():(n.preload||e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlayThrough),e.addEventListener("error",this._onError,!0)),this.alphaMode=await pm(),this._load=new Promise((r,i)=>{this.isValid?r(this):(this._resolve=r,this._reject=i,n.preloadTimeoutMs!==void 0&&(this._preloadTimeout=setTimeout(()=>{this._onError(new ErrorEvent(`Preload exceeded timeout of ${n.preloadTimeoutMs}ms`))})),e.load())}),this._load}_onError(e){this.resource.removeEventListener("error",this._onError,!0),this.emit("error",e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.resource;return!e.paused&&!e.ended}_isSourceReady(){return this.resource.readyState>2}_onPlayStart(){this.isValid||this._mediaReady(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0)}_onCanPlay(){this.resource.removeEventListener("canplay",this._onCanPlay),this._mediaReady()}_onCanPlayThrough(){this.resource.removeEventListener("canplaythrough",this._onCanPlay),this._preloadTimeout&&(clearTimeout(this._preloadTimeout),this._preloadTimeout=void 0),this._mediaReady()}_mediaReady(){const e=this.resource;this.isValid&&(this.isReady=!0,this.resize(e.videoWidth,e.videoHeight)),this._msToNextUpdate=0,this.updateFrame(),this._msToNextUpdate=0,this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.resource.play()}destroy(){this._configureAutoUpdate();const e=this.resource;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlayThrough),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.destroy()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.resource.requestVideoFrameCallback?(this._isConnectedToTicker&&(ps.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.resource.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ps.shared.add(this.updateFrame,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.resource.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ps.shared.remove(this.updateFrame,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement}};Fo.extension=B.TextureSource;Fo.defaultOptions={..._t.defaultOptions,autoLoad:!0,autoPlay:!0,updateFPS:0,crossorigin:!0,loop:!1,muted:!0,playsinline:!0,preload:!1};Fo.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let hi=Fo;const ft=(t,e,n=!1)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"||n?e(r):r):t);class Ox{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const n=this._cache.get(e);return n||ee(`[Assets] Asset id ${e} was not found in the Cache`),n}set(e,n){const r=ft(e);let i;for(let l=0;l<this.parsers.length;l++){const u=this.parsers[l];if(u.test(n)){i=u.getCacheableAssets(r,n);break}}const s=new Map(Object.entries(i||{}));i||r.forEach(l=>{s.set(l,n)});const o=[...s.keys()],a={cacheKeys:o,keys:r};r.forEach(l=>{this._cacheMap.set(l,a)}),o.forEach(l=>{const u=i?i[l]:n;this._cache.has(l)&&this._cache.get(l)!==u&&ee("[Cache] already has key:",l),this._cache.set(l,s.get(l))})}remove(e){if(!this._cacheMap.has(e)){ee(`[Assets] Asset id ${e} was not found in the Cache`);return}const n=this._cacheMap.get(e);n.cacheKeys.forEach(i=>{this._cache.delete(i)}),n.keys.forEach(i=>{this._cacheMap.delete(i)})}get parsers(){return this._parsers}}const J=new Ox,zl=[];Ce.handleByList(B.TextureSource,zl);function gm(t={}){const e=t&&t.resource,n=e?t.resource:t,r=e?t:{resource:t};for(let i=0;i<zl.length;i++){const s=zl[i];if(s.test(n))return new s(r)}throw new Error(`Could not find a source type for resource: ${r.resource}`)}function Nx(t={},e=!1){const n=t&&t.resource,r=n?t.resource:t,i=n?t:{resource:t};if(!e&&J.has(r))return J.get(r);const s=new U({source:gm(i)});return s.on("destroy",()=>{J.has(r)&&J.remove(r)}),e||J.set(r,s),s}function Dx(t,e=!1){return typeof t=="string"?J.get(t):t instanceof _t?new U({source:t}):Nx(t,e)}U.from=Dx;_t.from=gm;Ce.add(um,cm,hm,hi,Un,dm,Hu);var yn=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(yn||{});function ut(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function jr(t){return t.split("?")[0].split("#")[0]}function jx(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gx(t,e,n){return t.replace(new RegExp(jx(e),"g"),n)}function Ux(t,e){let n="",r=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(n.length<2||r!==2||n.charCodeAt(n.length-1)!==46||n.charCodeAt(n.length-2)!==46){if(n.length>2){const l=n.lastIndexOf("/");if(l!==n.length-1){l===-1?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),i=a,s=0;continue}}else if(n.length===2||n.length===1){n="",r=0,i=a,s=0;continue}}e&&(n.length>0?n+="/..":n="..",r=2)}else n.length>0?n+=`/${t.slice(i+1,a)}`:n=t.slice(i+1,a),r=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return n}const qe={toPosix(t){return Gx(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},isBlobUrl(t){return t.startsWith("blob:")},hasProtocol(t){return/^[^/:]+:/.test(this.toPosix(t))},getProtocol(t){ut(t),t=this.toPosix(t);const e=/^file:\/\/\//.exec(t);if(e)return e[0];const n=/^[^/:]+:\/{0,2}/.exec(t);return n?n[0]:""},toAbsolute(t,e,n){if(ut(t),this.isDataUrl(t)||this.isBlobUrl(t))return t;const r=jr(this.toPosix(e??ne.get().getBaseUrl())),i=jr(this.toPosix(n??this.rootname(r)));return t=this.toPosix(t),t.startsWith("/")?qe.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(r,t)},normalize(t){if(ut(t),t.length===0)return".";if(this.isDataUrl(t)||this.isBlobUrl(t))return t;t=this.toPosix(t);let e="";const n=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const r=t.endsWith("/");return t=Ux(t,!1),t.length>0&&r&&(t+="/"),n?`/${t}`:e+t},isAbsolute(t){return ut(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let n=0;n<t.length;++n){const r=t[n];if(ut(r),r.length>0)if(e===void 0)e=r;else{const i=t[n-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(ut(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const n=e===47;let r=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){r=a;break}}else i=!1;return r===-1?n?"/":this.isUrl(o)?s+t:s:n&&r===1?"//":s+t.slice(0,r)},rootname(t){ut(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const n=t.indexOf("/",e.length);n!==-1?e=t.slice(0,n):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){ut(t),e&&ut(e),t=jr(this.toPosix(t));let n=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const l=t.charCodeAt(s);if(l===47){if(!i){n=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(l===e.charCodeAt(o)?--o===-1&&(r=s):(o=-1,r=a))}return n===r?r=a:r===-1&&(r=t.length),t.slice(n,r)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){n=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":t.slice(n,r)},extname(t){ut(t),t=jr(this.toPosix(t));let e=-1,n=0,r=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){n=o+1;break}continue}r===-1&&(i=!1,r=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===n+1?"":t.slice(e,r)},parse(t){ut(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=jr(this.toPosix(t));let n=t.charCodeAt(0);const r=this.isAbsolute(t);let i;e.root=this.rootname(t),r||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,l=!0,u=t.length-1,c=0;for(;u>=i;--u){if(n=t.charCodeAt(u),n===47){if(!l){o=u+1;break}continue}a===-1&&(l=!1,a=u+1),n===46?s===-1?s=u:c!==1&&(c=1):s!==-1&&(c=-1)}return s===-1||a===-1||c===0||c===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&r?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&r?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":",joinExtensions:[".html"]};function ym(t,e,n,r,i){const s=e[n];for(let o=0;o<s.length;o++){const a=s[o];n<e.length-1?ym(t.replace(r[n],a),e,n+1,r,i):i.push(t.replace(r[n],a))}}function Wx(t){const e=/\{(.*?)\}/g,n=t.match(e),r=[];if(n){const i=[];n.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),ym(t,i,0,n,r)}else r.push(t);return r}const fo=t=>!Array.isArray(t);class Tr{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,n)=>`${e}${this._bundleIdConnector}${n}`,extractAssetIdFromBundle:(e,n)=>n.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(n=>{this._preferredOrder.push(n),n.priority||(n.priority=Object.keys(n.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const n=e;this._defaultSearchParams=Object.keys(n).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(n[r])}`).join("&")}}getAlias(e){const{alias:n,src:r}=e;return ft(n||r,s=>typeof s=="string"?s:Array.isArray(s)?s.map(o=>o?.src??o):s?.src?s.src:s,!0)}addManifest(e){this._manifest&&ee("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(n=>{this.addBundle(n.name,n.assets)})}addBundle(e,n){const r=[];let i=n;Array.isArray(n)||(i=Object.entries(n).map(([s,o])=>typeof o=="string"||Array.isArray(o)?{alias:s,src:o}:{alias:s,...o})),i.forEach(s=>{const o=s.src,a=s.alias;let l;if(typeof a=="string"){const u=this._createBundleAssetId(e,a);r.push(u),l=[a,u]}else{const u=a.map(c=>this._createBundleAssetId(e,c));r.push(...u),l=[...a,...u]}this.add({...s,alias:l,src:o})}),this._bundles[e]=r}add(e){const n=[];Array.isArray(e)?n.push(...e):n.push(e);let r;r=s=>{this.hasKey(s)&&ee(`[Resolver] already has key: ${s} overwriting`)},ft(n).forEach(s=>{const{src:o}=s;let{data:a,format:l,loadParser:u,parser:c}=s;const h=ft(o).map(g=>typeof g=="string"?Wx(g):Array.isArray(g)?g:[g]),d=this.getAlias(s);Array.isArray(d)?d.forEach(r):r(d);const f=[];h.forEach(g=>{g.forEach(x=>{let _={};if(typeof x!="object"){_.src=x;for(let m=0;m<this._parsers.length;m++){const p=this._parsers[m];if(p.test(x)){_=p.parse(x);break}}}else a=x.data??a,l=x.format??l,(x.loadParser||x.parser)&&(u=x.loadParser??u,c=x.parser??c),_={..._,...x};if(!d)throw new Error(`[Resolver] alias is undefined for this asset: ${_.src}`);_=this._buildResolvedAsset(_,{aliases:d,data:a,format:l,loadParser:u,parser:c}),f.push(_)})}),d.forEach(g=>{this._assetMap[g]=f})})}resolveBundle(e){const n=fo(e);e=ft(e);const r={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const l in o){const u=o[l];a[this._extractAssetIdFromBundle(i,l)]=u}r[i]=a}}),n?r[e[0]]:r}resolveUrl(e){const n=this.resolve(e);if(typeof e!="string"){const r={};for(const i in n)r[i]=n[i].src;return r}return n.src}resolve(e){const n=fo(e);e=ft(e);const r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s);o?.priority.forEach(a=>{o.params[a].forEach(l=>{const u=s.filter(c=>c[a]?c[a]===l:!1);u.length&&(s=u)})}),this._resolverHash[i]=s[0]}else this._resolverHash[i]=this._buildResolvedAsset({alias:[i],src:i},{});r[i]=this._resolverHash[i]}),n?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let n=0;n<e.length;n++){const r=e[n],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const n=/\?/.test(e)?"&":"?";return`${e}${n}${this._defaultSearchParams}`}_buildResolvedAsset(e,n){const{aliases:r,data:i,loadParser:s,parser:o,format:a}=n;return(this._basePath||this._rootPath)&&(e.src=qe.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data={...i||{},...e.data},e.loadParser=s??e.loadParser,e.parser=o??e.parser,e.format=a??e.format??$x(e.src),e}}Tr.RETINA_PREFIX=/@([0-9\.]+)x/;function $x(t){return t.split(".").pop().split("?").shift().split("#").shift()}const Ol=(t,e)=>{const n=e.split("?")[1];return n&&(t+=`?${n}`),t},xm=class Qr{constructor(e,n){this.linkedSheets=[];let r=e;e?.source instanceof _t&&(r={texture:e,data:n});const{texture:i,data:s,cachePrefix:o=""}=r;this.cachePrefix=o,this._texture=i instanceof U?i:null,this.textureSource=i.source,this.textures={},this.animations={},this.data=s;const a=parseFloat(s.meta.scale);a?(this.resolution=a,i.source.resolution=this.resolution):this.resolution=i.source._resolution,this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}parse(){return new Promise(e=>{this._callback=e,this._batchIndex=0,this._frameKeys.length<=Qr.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(e){let n=e;const r=Qr.BATCH_SIZE;for(;n-e<r&&n<this._frameKeys.length;){const i=this._frameKeys[n],s=this._frames[i],o=s.frame;if(o){let a=null,l=null;const u=s.trimmed!==!1&&s.sourceSize?s.sourceSize:s.frame,c=new fe(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);s.rotated?a=new fe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):a=new fe(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),s.trimmed!==!1&&s.spriteSourceSize&&(l=new fe(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[i]=new U({source:this.textureSource,frame:a,orig:c,trim:l,rotate:s.rotated?2:0,defaultAnchor:s.anchor,defaultBorders:s.borders,label:i.toString()})}n++}}_processAnimations(){const e=this.data.animations||{};for(const n in e){this.animations[n]=[];for(let r=0;r<e[n].length;r++){const i=e[n][r];this.animations[n].push(this.textures[i])}}}_parseComplete(){const e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Qr.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Qr.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(e=!1){for(const n in this.textures)this.textures[n].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(this._texture?.destroy(),this.textureSource.destroy()),this._texture=null,this.textureSource=null,this.linkedSheets=[]}};xm.BATCH_SIZE=1e3;let Bh=xm;const Hx=["jpg","png","jpeg","avif","webp","basis","etc2","bc7","bc6h","bc5","bc4","bc3","bc2","bc1","eac","astc"];function _m(t,e,n){const r={};if(t.forEach(i=>{r[i]=e}),Object.keys(e.textures).forEach(i=>{r[`${e.cachePrefix}${i}`]=e.textures[i]}),!n){const i=qe.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=_m([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(r,a)})}return r}const Vx={extension:B.Asset,cache:{test:t=>t instanceof Bh,getCacheableAssets:(t,e)=>_m(t,e,!1)},resolver:{extension:{type:B.ResolveParser,name:"resolveSpritesheet"},test:t=>{const n=t.split("?")[0].split("."),r=n.pop(),i=n.pop();return r==="json"&&Hx.includes(i)},parse:t=>{const e=t.split(".");return{resolution:parseFloat(Tr.RETINA_PREFIX.exec(t)?.[1]??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",id:"spritesheet",extension:{type:B.LoadParser,priority:yn.Normal,name:"spritesheetLoader"},async testParse(t,e){return qe.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,n){const{texture:r,imageFilename:i,textureOptions:s,cachePrefix:o}=e?.data??{};let a=qe.dirname(e.src);a&&a.lastIndexOf("/")!==a.length-1&&(a+="/");let l;if(r instanceof U)l=r;else{const h=Ol(a+(i??t.meta.image),e.src);l=(await n.load([{src:h,data:s}]))[h]}const u=new Bh({texture:l.source,data:t,cachePrefix:o});await u.parse();const c=t?.meta?.related_multi_packs;if(Array.isArray(c)){const h=[];for(const f of c){if(typeof f!="string")continue;let g=a+f;e.data?.ignoreMultiPack||(g=Ol(g,e.src),h.push(n.load({src:g,data:{textureOptions:s,ignoreMultiPack:!0}})))}const d=await Promise.all(h);u.linkedSheets=d,d.forEach(f=>{f.linkedSheets=[u].concat(u.linkedSheets.filter(g=>g!==f))})}return u},async unload(t,e,n){await n.unload(t.textureSource._sourceOrigin),t.destroy(!1)}}};Ce.add(Vx);const Sa=Object.create(null),zh=Object.create(null);function Yu(t,e){let n=zh[t];return n===void 0&&(Sa[e]===void 0&&(Sa[e]=1),zh[t]=n=Sa[e]++),n}let ms;function vm(){return(!ms||ms?.isContextLost())&&(ms=ne.get().createCanvas().getContext("webgl",{})),ms}let gs;function Yx(){if(!gs){gs="mediump";const t=vm();t&&t.getShaderPrecisionFormat&&(gs=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?"highp":"mediump")}return gs}function Xx(t,e,n){return e?t:n?(t=t.replace("out vec4 finalColor;",""),`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in varying
        #define finalColor gl_FragColor
        #define texture texture2D
        #endif
        ${t}
        `):`

        #ifdef GL_ES // This checks if it is WebGL1
        #define in attribute
        #define out varying
        #endif
        ${t}
        `}function qx(t,e,n){const r=n?e.maxSupportedFragmentPrecision:e.maxSupportedVertexPrecision;if(t.substring(0,9)!=="precision"){let i=n?e.requestedFragmentPrecision:e.requestedVertexPrecision;return i==="highp"&&r!=="highp"&&(i="mediump"),`precision ${i} float;
${t}`}else if(r!=="highp"&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}function Kx(t,e){return e?`#version 300 es
${t}`:t}const Qx={},Zx={};function Jx(t,{name:e="pixi-program"},n=!0){e=e.replace(/\s+/g,"-"),e+=n?"-fragment":"-vertex";const r=n?Qx:Zx;return r[e]?(r[e]++,e+=`-${r[e]}`):r[e]=1,t.indexOf("#define SHADER_NAME")!==-1?t:`${`#define SHADER_NAME ${e}`}
${t}`}function e1(t,e){return e?t.replace("#version 300 es",""):t}const Ca={stripVersion:e1,ensurePrecision:qx,addProgramDefines:Xx,setProgramName:Jx,insertVersion:Kx},Gr=Object.create(null),wm=class Nl{constructor(e){e={...Nl.defaultOptions,...e};const n=e.fragment.indexOf("#version 300 es")!==-1,r={stripVersion:n,ensurePrecision:{requestedFragmentPrecision:e.preferredFragmentPrecision,requestedVertexPrecision:e.preferredVertexPrecision,maxSupportedVertexPrecision:"highp",maxSupportedFragmentPrecision:Yx()},setProgramName:{name:e.name},addProgramDefines:n,insertVersion:n};let i=e.fragment,s=e.vertex;Object.keys(Ca).forEach(o=>{const a=r[o];i=Ca[o](i,a,!0),s=Ca[o](s,a,!1)}),this.fragment=i,this.vertex=s,this.transformFeedbackVaryings=e.transformFeedbackVaryings,this._key=Yu(`${this.vertex}:${this.fragment}`,"gl-program")}destroy(){this.fragment=null,this.vertex=null,this._attributeData=null,this._uniformData=null,this._uniformBlockData=null,this.transformFeedbackVaryings=null,Gr[this._cacheKey]=null}static from(e){const n=`${e.vertex}:${e.fragment}`;return Gr[n]||(Gr[n]=new Nl(e),Gr[n]._cacheKey=n),Gr[n]}};wm.defaultOptions={preferredVertexPrecision:"highp",preferredFragmentPrecision:"mediump"};let Sm=wm;const Oh={uint8x2:{size:2,stride:2,normalised:!1},uint8x4:{size:4,stride:4,normalised:!1},sint8x2:{size:2,stride:2,normalised:!1},sint8x4:{size:4,stride:4,normalised:!1},unorm8x2:{size:2,stride:2,normalised:!0},unorm8x4:{size:4,stride:4,normalised:!0},snorm8x2:{size:2,stride:2,normalised:!0},snorm8x4:{size:4,stride:4,normalised:!0},uint16x2:{size:2,stride:4,normalised:!1},uint16x4:{size:4,stride:8,normalised:!1},sint16x2:{size:2,stride:4,normalised:!1},sint16x4:{size:4,stride:8,normalised:!1},unorm16x2:{size:2,stride:4,normalised:!0},unorm16x4:{size:4,stride:8,normalised:!0},snorm16x2:{size:2,stride:4,normalised:!0},snorm16x4:{size:4,stride:8,normalised:!0},float16x2:{size:2,stride:4,normalised:!1},float16x4:{size:4,stride:8,normalised:!1},float32:{size:1,stride:4,normalised:!1},float32x2:{size:2,stride:8,normalised:!1},float32x3:{size:3,stride:12,normalised:!1},float32x4:{size:4,stride:16,normalised:!1},uint32:{size:1,stride:4,normalised:!1},uint32x2:{size:2,stride:8,normalised:!1},uint32x3:{size:3,stride:12,normalised:!1},uint32x4:{size:4,stride:16,normalised:!1},sint32:{size:1,stride:4,normalised:!1},sint32x2:{size:2,stride:8,normalised:!1},sint32x3:{size:3,stride:12,normalised:!1},sint32x4:{size:4,stride:16,normalised:!1}};function t1(t){return Oh[t]??Oh.float32}const n1={f32:"float32","vec2<f32>":"float32x2","vec3<f32>":"float32x3","vec4<f32>":"float32x4",vec2f:"float32x2",vec3f:"float32x3",vec4f:"float32x4",i32:"sint32","vec2<i32>":"sint32x2","vec3<i32>":"sint32x3","vec4<i32>":"sint32x4",u32:"uint32","vec2<u32>":"uint32x2","vec3<u32>":"uint32x3","vec4<u32>":"uint32x4",bool:"uint32","vec2<bool>":"uint32x2","vec3<bool>":"uint32x3","vec4<bool>":"uint32x4"};function r1({source:t,entryPoint:e}){const n={},r=t.indexOf(`fn ${e}`);if(r!==-1){const i=t.indexOf("->",r);if(i!==-1){const s=t.substring(r,i),o=/@location\((\d+)\)\s+([a-zA-Z0-9_]+)\s*:\s*([a-zA-Z0-9_<>]+)(?:,|\s|$)/g;let a;for(;(a=o.exec(s))!==null;){const l=n1[a[3]]??"float32";n[a[2]]={location:parseInt(a[1],10),format:l,stride:t1(l).stride,offset:0,instance:!1,start:0}}}}return n}function ka(t){const e=/(^|[^/])@(group|binding)\(\d+\)[^;]+;/g,n=/@group\((\d+)\)/,r=/@binding\((\d+)\)/,i=/var(<[^>]+>)? (\w+)/,s=/:\s*(\w+)/,o=/struct\s+(\w+)\s*{([^}]+)}/g,a=/(\w+)\s*:\s*([\w\<\>]+)/g,l=/struct\s+(\w+)/,u=t.match(e)?.map(h=>({group:parseInt(h.match(n)[1],10),binding:parseInt(h.match(r)[1],10),name:h.match(i)[2],isUniform:h.match(i)[1]==="<uniform>",type:h.match(s)[1]}));if(!u)return{groups:[],structs:[]};const c=t.match(o)?.map(h=>{const d=h.match(l)[1],f=h.match(a).reduce((g,x)=>{const[_,m]=x.split(":");return g[_.trim()]=m.trim(),g},{});return f?{name:d,members:f}:null}).filter(({name:h})=>u.some(d=>d.type===h))??[];return{groups:u,structs:c}}var Zr=(t=>(t[t.VERTEX=1]="VERTEX",t[t.FRAGMENT=2]="FRAGMENT",t[t.COMPUTE=4]="COMPUTE",t))(Zr||{});function i1({groups:t}){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e[r.group]||(e[r.group]=[]),r.isUniform?e[r.group].push({binding:r.binding,visibility:Zr.VERTEX|Zr.FRAGMENT,buffer:{type:"uniform"}}):r.type==="sampler"?e[r.group].push({binding:r.binding,visibility:Zr.FRAGMENT,sampler:{type:"filtering"}}):r.type==="texture_2d"&&e[r.group].push({binding:r.binding,visibility:Zr.FRAGMENT,texture:{sampleType:"float",viewDimension:"2d",multisampled:!1}})}return e}function s1({groups:t}){const e=[];for(let n=0;n<t.length;n++){const r=t[n];e[r.group]||(e[r.group]={}),e[r.group][r.name]=r.binding}return e}function o1(t,e){const n=new Set,r=new Set,i=[...t.structs,...e.structs].filter(o=>n.has(o.name)?!1:(n.add(o.name),!0)),s=[...t.groups,...e.groups].filter(o=>{const a=`${o.name}-${o.binding}`;return r.has(a)?!1:(r.add(a),!0)});return{structs:i,groups:s}}const Ur=Object.create(null);class Lo{constructor(e){this._layoutKey=0,this._attributeLocationsKey=0;const{fragment:n,vertex:r,layout:i,gpuLayout:s,name:o}=e;if(this.name=o,this.fragment=n,this.vertex=r,n.source===r.source){const a=ka(n.source);this.structsAndGroups=a}else{const a=ka(r.source),l=ka(n.source);this.structsAndGroups=o1(a,l)}this.layout=i??s1(this.structsAndGroups),this.gpuLayout=s??i1(this.structsAndGroups),this.autoAssignGlobalUniforms=this.layout[0]?.globalUniforms!==void 0,this.autoAssignLocalUniforms=this.layout[1]?.localUniforms!==void 0,this._generateProgramKey()}_generateProgramKey(){const{vertex:e,fragment:n}=this,r=e.source+n.source+e.entryPoint+n.entryPoint;this._layoutKey=Yu(r,"program")}get attributeData(){return this._attributeData??(this._attributeData=r1(this.vertex)),this._attributeData}destroy(){this.gpuLayout=null,this.layout=null,this.structsAndGroups=null,this.fragment=null,this.vertex=null,Ur[this._cacheKey]=null}static from(e){const n=`${e.vertex.source}:${e.fragment.source}:${e.fragment.entryPoint}:${e.vertex.entryPoint}`;return Ur[n]||(Ur[n]=new Lo(e),Ur[n]._cacheKey=n),Ur[n]}}const Cm=["f32","i32","vec2<f32>","vec3<f32>","vec4<f32>","mat2x2<f32>","mat3x3<f32>","mat4x4<f32>","mat3x2<f32>","mat4x2<f32>","mat2x3<f32>","mat4x3<f32>","mat2x4<f32>","mat3x4<f32>","vec2<i32>","vec3<i32>","vec4<i32>"],a1=Cm.reduce((t,e)=>(t[e]=!0,t),{});function l1(t,e){switch(t){case"f32":return 0;case"vec2<f32>":return new Float32Array(2*e);case"vec3<f32>":return new Float32Array(3*e);case"vec4<f32>":return new Float32Array(4*e);case"mat2x2<f32>":return new Float32Array([1,0,0,1]);case"mat3x3<f32>":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4x4<f32>":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const km=class Am{constructor(e,n){this._touched=0,this.uid=he("uniform"),this._resourceType="uniformGroup",this._resourceId=he("resource"),this.isUniformGroup=!0,this._dirtyId=0,this.destroyed=!1,n={...Am.defaultOptions,...n},this.uniformStructures=e;const r={};for(const i in e){const s=e[i];if(s.name=i,s.size=s.size??1,!a1[s.type]){const o=s.type.match(/^array<(\w+(?:<\w+>)?),\s*(\d+)>$/);if(o){const[,a,l]=o;throw new Error(`Uniform type ${s.type} is not supported. Use type: '${a}', size: ${l} instead.`)}throw new Error(`Uniform type ${s.type} is not supported. Supported uniform types are: ${Cm.join(", ")}`)}s.value??(s.value=l1(s.type,s.size)),r[i]=s.value}this.uniforms=r,this._dirtyId=1,this.ubo=n.ubo,this.isStatic=n.isStatic,this._signature=Yu(Object.keys(r).map(i=>`${i}-${e[i].type}`).join("-"),"uniform-group")}update(){this._dirtyId++}};km.defaultOptions={ubo:!1,isStatic:!1};let Pm=km;class Os{constructor(e){this.resources=Object.create(null),this._dirty=!0;let n=0;for(const r in e){const i=e[r];this.setResource(i,n++)}this._updateKey()}_updateKey(){if(!this._dirty)return;this._dirty=!1;const e=[];let n=0;for(const r in this.resources)e[n++]=this.resources[r]._resourceId;this._key=e.join("|")}setResource(e,n){const r=this.resources[n];e!==r&&(r&&e.off?.("change",this.onResourceChange,this),e.on?.("change",this.onResourceChange,this),this.resources[n]=e,this._dirty=!0)}getResource(e){return this.resources[e]}_touch(e){const n=this.resources;for(const r in n)n[r]._touched=e}destroy(){const e=this.resources;for(const n in e)e[n].off?.("change",this.onResourceChange,this);this.resources=null}onResourceChange(e){if(this._dirty=!0,e.destroyed){const n=this.resources;for(const r in n)n[r]===e&&(n[r]=null)}else this._updateKey()}}var Dl=(t=>(t[t.WEBGL=1]="WEBGL",t[t.WEBGPU=2]="WEBGPU",t[t.BOTH=3]="BOTH",t))(Dl||{});class Xu extends xt{constructor(e){super(),this.uid=he("shader"),this._uniformBindMap=Object.create(null),this._ownedBindGroups=[];let{gpuProgram:n,glProgram:r,groups:i,resources:s,compatibleRenderers:o,groupMap:a}=e;this.gpuProgram=n,this.glProgram=r,o===void 0&&(o=0,n&&(o|=Dl.WEBGPU),r&&(o|=Dl.WEBGL)),this.compatibleRenderers=o;const l={};if(!s&&!i&&(s={}),s&&i)throw new Error("[Shader] Cannot have both resources and groups");if(!n&&i&&!a)throw new Error("[Shader] No group map or WebGPU shader provided - consider using resources instead.");if(!n&&i&&a)for(const u in a)for(const c in a[u]){const h=a[u][c];l[h]={group:u,binding:c,name:h}}else if(n&&i&&!a){const u=n.structsAndGroups.groups;a={},u.forEach(c=>{a[c.group]=a[c.group]||{},a[c.group][c.binding]=c.name,l[c.name]=c})}else if(s){i={},a={},n&&n.structsAndGroups.groups.forEach(h=>{a[h.group]=a[h.group]||{},a[h.group][h.binding]=h.name,l[h.name]=h});let u=0;for(const c in s)l[c]||(i[99]||(i[99]=new Os,this._ownedBindGroups.push(i[99])),l[c]={group:99,binding:u,name:c},a[99]=a[99]||{},a[99][u]=c,u++);for(const c in s){const h=c;let d=s[c];!d.source&&!d._resourceType&&(d=new Pm(d));const f=l[h];f&&(i[f.group]||(i[f.group]=new Os,this._ownedBindGroups.push(i[f.group])),i[f.group].setResource(d,f.binding))}}this.groups=i,this._uniformBindMap=a,this.resources=this._buildResourceAccessor(i,l)}addResource(e,n,r){var i,s;(i=this._uniformBindMap)[n]||(i[n]={}),(s=this._uniformBindMap[n])[r]||(s[r]=e),this.groups[n]||(this.groups[n]=new Os,this._ownedBindGroups.push(this.groups[n]))}_buildResourceAccessor(e,n){const r={};for(const i in n){const s=n[i];Object.defineProperty(r,s.name,{get(){return e[s.group].getResource(s.binding)},set(o){e[s.group].setResource(o,s.binding)}})}return r}destroy(e=!1){this.emit("destroy",this),e&&(this.gpuProgram?.destroy(),this.glProgram?.destroy()),this.gpuProgram=null,this.glProgram=null,this.removeAllListeners(),this._uniformBindMap=null,this._ownedBindGroups.forEach(n=>{n.destroy()}),this._ownedBindGroups=null,this.resources=null,this.groups=null}static from(e){const{gpu:n,gl:r,...i}=e;let s,o;return n&&(s=Lo.from(n)),r&&(o=Sm.from(r)),new Xu({gpuProgram:s,glProgram:o,...i})}}const jl=[];Ce.handleByNamedList(B.Environment,jl);async function u1(t){if(!t)for(let e=0;e<jl.length;e++){const n=jl[e];if(n.value.test()){await n.value.load();return}}}let Wr;function c1(){if(typeof Wr=="boolean")return Wr;try{Wr=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Wr=!1}return Wr}function Nh(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=bm(t,0,i,n,!0);const o=[];if(!s||s.next===s.prev)return o;let a,l,u;if(r&&(s=m1(t,e,s,n)),t.length>80*n){a=t[0],l=t[1];let c=a,h=l;for(let d=n;d<i;d+=n){const f=t[d],g=t[d+1];f<a&&(a=f),g<l&&(l=g),f>c&&(c=f),g>h&&(h=g)}u=Math.max(c-a,h-l),u=u!==0?32767/u:0}return Ii(s,o,n,a,l,u,0),o}function bm(t,e,n,r,i){let s;if(i===P1(t,e,n,r)>0)for(let o=e;o<n;o+=r)s=Dh(o/r|0,t[o],t[o+1],s);else for(let o=n-r;o>=e;o-=r)s=Dh(o/r|0,t[o],t[o+1],s);return s&&Ar(s,s.next)&&(Li(s),s=s.next),s}function Wn(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(Ar(n,n.next)||oe(n.prev,n,n.next)===0)){if(Li(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Ii(t,e,n,r,i,s,o){if(!t)return;!o&&s&&v1(t,r,i,s);let a=t;for(;t.prev!==t.next;){const l=t.prev,u=t.next;if(s?d1(t,r,i,s):h1(t)){e.push(l.i,t.i,u.i),Li(t),t=u.next,a=u.next;continue}if(t=u,t===a){o?o===1?(t=f1(Wn(t),e),Ii(t,e,n,r,i,s,2)):o===2&&p1(t,e,n,r,i,s):Ii(Wn(t),e,n,r,i,s,1);break}}}function h1(t){const e=t.prev,n=t,r=t.next;if(oe(e,n,r)>=0)return!1;const i=e.x,s=n.x,o=r.x,a=e.y,l=n.y,u=r.y,c=Math.min(i,s,o),h=Math.min(a,l,u),d=Math.max(i,s,o),f=Math.max(a,l,u);let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=d&&g.y>=h&&g.y<=f&&Jr(i,a,s,l,o,u,g.x,g.y)&&oe(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function d1(t,e,n,r){const i=t.prev,s=t,o=t.next;if(oe(i,s,o)>=0)return!1;const a=i.x,l=s.x,u=o.x,c=i.y,h=s.y,d=o.y,f=Math.min(a,l,u),g=Math.min(c,h,d),x=Math.max(a,l,u),_=Math.max(c,h,d),m=Gl(f,g,e,n,r),p=Gl(x,_,e,n,r);let y=t.prevZ,v=t.nextZ;for(;y&&y.z>=m&&v&&v.z<=p;){if(y.x>=f&&y.x<=x&&y.y>=g&&y.y<=_&&y!==i&&y!==o&&Jr(a,c,l,h,u,d,y.x,y.y)&&oe(y.prev,y,y.next)>=0||(y=y.prevZ,v.x>=f&&v.x<=x&&v.y>=g&&v.y<=_&&v!==i&&v!==o&&Jr(a,c,l,h,u,d,v.x,v.y)&&oe(v.prev,v,v.next)>=0))return!1;v=v.nextZ}for(;y&&y.z>=m;){if(y.x>=f&&y.x<=x&&y.y>=g&&y.y<=_&&y!==i&&y!==o&&Jr(a,c,l,h,u,d,y.x,y.y)&&oe(y.prev,y,y.next)>=0)return!1;y=y.prevZ}for(;v&&v.z<=p;){if(v.x>=f&&v.x<=x&&v.y>=g&&v.y<=_&&v!==i&&v!==o&&Jr(a,c,l,h,u,d,v.x,v.y)&&oe(v.prev,v,v.next)>=0)return!1;v=v.nextZ}return!0}function f1(t,e){let n=t;do{const r=n.prev,i=n.next.next;!Ar(r,i)&&Tm(r,n,n.next,i)&&Fi(r,i)&&Fi(i,r)&&(e.push(r.i,n.i,i.i),Li(n),Li(n.next),n=t=i),n=n.next}while(n!==t);return Wn(n)}function p1(t,e,n,r,i,s){let o=t;do{let a=o.next.next;for(;a!==o.prev;){if(o.i!==a.i&&C1(o,a)){let l=Em(o,a);o=Wn(o,o.next),l=Wn(l,l.next),Ii(o,e,n,r,i,s,0),Ii(l,e,n,r,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function m1(t,e,n,r){const i=[];for(let s=0,o=e.length;s<o;s++){const a=e[s]*r,l=s<o-1?e[s+1]*r:t.length,u=bm(t,a,l,r,!1);u===u.next&&(u.steiner=!0),i.push(S1(u))}i.sort(g1);for(let s=0;s<i.length;s++)n=y1(i[s],n);return n}function g1(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function y1(t,e){const n=x1(t,e);if(!n)return e;const r=Em(n,t);return Wn(r,r.next),Wn(n,n.next)}function x1(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,o;if(Ar(t,n))return n;do{if(Ar(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const h=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=r&&h>s&&(s=h,o=n.x<n.next.x?n:n.next,h===r))return o}n=n.next}while(n!==e);if(!o)return null;const a=o,l=o.x,u=o.y;let c=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Mm(i<u?r:s,i,l,u,i<u?s:r,i,n.x,n.y)){const h=Math.abs(i-n.y)/(r-n.x);Fi(n,t)&&(h<c||h===c&&(n.x>o.x||n.x===o.x&&_1(o,n)))&&(o=n,c=h)}n=n.next}while(n!==a);return o}function _1(t,e){return oe(t.prev,t,e.prev)<0&&oe(e.next,t,t.next)<0}function v1(t,e,n,r){let i=t;do i.z===0&&(i.z=Gl(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,w1(i)}function w1(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let o=r,a=0;for(let u=0;u<n&&(a++,o=o.nextZ,!!o);u++);let l=n;for(;a>0||l>0&&o;)a!==0&&(l===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,a--):(i=o,o=o.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=o}s.nextZ=null,n*=2}while(e>1);return t}function Gl(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function S1(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Mm(t,e,n,r,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(r-a)>=(n-o)*(e-a)&&(n-o)*(s-a)>=(i-o)*(r-a)}function Jr(t,e,n,r,i,s,o,a){return!(t===o&&e===a)&&Mm(t,e,n,r,i,s,o,a)}function C1(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!k1(t,e)&&(Fi(t,e)&&Fi(e,t)&&A1(t,e)&&(oe(t.prev,t,e.prev)||oe(t,e.prev,e))||Ar(t,e)&&oe(t.prev,t,t.next)>0&&oe(e.prev,e,e.next)>0)}function oe(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function Ar(t,e){return t.x===e.x&&t.y===e.y}function Tm(t,e,n,r){const i=xs(oe(t,e,n)),s=xs(oe(t,e,r)),o=xs(oe(n,r,t)),a=xs(oe(n,r,e));return!!(i!==s&&o!==a||i===0&&ys(t,n,e)||s===0&&ys(t,r,e)||o===0&&ys(n,t,r)||a===0&&ys(n,e,r))}function ys(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function xs(t){return t>0?1:t<0?-1:0}function k1(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&Tm(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Fi(t,e){return oe(t.prev,t,t.next)<0?oe(t,e,t.next)>=0&&oe(t,t.prev,e)>=0:oe(t,e,t.prev)<0||oe(t,t.next,e)<0}function A1(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Em(t,e){const n=Ul(t.i,t.x,t.y),r=Ul(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function Dh(t,e,n,r){const i=Ul(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Li(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Ul(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function P1(t,e,n,r){let i=0;for(let s=e,o=n-r;s<n;s+=r)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}const b1=Nh.default||Nh;var Rm=(t=>(t[t.NONE=0]="NONE",t[t.COLOR=16384]="COLOR",t[t.STENCIL=1024]="STENCIL",t[t.DEPTH=256]="DEPTH",t[t.COLOR_DEPTH=16640]="COLOR_DEPTH",t[t.COLOR_STENCIL=17408]="COLOR_STENCIL",t[t.DEPTH_STENCIL=1280]="DEPTH_STENCIL",t[t.ALL=17664]="ALL",t))(Rm||{});class M1{constructor(e){this.items=[],this._name=e}emit(e,n,r,i,s,o,a,l){const{name:u,items:c}=this;for(let h=0,d=c.length;h<d;h++)c[h][u](e,n,r,i,s,o,a,l);return this}add(e){return e[this._name]&&(this.remove(e),this.items.push(e)),this}remove(e){const n=this.items.indexOf(e);return n!==-1&&this.items.splice(n,1),this}contains(e){return this.items.indexOf(e)!==-1}removeAll(){return this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}const T1=["init","destroy","contextChange","resolutionChange","resetState","renderEnd","renderStart","render","update","postrender","prerender"],Im=class Fm extends xt{constructor(e){super(),this.uid=he("renderer"),this.runners=Object.create(null),this.renderPipes=Object.create(null),this._initOptions={},this._systemsHash=Object.create(null),this.type=e.type,this.name=e.name,this.config=e;const n=[...T1,...this.config.runners??[]];this._addRunners(...n),this._unsafeEvalCheck()}async init(e={}){const n=e.skipExtensionImports===!0?!0:e.manageImports===!1;await u1(n),this._addSystems(this.config.systems),this._addPipes(this.config.renderPipes,this.config.renderPipeAdaptors);for(const r in this._systemsHash)e={...this._systemsHash[r].constructor.defaultOptions,...e};e={...Fm.defaultOptions,...e},this._roundPixels=e.roundPixels?1:0;for(let r=0;r<this.runners.init.items.length;r++)await this.runners.init.items[r].init(e);this._initOptions=e}render(e,n){let r=e;if(r instanceof Rt&&(r={container:r},n&&(D(X,"passing a second argument is deprecated, please use render options instead"),r.target=n.renderTexture)),r.target||(r.target=this.view.renderTarget),r.target===this.view.renderTarget&&(this._lastObjectRendered=r.container,r.clearColor??(r.clearColor=this.background.colorRgba),r.clear??(r.clear=this.background.clearBeforeRender)),r.clearColor){const i=Array.isArray(r.clearColor)&&r.clearColor.length===4;r.clearColor=i?r.clearColor:ye.shared.setValue(r.clearColor).toArray()}r.transform||(r.container.updateLocalTransform(),r.transform=r.container.localTransform),r.container.visible&&(r.container.enableRenderGroup(),this.runners.prerender.emit(r),this.runners.renderStart.emit(r),this.runners.render.emit(r),this.runners.renderEnd.emit(r),this.runners.postrender.emit(r))}resize(e,n,r){const i=this.view.resolution;this.view.resize(e,n,r),this.emit("resize",this.view.screen.width,this.view.screen.height,this.view.resolution),r!==void 0&&r!==i&&this.runners.resolutionChange.emit(r)}clear(e={}){const n=this;e.target||(e.target=n.renderTarget.renderTarget),e.clearColor||(e.clearColor=this.background.colorRgba),e.clear??(e.clear=Rm.ALL);const{clear:r,clearColor:i,target:s}=e;ye.shared.setValue(i??this.background.colorRgba),n.renderTarget.clear(s,r,ye.shared.toArray())}get resolution(){return this.view.resolution}set resolution(e){this.view.resolution=e,this.runners.resolutionChange.emit(e)}get width(){return this.view.texture.frame.width}get height(){return this.view.texture.frame.height}get canvas(){return this.view.canvas}get lastObjectRendered(){return this._lastObjectRendered}get renderingToScreen(){return this.renderTarget.renderingToScreen}get screen(){return this.view.screen}_addRunners(...e){e.forEach(n=>{this.runners[n]=new M1(n)})}_addSystems(e){let n;for(n in e){const r=e[n];this._addSystem(r.value,r.name)}}_addSystem(e,n){const r=new e(this);if(this[n])throw new Error(`Whoops! The name "${n}" is already in use`);this[n]=r,this._systemsHash[n]=r;for(const i in this.runners)this.runners[i].add(r);return this}_addPipes(e,n){const r=n.reduce((i,s)=>(i[s.name]=s.value,i),{});e.forEach(i=>{const s=i.value,o=i.name,a=r[o];this.renderPipes[o]=new s(this,a?new a:null),this.runners.destroy.add(this.renderPipes[o])})}destroy(e=!1){this.runners.destroy.items.reverse(),this.runners.destroy.emit(e),Object.values(this.runners).forEach(n=>{n.destroy()}),(e===!0||typeof e=="object"&&e.releaseGlobalResources)&&Ui.release(),this._systemsHash=null,this.renderPipes=null}generateTexture(e){return this.textureGenerator.generateTexture(e)}get roundPixels(){return!!this._roundPixels}_unsafeEvalCheck(){if(!c1())throw new Error("Current environment does not allow unsafe-eval, please use pixi.js/unsafe-eval module to enable support.")}resetState(){this.runners.resetState.emit()}};Im.defaultOptions={resolution:1,failIfMajorPerformanceCaveat:!1,roundPixels:!1};let Lm=Im,_s;function E1(t){return _s!==void 0||(_s=(()=>{const e={stencil:!0,failIfMajorPerformanceCaveat:t??Lm.defaultOptions.failIfMajorPerformanceCaveat};try{if(!ne.get().getWebGLRenderingContext())return!1;let r=ne.get().createCanvas().getContext("webgl",e);const i=!!r?.getContextAttributes()?.stencil;if(r){const s=r.getExtension("WEBGL_lose_context");s&&s.loseContext()}return r=null,i}catch{return!1}})()),_s}let vs;async function R1(t={}){return vs!==void 0||(vs=await(async()=>{const e=ne.get().getNavigator().gpu;if(!e)return!1;try{return await(await e.requestAdapter(t)).requestDevice(),!0}catch{return!1}})()),vs}const jh=["webgl","webgpu","canvas"];async function I1(t){let e=[];t.preference?(e.push(t.preference),jh.forEach(s=>{s!==t.preference&&e.push(s)})):e=jh.slice();let n,r={};for(let s=0;s<e.length;s++){const o=e[s];if(o==="webgpu"&&await R1()){const{WebGPURenderer:a}=await uo(()=>import("./WebGPURenderer-423edd3e.js"),["assets/WebGPURenderer-423edd3e.js","assets/colorToUniform-21d3a5e1.js","assets/SharedSystems-f87aab2b.js"]);n=a,r={...t,...t.webgpu};break}else if(o==="webgl"&&E1(t.failIfMajorPerformanceCaveat??Lm.defaultOptions.failIfMajorPerformanceCaveat)){const{WebGLRenderer:a}=await uo(()=>import("./WebGLRenderer-60e49c7a.js"),["assets/WebGLRenderer-60e49c7a.js","assets/colorToUniform-21d3a5e1.js","assets/SharedSystems-f87aab2b.js"]);n=a,r={...t,...t.webgl};break}else if(o==="canvas")throw r={...t},new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!n)throw new Error("No available renderer for the current environment");const i=new n;return await i.init(r),i}const Bm="8.13.1";class zm{static init(){globalThis.__PIXI_APP_INIT__?.(this,Bm)}static destroy(){}}zm.extension=B.Application;class F1{constructor(e){this._renderer=e}init(){globalThis.__PIXI_RENDERER_INIT__?.(this._renderer,Bm)}destroy(){this._renderer=null}}F1.extension={type:[B.WebGLSystem,B.WebGPUSystem],name:"initHook",priority:-10};const Om=class Wl{constructor(...e){this.stage=new Rt,e[0]!==void 0&&D(X,"Application constructor options are deprecated, please use Application.init() instead.")}async init(e){e={...e},this.renderer=await I1(e),Wl._plugins.forEach(n=>{n.init.call(this,e)})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return D(X,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(e=!1,n=!1){const r=Wl._plugins.slice(0);r.reverse(),r.forEach(i=>{i.destroy.call(this)}),this.stage.destroy(n),this.stage=null,this.renderer.destroy(e),this.renderer=null}};Om._plugins=[];let qu=Om;Ce.handleByList(B.Application,qu._plugins);Ce.add(zm);class Nm extends xt{constructor(){super(...arguments),this.chars=Object.create(null),this.lineHeight=0,this.fontFamily="",this.fontMetrics={fontSize:0,ascent:0,descent:0},this.baseLineOffset=0,this.distanceField={type:"none",range:0},this.pages=[],this.applyFillAsTint=!0,this.baseMeasurementFontSize=100,this.baseRenderedFontSize=100}get font(){return D(X,"BitmapFont.font is deprecated, please use BitmapFont.fontFamily instead."),this.fontFamily}get pageTextures(){return D(X,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}get size(){return D(X,"BitmapFont.size is deprecated, please use BitmapFont.fontMetrics.fontSize instead."),this.fontMetrics.fontSize}get distanceFieldRange(){return D(X,"BitmapFont.distanceFieldRange is deprecated, please use BitmapFont.distanceField.range instead."),this.distanceField.range}get distanceFieldType(){return D(X,"BitmapFont.distanceFieldType is deprecated, please use BitmapFont.distanceField.type instead."),this.distanceField.type}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners();for(const n in this.chars)this.chars[n].texture?.destroy();this.chars=null,e&&(this.pages.forEach(n=>n.texture.destroy(!0)),this.pages=null)}}/**
 * tiny-lru
 *
 * @copyright 2025 Jason Mulligan <jason.mulligan@avoidwork.com>
 * @license BSD-3-Clause
 * @version 11.4.5
 */class L1{constructor(e=0,n=0,r=!1){this.first=null,this.items=Object.create(null),this.last=null,this.max=e,this.resetTtl=r,this.size=0,this.ttl=n}clear(){return this.first=null,this.items=Object.create(null),this.last=null,this.size=0,this}delete(e){if(this.has(e)){const n=this.items[e];delete this.items[e],this.size--,n.prev!==null&&(n.prev.next=n.next),n.next!==null&&(n.next.prev=n.prev),this.first===n&&(this.first=n.next),this.last===n&&(this.last=n.prev)}return this}entries(e=this.keys()){return e.map(n=>[n,this.get(n)])}evict(e=!1){if(e||this.size>0){const n=this.first;delete this.items[n.key],--this.size===0?(this.first=null,this.last=null):(this.first=n.next,this.first.prev=null)}return this}expiresAt(e){let n;return this.has(e)&&(n=this.items[e].expiry),n}get(e){const n=this.items[e];if(n!==void 0){if(this.ttl>0&&n.expiry<=Date.now()){this.delete(e);return}return this.moveToEnd(n),n.value}}has(e){return e in this.items}moveToEnd(e){this.last!==e&&(e.prev!==null&&(e.prev.next=e.next),e.next!==null&&(e.next.prev=e.prev),this.first===e&&(this.first=e.next),e.prev=this.last,e.next=null,this.last!==null&&(this.last.next=e),this.last=e,this.first===null&&(this.first=e))}keys(){const e=[];let n=this.first;for(;n!==null;)e.push(n.key),n=n.next;return e}setWithEvicted(e,n,r=this.resetTtl){let i=null;if(this.has(e))this.set(e,n,!0,r);else{this.max>0&&this.size===this.max&&(i={...this.first},this.evict(!0));let s=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:n};++this.size===1?this.first=s:this.last.next=s,this.last=s}return i}set(e,n,r=!1,i=this.resetTtl){let s=this.items[e];return r||s!==void 0?(s.value=n,r===!1&&i&&(s.expiry=this.ttl>0?Date.now()+this.ttl:this.ttl),this.moveToEnd(s)):(this.max>0&&this.size===this.max&&this.evict(!0),s=this.items[e]={expiry:this.ttl>0?Date.now()+this.ttl:this.ttl,key:e,prev:this.last,next:null,value:n},++this.size===1?this.first=s:this.last.next=s,this.last=s),this}values(e=this.keys()){return e.map(n=>this.get(n))}}function Dm(t=1e3,e=0,n=!1){if(isNaN(t)||t<0)throw new TypeError("Invalid max value");if(isNaN(e)||e<0)throw new TypeError("Invalid ttl value");if(typeof n!="boolean")throw new TypeError("Invalid resetTtl value");return new L1(t,e,n)}const B1=["serif","sans-serif","monospace","cursive","fantasy","system-ui"];function $l(t){const e=typeof t.fontSize=="number"?`${t.fontSize}px`:t.fontSize;let n=t.fontFamily;Array.isArray(t.fontFamily)||(n=t.fontFamily.split(","));for(let r=n.length-1;r>=0;r--){let i=n[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&!B1.includes(i)&&(i=`"${i}"`),n[r]=i}return`${t.fontStyle} ${t.fontVariant} ${t.fontWeight} ${e} ${n.join(",")}`}const Aa={willReadFrequently:!0},vt=class L{static get experimentalLetterSpacingSupported(){let e=L._experimentalLetterSpacingSupported;if(e===void 0){const n=ne.get().getCanvasRenderingContext2D().prototype;e=L._experimentalLetterSpacingSupported="letterSpacing"in n||"textLetterSpacing"in n}return e}constructor(e,n,r,i,s,o,a,l,u){this.text=e,this.style=n,this.width=r,this.height=i,this.lines=s,this.lineWidths=o,this.lineHeight=a,this.maxLineWidth=l,this.fontProperties=u}static measureText(e=" ",n,r=L._canvas,i=n.wordWrap){const s=`${e}-${n.styleKey}-wordWrap-${i}`;if(L._measurementCache.has(s))return L._measurementCache.get(s);const o=$l(n),a=L.measureFont(o);a.fontSize===0&&(a.fontSize=n.fontSize,a.ascent=n.fontSize);const l=L.__context;l.font=o;const c=(i?L._wordWrap(e,n,r):e).split(/(?:\r\n|\r|\n)/),h=new Array(c.length);let d=0;for(let p=0;p<c.length;p++){const y=L._measureText(c[p],n.letterSpacing,l);h[p]=y,d=Math.max(d,y)}const f=n._stroke?.width||0;let g=d+f;n.dropShadow&&(g+=n.dropShadow.distance);const x=n.lineHeight||a.fontSize;let _=Math.max(x,a.fontSize+f)+(c.length-1)*(x+n.leading);n.dropShadow&&(_+=n.dropShadow.distance);const m=new L(e,n,g,_,c,h,x+n.leading,d,a);return L._measurementCache.set(s,m),m}static _measureText(e,n,r){let i=!1;L.experimentalLetterSpacingSupported&&(L.experimentalLetterSpacing?(r.letterSpacing=`${n}px`,r.textLetterSpacing=`${n}px`,i=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));const s=r.measureText(e);let o=s.width;const a=-s.actualBoundingBoxLeft;let u=s.actualBoundingBoxRight-a;if(o>0)if(i)o-=n,u-=n;else{const c=(L.graphemeSegmenter(e).length-1)*n;o+=c,u+=c}return Math.max(o,u)}static _wordWrap(e,n,r=L._canvas){const i=r.getContext("2d",Aa);let s=0,o="",a="";const l=Object.create(null),{letterSpacing:u,whiteSpace:c}=n,h=L._collapseSpaces(c),d=L._collapseNewlines(c);let f=!h;const g=n.wordWrapWidth+u,x=L._tokenize(e);for(let _=0;_<x.length;_++){let m=x[_];if(L._isNewline(m)){if(!d){a+=L._addLine(o),f=!h,o="",s=0;continue}m=" "}if(h){const y=L.isBreakingSpace(m),v=L.isBreakingSpace(o[o.length-1]);if(y&&v)continue}const p=L._getFromCache(m,u,l,i);if(p>g)if(o!==""&&(a+=L._addLine(o),o="",s=0),L.canBreakWords(m,n.breakWords)){const y=L.wordWrapSplit(m);for(let v=0;v<y.length;v++){let C=y[v],S=C,w=1;for(;y[v+w];){const T=y[v+w];if(!L.canBreakChars(S,T,m,v,n.breakWords))C+=T;else break;S=T,w++}v+=w-1;const A=L._getFromCache(C,u,l,i);A+s>g&&(a+=L._addLine(o),f=!1,o="",s=0),o+=C,s+=A}}else{o.length>0&&(a+=L._addLine(o),o="",s=0);const y=_===x.length-1;a+=L._addLine(m,!y),f=!1,o="",s=0}else p+s>g&&(f=!1,a+=L._addLine(o),o="",s=0),(o.length>0||!L.isBreakingSpace(m)||f)&&(o+=m,s+=p)}return a+=L._addLine(o,!1),a}static _addLine(e,n=!0){return e=L._trimRight(e),e=n?`${e}
`:e,e}static _getFromCache(e,n,r,i){let s=r[e];return typeof s!="number"&&(s=L._measureText(e,n,i)+n,r[e]=s),s}static _collapseSpaces(e){return e==="normal"||e==="pre-line"}static _collapseNewlines(e){return e==="normal"}static _trimRight(e){if(typeof e!="string")return"";for(let n=e.length-1;n>=0;n--){const r=e[n];if(!L.isBreakingSpace(r))break;e=e.slice(0,-1)}return e}static _isNewline(e){return typeof e!="string"?!1:L._newlines.includes(e.charCodeAt(0))}static isBreakingSpace(e,n){return typeof e!="string"?!1:L._breakingSpaces.includes(e.charCodeAt(0))}static _tokenize(e){const n=[];let r="";if(typeof e!="string")return n;for(let i=0;i<e.length;i++){const s=e[i],o=e[i+1];if(L.isBreakingSpace(s,o)||L._isNewline(s)){r!==""&&(n.push(r),r=""),s==="\r"&&o===`
`?(n.push(`\r
`),i++):n.push(s);continue}r+=s}return r!==""&&n.push(r),n}static canBreakWords(e,n){return n}static canBreakChars(e,n,r,i,s){return!0}static wordWrapSplit(e){return L.graphemeSegmenter(e)}static measureFont(e){if(L._fonts[e])return L._fonts[e];const n=L._context;n.font=e;const r=n.measureText(L.METRICS_STRING+L.BASELINE_SYMBOL),i={ascent:r.actualBoundingBoxAscent,descent:r.actualBoundingBoxDescent,fontSize:r.actualBoundingBoxAscent+r.actualBoundingBoxDescent};return L._fonts[e]=i,i}static clearMetrics(e=""){e?delete L._fonts[e]:L._fonts={}}static get _canvas(){if(!L.__canvas){let e;try{const n=new OffscreenCanvas(0,0);if(n.getContext("2d",Aa)?.measureText)return L.__canvas=n,n;e=ne.get().createCanvas()}catch{e=ne.get().createCanvas()}e.width=e.height=10,L.__canvas=e}return L.__canvas}static get _context(){return L.__context||(L.__context=L._canvas.getContext("2d",Aa)),L.__context}};vt.METRICS_STRING="|ÉqÅ";vt.BASELINE_SYMBOL="M";vt.BASELINE_MULTIPLIER=1.4;vt.HEIGHT_MULTIPLIER=2;vt.graphemeSegmenter=(()=>{if(typeof Intl?.Segmenter=="function"){const t=new Intl.Segmenter;return e=>{const n=t.segment(e),r=[];let i=0;for(const s of n)r[i++]=s.segment;return r}}return t=>[...t]})();vt.experimentalLetterSpacing=!1;vt._fonts={};vt._newlines=[10,13];vt._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];vt._measurementCache=Dm(1e3);let Ns=vt;const Gh=[{offset:0,color:"white"},{offset:1,color:"black"}],Ku=class Hl{constructor(...e){this.uid=he("fillGradient"),this._tick=0,this.type="linear",this.colorStops=[];let n=z1(e);n={...n.type==="radial"?Hl.defaultRadialOptions:Hl.defaultLinearOptions,...Wp(n)},this._textureSize=n.textureSize,this._wrapMode=n.wrapMode,n.type==="radial"?(this.center=n.center,this.outerCenter=n.outerCenter??this.center,this.innerRadius=n.innerRadius,this.outerRadius=n.outerRadius,this.scale=n.scale,this.rotation=n.rotation):(this.start=n.start,this.end=n.end),this.textureSpace=n.textureSpace,this.type=n.type,n.colorStops.forEach(i=>{this.addColorStop(i.offset,i.color)})}addColorStop(e,n){return this.colorStops.push({offset:e,color:ye.shared.setValue(n).toHexa()}),this}buildLinearGradient(){if(this.texture)return;let{x:e,y:n}=this.start,{x:r,y:i}=this.end,s=r-e,o=i-n;const a=s<0||o<0;if(this._wrapMode==="clamp-to-edge"){if(s<0){const _=e;e=r,r=_,s*=-1}if(o<0){const _=n;n=i,i=_,o*=-1}}const l=this.colorStops.length?this.colorStops:Gh,u=this._textureSize,{canvas:c,context:h}=Wh(u,1),d=a?h.createLinearGradient(this._textureSize,0,0,0):h.createLinearGradient(0,0,this._textureSize,0);Uh(d,l),h.fillStyle=d,h.fillRect(0,0,u,1),this.texture=new U({source:new Un({resource:c,addressMode:this._wrapMode})});const f=Math.sqrt(s*s+o*o),g=Math.atan2(o,s),x=new G;x.scale(f/u,1),x.rotate(g),x.translate(e,n),this.textureSpace==="local"&&x.scale(u,u),this.transform=x}buildGradient(){this.texture||this._tick++,this.type==="linear"?this.buildLinearGradient():this.buildRadialGradient()}buildRadialGradient(){if(this.texture)return;const e=this.colorStops.length?this.colorStops:Gh,n=this._textureSize,{canvas:r,context:i}=Wh(n,n),{x:s,y:o}=this.center,{x:a,y:l}=this.outerCenter,u=this.innerRadius,c=this.outerRadius,h=a-c,d=l-c,f=n/(c*2),g=(s-h)*f,x=(o-d)*f,_=i.createRadialGradient(g,x,u*f,(a-h)*f,(l-d)*f,c*f);Uh(_,e),i.fillStyle=e[e.length-1].color,i.fillRect(0,0,n,n),i.fillStyle=_,i.translate(g,x),i.rotate(this.rotation),i.scale(1,this.scale),i.translate(-g,-x),i.fillRect(0,0,n,n),this.texture=new U({source:new Un({resource:r,addressMode:this._wrapMode})});const m=new G;m.scale(1/f,1/f),m.translate(h,d),this.textureSpace==="local"&&m.scale(n,n),this.transform=m}destroy(){this.texture?.destroy(!0),this.texture=null,this.transform=null,this.colorStops=[],this.start=null,this.end=null,this.center=null,this.outerCenter=null}get styleKey(){return`fill-gradient-${this.uid}-${this._tick}`}};Ku.defaultLinearOptions={start:{x:0,y:0},end:{x:0,y:1},colorStops:[],textureSpace:"local",type:"linear",textureSize:256,wrapMode:"clamp-to-edge"};Ku.defaultRadialOptions={center:{x:.5,y:.5},innerRadius:0,outerRadius:.5,colorStops:[],scale:1,textureSpace:"local",type:"radial",textureSize:256,wrapMode:"clamp-to-edge"};let Ht=Ku;function Uh(t,e){for(let n=0;n<e.length;n++){const r=e[n];t.addColorStop(r.offset,r.color)}}function Wh(t,e){const n=ne.get().createCanvas(t,e),r=n.getContext("2d");return{canvas:n,context:r}}function z1(t){let e=t[0]??{};return(typeof e=="number"||t[1])&&(D("8.5.2","use options object instead"),e={type:"linear",start:{x:t[0],y:t[1]},end:{x:t[2],y:t[3]},textureSpace:t[4],textureSize:t[5]??Ht.defaultLinearOptions.textureSize}),e}const $h={repeat:{addressModeU:"repeat",addressModeV:"repeat"},"repeat-x":{addressModeU:"repeat",addressModeV:"clamp-to-edge"},"repeat-y":{addressModeU:"clamp-to-edge",addressModeV:"repeat"},"no-repeat":{addressModeU:"clamp-to-edge",addressModeV:"clamp-to-edge"}};class Bo{constructor(e,n){this.uid=he("fillPattern"),this._tick=0,this.transform=new G,this.texture=e,this.transform.scale(1/e.frame.width,1/e.frame.height),n&&(e.source.style.addressModeU=$h[n].addressModeU,e.source.style.addressModeV=$h[n].addressModeV)}setTransform(e){const n=this.texture;this.transform.copyFrom(e),this.transform.invert(),this.transform.scale(1/n.frame.width,1/n.frame.height),this._tick++}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture=e,this._tick++)}get styleKey(){return`fill-pattern-${this.uid}-${this._tick}`}destroy(){this.texture.destroy(!0),this.texture=null}}var O1=D1,Pa={a:7,c:6,h:1,l:2,m:2,q:4,s:4,t:2,v:1,z:0},N1=/([astvzqmhlc])([^astvzqmhlc]*)/ig;function D1(t){var e=[];return t.replace(N1,function(n,r,i){var s=r.toLowerCase();for(i=G1(i),s=="m"&&i.length>2&&(e.push([r].concat(i.splice(0,2))),s="l",r=r=="m"?"l":"L");;){if(i.length==Pa[s])return i.unshift(r),e.push(i);if(i.length<Pa[s])throw new Error("malformed path data");e.push([r].concat(i.splice(0,Pa[s])))}}),e}var j1=/-?[0-9]*\.?[0-9]+(?:e[-+]?\d+)?/ig;function G1(t){var e=t.match(j1);return e?e.map(Number):[]}const U1=Pd(O1);function W1(t,e){const n=U1(t),r=[];let i=null,s=0,o=0;for(let a=0;a<n.length;a++){const l=n[a],u=l[0],c=l;switch(u){case"M":s=c[1],o=c[2],e.moveTo(s,o);break;case"m":s+=c[1],o+=c[2],e.moveTo(s,o);break;case"H":s=c[1],e.lineTo(s,o);break;case"h":s+=c[1],e.lineTo(s,o);break;case"V":o=c[1],e.lineTo(s,o);break;case"v":o+=c[1],e.lineTo(s,o);break;case"L":s=c[1],o=c[2],e.lineTo(s,o);break;case"l":s+=c[1],o+=c[2],e.lineTo(s,o);break;case"C":s=c[5],o=c[6],e.bezierCurveTo(c[1],c[2],c[3],c[4],s,o);break;case"c":e.bezierCurveTo(s+c[1],o+c[2],s+c[3],o+c[4],s+c[5],o+c[6]),s+=c[5],o+=c[6];break;case"S":s=c[3],o=c[4],e.bezierCurveToShort(c[1],c[2],s,o);break;case"s":e.bezierCurveToShort(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"Q":s=c[3],o=c[4],e.quadraticCurveTo(c[1],c[2],s,o);break;case"q":e.quadraticCurveTo(s+c[1],o+c[2],s+c[3],o+c[4]),s+=c[3],o+=c[4];break;case"T":s=c[1],o=c[2],e.quadraticCurveToShort(s,o);break;case"t":s+=c[1],o+=c[2],e.quadraticCurveToShort(s,o);break;case"A":s=c[6],o=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"a":s+=c[6],o+=c[7],e.arcToSvg(c[1],c[2],c[3],c[4],c[5],s,o);break;case"Z":case"z":e.closePath(),r.length>0&&(i=r.pop(),i?(s=i.startX,o=i.startY):(s=0,o=0)),i=null;break;default:ee(`Unknown SVG path command: ${u}`)}u!=="Z"&&u!=="z"&&i===null&&(i={startX:s,startY:o},r.push(i))}return e}class Qu{constructor(e=0,n=0,r=0){this.type="circle",this.x=e,this.y=n,this.radius=r}clone(){return new Qu(this.x,this.y,this.radius)}contains(e,n){if(this.radius<=0)return!1;const r=this.radius*this.radius;let i=this.x-e,s=this.y-n;return i*=i,s*=s,i+s<=r}strokeContains(e,n,r,i=.5){if(this.radius===0)return!1;const s=this.x-e,o=this.y-n,a=this.radius,l=(1-i)*r,u=Math.sqrt(s*s+o*o);return u<=a+l&&u>a-(r-l)}getBounds(e){return e||(e=new fe),e.x=this.x-this.radius,e.y=this.y-this.radius,e.width=this.radius*2,e.height=this.radius*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.radius=e.radius,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Zu{constructor(e=0,n=0,r=0,i=0){this.type="ellipse",this.x=e,this.y=n,this.halfWidth=r,this.halfHeight=i}clone(){return new Zu(this.x,this.y,this.halfWidth,this.halfHeight)}contains(e,n){if(this.halfWidth<=0||this.halfHeight<=0)return!1;let r=(e-this.x)/this.halfWidth,i=(n-this.y)/this.halfHeight;return r*=r,i*=i,r+i<=1}strokeContains(e,n,r,i=.5){const{halfWidth:s,halfHeight:o}=this;if(s<=0||o<=0)return!1;const a=r*(1-i),l=r-a,u=s-l,c=o-l,h=s+a,d=o+a,f=e-this.x,g=n-this.y,x=f*f/(u*u)+g*g/(c*c),_=f*f/(h*h)+g*g/(d*d);return x>1&&_<=1}getBounds(e){return e||(e=new fe),e.x=this.x-this.halfWidth,e.y=this.y-this.halfHeight,e.width=this.halfWidth*2,e.height=this.halfHeight*2,e}copyFrom(e){return this.x=e.x,this.y=e.y,this.halfWidth=e.halfWidth,this.halfHeight=e.halfHeight,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:Ellipse x=${this.x} y=${this.y} halfWidth=${this.halfWidth} halfHeight=${this.halfHeight}]`}}function $1(t,e,n,r,i,s){const o=t-n,a=e-r,l=i-n,u=s-r,c=o*l+a*u,h=l*l+u*u;let d=-1;h!==0&&(d=c/h);let f,g;d<0?(f=n,g=r):d>1?(f=i,g=s):(f=n+d*l,g=r+d*u);const x=t-f,_=e-g;return x*x+_*_}let H1,V1;class di{constructor(...e){this.type="polygon";let n=Array.isArray(e[0])?e[0]:e;if(typeof n[0]!="number"){const r=[];for(let i=0,s=n.length;i<s;i++)r.push(n[i].x,n[i].y);n=r}this.points=n,this.closePath=!0}isClockwise(){let e=0;const n=this.points,r=n.length;for(let i=0;i<r;i+=2){const s=n[i],o=n[i+1],a=n[(i+2)%r],l=n[(i+3)%r];e+=(a-s)*(l+o)}return e<0}containsPolygon(e){const n=this.getBounds(H1),r=e.getBounds(V1);if(!n.containsRect(r))return!1;const i=e.points;for(let s=0;s<i.length;s+=2){const o=i[s],a=i[s+1];if(!this.contains(o,a))return!1}return!0}clone(){const e=this.points.slice(),n=new di(e);return n.closePath=this.closePath,n}contains(e,n){let r=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],l=this.points[s*2+1],u=this.points[o*2],c=this.points[o*2+1];l>n!=c>n&&e<(u-a)*((n-l)/(c-l))+a&&(r=!r)}return r}strokeContains(e,n,r,i=.5){const s=r*r,o=s*(1-i),a=s-o,{points:l}=this,u=l.length-(this.closePath?0:2);for(let c=0;c<u;c+=2){const h=l[c],d=l[c+1],f=l[(c+2)%l.length],g=l[(c+3)%l.length],x=$1(e,n,h,d,f,g),_=Math.sign((f-h)*(n-d)-(g-d)*(e-h));if(x<=(_<0?a:o))return!0}return!1}getBounds(e){e||(e=new fe);const n=this.points;let r=1/0,i=-1/0,s=1/0,o=-1/0;for(let a=0,l=n.length;a<l;a+=2){const u=n[a],c=n[a+1];r=u<r?u:r,i=u>i?u:i,s=c<s?c:s,o=c>o?c:o}return e.x=r,e.width=i-r,e.y=s,e.height=o-s,e}copyFrom(e){return this.points=e.points.slice(),this.closePath=e.closePath,this}copyTo(e){return e.copyFrom(this),e}toString(){return`[pixi.js/math:PolygoncloseStroke=${this.closePath}points=${this.points.reduce((e,n)=>`${e}, ${n}`,"")}]`}get lastX(){return this.points[this.points.length-2]}get lastY(){return this.points[this.points.length-1]}get x(){return D("8.11.0","Polygon.lastX is deprecated, please use Polygon.lastX instead."),this.points[this.points.length-2]}get y(){return D("8.11.0","Polygon.y is deprecated, please use Polygon.lastY instead."),this.points[this.points.length-1]}get startX(){return this.points[0]}get startY(){return this.points[1]}}const ws=(t,e,n,r,i,s,o)=>{const a=t-n,l=e-r,u=Math.sqrt(a*a+l*l);return u>=i-s&&u<=i+o};class Ju{constructor(e=0,n=0,r=0,i=0,s=20){this.type="roundedRectangle",this.x=e,this.y=n,this.width=r,this.height=i,this.radius=s}getBounds(e){return e||(e=new fe),e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}clone(){return new Ju(this.x,this.y,this.width,this.height,this.radius)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.copyFrom(this),e}contains(e,n){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&n>=this.y&&n<=this.y+this.height){const r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(n>=this.y+r&&n<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=n-(this.y+r);const o=r*r;if(i*i+s*s<=o||(i=e-(this.x+this.width-r),i*i+s*s<=o)||(s=n-(this.y+this.height-r),i*i+s*s<=o)||(i=e-(this.x+r),i*i+s*s<=o))return!0}return!1}strokeContains(e,n,r,i=.5){const{x:s,y:o,width:a,height:l,radius:u}=this,c=r*(1-i),h=r-c,d=s+u,f=o+u,g=a-u*2,x=l-u*2,_=s+a,m=o+l;return(e>=s-c&&e<=s+h||e>=_-h&&e<=_+c)&&n>=f&&n<=f+x||(n>=o-c&&n<=o+h||n>=m-h&&n<=m+c)&&e>=d&&e<=d+g?!0:e<d&&n<f&&ws(e,n,d,f,u,h,c)||e>_-u&&n<f&&ws(e,n,_-u,f,u,h,c)||e>_-u&&n>m-u&&ws(e,n,_-u,m-u,u,h,c)||e<d&&n>m-u&&ws(e,n,d,m-u,u,h,c)}toString(){return`[pixi.js/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}const jm={};function Y1(t,e,n){let r=2166136261;for(let i=0;i<e;i++)r^=t[i].uid,r=Math.imul(r,16777619),r>>>=0;return jm[r]||X1(t,e,r,n)}function X1(t,e,n,r){const i={};let s=0;for(let a=0;a<r;a++){const l=a<e?t[a]:U.EMPTY.source;i[s++]=l.source,i[s++]=l.style}const o=new Os(i);return jm[n]=o,o}class Hh{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData),this.size=this.rawBinaryData.byteLength}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}get float64View(){return this._float64Array||(this._float64Array=new Float64Array(this.rawBinaryData)),this._float64Array}get bigUint64View(){return this._bigUint64Array||(this._bigUint64Array=new BigUint64Array(this.rawBinaryData)),this._bigUint64Array}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this.uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}function Vh(t,e){const n=t.byteLength/8|0,r=new Float64Array(t,0,n);new Float64Array(e,0,n).set(r);const s=t.byteLength-n*8;if(s>0){const o=new Uint8Array(t,n*8,s);new Uint8Array(e,n*8,s).set(o)}}const q1={normal:"normal-npm",add:"add-npm",screen:"screen-npm"};var K1=(t=>(t[t.DISABLED=0]="DISABLED",t[t.RENDERING_MASK_ADD=1]="RENDERING_MASK_ADD",t[t.MASK_ACTIVE=2]="MASK_ACTIVE",t[t.INVERSE_MASK_ACTIVE=3]="INVERSE_MASK_ACTIVE",t[t.RENDERING_MASK_REMOVE=4]="RENDERING_MASK_REMOVE",t[t.NONE=5]="NONE",t))(K1||{});function Yh(t,e){return e.alphaMode==="no-premultiply-alpha"&&q1[t]||t}const Q1=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function Z1(t){let e="";for(let n=0;n<t;++n)n>0&&(e+=`
else `),n<t-1&&(e+=`if(test == ${n}.0){}`);return e}function J1(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const n=e.createShader(e.FRAGMENT_SHADER);try{for(;;){const r=Q1.replace(/%forloop%/gi,Z1(t));if(e.shaderSource(n,r),e.compileShader(n),!e.getShaderParameter(n,e.COMPILE_STATUS))t=t/2|0;else break}}finally{e.deleteShader(n)}return t}let Xn=null;function e_(){if(Xn)return Xn;const t=vm();return Xn=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Xn=J1(Xn,t),t.getExtension("WEBGL_lose_context")?.loseContext(),Xn}class t_{constructor(){this.ids=Object.create(null),this.textures=[],this.count=0}clear(){for(let e=0;e<this.count;e++){const n=this.textures[e];this.textures[e]=null,this.ids[n.uid]=null}this.count=0}}class n_{constructor(){this.renderPipeId="batch",this.action="startBatch",this.start=0,this.size=0,this.textures=new t_,this.blendMode="normal",this.topology="triangle-strip",this.canBundle=!0}destroy(){this.textures=null,this.gpuBindGroup=null,this.bindGroup=null,this.batcher=null}}const fi=[];let po=0;Ui.register({clear:()=>{if(fi.length>0)for(const t of fi)t&&t.destroy();fi.length=0,po=0}});function Xh(){return po>0?fi[--po]:new n_}function qh(t){fi[po++]=t}let $r=0;const Gm=class Um{constructor(e){this.uid=he("batcher"),this.dirty=!0,this.batchIndex=0,this.batches=[],this._elements=[],e={...Um.defaultOptions,...e},e.maxTextures||(D("v8.8.0","maxTextures is a required option for Batcher now, please pass it in the options"),e.maxTextures=e_());const{maxTextures:n,attributesInitialSize:r,indicesInitialSize:i}=e;this.attributeBuffer=new Hh(r*4),this.indexBuffer=new Uint16Array(i),this.maxTextures=n}begin(){this.elementSize=0,this.elementStart=0,this.indexSize=0,this.attributeSize=0;for(let e=0;e<this.batchIndex;e++)qh(this.batches[e]);this.batchIndex=0,this._batchIndexStart=0,this._batchIndexSize=0,this.dirty=!0}add(e){this._elements[this.elementSize++]=e,e._indexStart=this.indexSize,e._attributeStart=this.attributeSize,e._batcher=this,this.indexSize+=e.indexSize,this.attributeSize+=e.attributeSize*this.vertexSize}checkAndUpdateTexture(e,n){const r=e._batch.textures.ids[n._source.uid];return!r&&r!==0?!1:(e._textureId=r,e.texture=n,!0)}updateElement(e){this.dirty=!0;const n=this.attributeBuffer;e.packAsQuad?this.packQuadAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId):this.packAttributes(e,n.float32View,n.uint32View,e._attributeStart,e._textureId)}break(e){const n=this._elements;if(!n[this.elementStart])return;let r=Xh(),i=r.textures;i.clear();const s=n[this.elementStart];let o=Yh(s.blendMode,s.texture._source),a=s.topology;this.attributeSize*4>this.attributeBuffer.size&&this._resizeAttributeBuffer(this.attributeSize*4),this.indexSize>this.indexBuffer.length&&this._resizeIndexBuffer(this.indexSize);const l=this.attributeBuffer.float32View,u=this.attributeBuffer.uint32View,c=this.indexBuffer;let h=this._batchIndexSize,d=this._batchIndexStart,f="startBatch";const g=this.maxTextures;for(let x=this.elementStart;x<this.elementSize;++x){const _=n[x];n[x]=null;const p=_.texture._source,y=Yh(_.blendMode,p),v=o!==y||a!==_.topology;if(p._batchTick===$r&&!v){_._textureId=p._textureBindLocation,h+=_.indexSize,_.packAsQuad?(this.packQuadAttributes(_,l,u,_._attributeStart,_._textureId),this.packQuadIndex(c,_._indexStart,_._attributeStart/this.vertexSize)):(this.packAttributes(_,l,u,_._attributeStart,_._textureId),this.packIndex(_,c,_._indexStart,_._attributeStart/this.vertexSize)),_._batch=r;continue}p._batchTick=$r,(i.count>=g||v)&&(this._finishBatch(r,d,h-d,i,o,a,e,f),f="renderBatch",d=h,o=y,a=_.topology,r=Xh(),i=r.textures,i.clear(),++$r),_._textureId=p._textureBindLocation=i.count,i.ids[p.uid]=i.count,i.textures[i.count++]=p,_._batch=r,h+=_.indexSize,_.packAsQuad?(this.packQuadAttributes(_,l,u,_._attributeStart,_._textureId),this.packQuadIndex(c,_._indexStart,_._attributeStart/this.vertexSize)):(this.packAttributes(_,l,u,_._attributeStart,_._textureId),this.packIndex(_,c,_._indexStart,_._attributeStart/this.vertexSize))}i.count>0&&(this._finishBatch(r,d,h-d,i,o,a,e,f),d=h,++$r),this.elementStart=this.elementSize,this._batchIndexStart=d,this._batchIndexSize=h}_finishBatch(e,n,r,i,s,o,a,l){e.gpuBindGroup=null,e.bindGroup=null,e.action=l,e.batcher=this,e.textures=i,e.blendMode=s,e.topology=o,e.start=n,e.size=r,++$r,this.batches[this.batchIndex++]=e,a.add(e)}finish(e){this.break(e)}ensureAttributeBuffer(e){e*4<=this.attributeBuffer.size||this._resizeAttributeBuffer(e*4)}ensureIndexBuffer(e){e<=this.indexBuffer.length||this._resizeIndexBuffer(e)}_resizeAttributeBuffer(e){const n=Math.max(e,this.attributeBuffer.size*2),r=new Hh(n);Vh(this.attributeBuffer.rawBinaryData,r.rawBinaryData),this.attributeBuffer=r}_resizeIndexBuffer(e){const n=this.indexBuffer;let r=Math.max(e,n.length*1.5);r+=r%2;const i=r>65535?new Uint32Array(r):new Uint16Array(r);if(i.BYTES_PER_ELEMENT!==n.BYTES_PER_ELEMENT)for(let s=0;s<n.length;s++)i[s]=n[s];else Vh(n.buffer,i.buffer);this.indexBuffer=i}packQuadIndex(e,n,r){e[n]=r+0,e[n+1]=r+1,e[n+2]=r+2,e[n+3]=r+0,e[n+4]=r+2,e[n+5]=r+3}packIndex(e,n,r,i){const s=e.indices,o=e.indexSize,a=e.indexOffset,l=e.attributeOffset;for(let u=0;u<o;u++)n[r++]=i+s[u+a]-l}destroy(){if(this.batches!==null){for(let e=0;e<this.batches.length;e++)qh(this.batches[e]);this.batches=null;for(let e=0;e<this._elements.length;e++)this._elements[e]&&(this._elements[e]._batch=null);this._elements=null,this.indexBuffer=null,this.attributeBuffer.destroy(),this.attributeBuffer=null}}};Gm.defaultOptions={maxTextures:null,attributesInitialSize:4,indicesInitialSize:6};let r_=Gm;var Oe=(t=>(t[t.MAP_READ=1]="MAP_READ",t[t.MAP_WRITE=2]="MAP_WRITE",t[t.COPY_SRC=4]="COPY_SRC",t[t.COPY_DST=8]="COPY_DST",t[t.INDEX=16]="INDEX",t[t.VERTEX=32]="VERTEX",t[t.UNIFORM=64]="UNIFORM",t[t.STORAGE=128]="STORAGE",t[t.INDIRECT=256]="INDIRECT",t[t.QUERY_RESOLVE=512]="QUERY_RESOLVE",t[t.STATIC=1024]="STATIC",t))(Oe||{});class Bi extends xt{constructor(e){let{data:n,size:r}=e;const{usage:i,label:s,shrinkToFit:o}=e;super(),this.uid=he("buffer"),this._resourceType="buffer",this._resourceId=he("resource"),this._touched=0,this._updateID=1,this._dataInt32=null,this.shrinkToFit=!0,this.destroyed=!1,n instanceof Array&&(n=new Float32Array(n)),this._data=n,r??(r=n?.byteLength);const a=!!n;this.descriptor={size:r,usage:i,mappedAtCreation:a,label:s},this.shrinkToFit=o??!0}get data(){return this._data}set data(e){this.setDataWithSize(e,e.length,!0)}get dataInt32(){return this._dataInt32||(this._dataInt32=new Int32Array(this.data.buffer)),this._dataInt32}get static(){return!!(this.descriptor.usage&Oe.STATIC)}set static(e){e?this.descriptor.usage|=Oe.STATIC:this.descriptor.usage&=~Oe.STATIC}setDataWithSize(e,n,r){if(this._updateID++,this._updateSize=n*e.BYTES_PER_ELEMENT,this._data===e){r&&this.emit("update",this);return}const i=this._data;if(this._data=e,this._dataInt32=null,!i||i.length!==e.length){!this.shrinkToFit&&i&&e.byteLength<i.byteLength?r&&this.emit("update",this):(this.descriptor.size=e.byteLength,this._resourceId=he("resource"),this.emit("change",this));return}r&&this.emit("update",this)}update(e){this._updateSize=e??this._updateSize,this._updateID++,this.emit("update",this)}destroy(){this.destroyed=!0,this.emit("destroy",this),this.emit("change",this),this._data=null,this.descriptor=null,this.removeAllListeners()}}function Wm(t,e){if(!(t instanceof Bi)){let n=e?Oe.INDEX:Oe.VERTEX;t instanceof Array&&(e?(t=new Uint32Array(t),n=Oe.INDEX|Oe.COPY_DST):(t=new Float32Array(t),n=Oe.VERTEX|Oe.COPY_DST)),t=new Bi({data:t,label:e?"index-mesh-buffer":"vertex-mesh-buffer",usage:n})}return t}function i_(t,e,n){const r=t.getAttribute(e);if(!r)return n.minX=0,n.minY=0,n.maxX=0,n.maxY=0,n;const i=r.buffer.data;let s=1/0,o=1/0,a=-1/0,l=-1/0;const u=i.BYTES_PER_ELEMENT,c=(r.offset||0)/u,h=(r.stride||2*4)/u;for(let d=c;d<i.length;d+=h){const f=i[d],g=i[d+1];f>a&&(a=f),g>l&&(l=g),f<s&&(s=f),g<o&&(o=g)}return n.minX=s,n.minY=o,n.maxX=a,n.maxY=l,n}function s_(t){return(t instanceof Bi||Array.isArray(t)||t.BYTES_PER_ELEMENT)&&(t={buffer:t}),t.buffer=Wm(t.buffer,!1),t}class o_ extends xt{constructor(e={}){super(),this.uid=he("geometry"),this._layoutKey=0,this.instanceCount=1,this._bounds=new yt,this._boundsDirty=!0;const{attributes:n,indexBuffer:r,topology:i}=e;if(this.buffers=[],this.attributes={},n)for(const s in n)this.addAttribute(s,n[s]);this.instanceCount=e.instanceCount??1,r&&this.addIndex(r),this.topology=i||"triangle-list"}onBufferUpdate(){this._boundsDirty=!0,this.emit("update",this)}getAttribute(e){return this.attributes[e]}getIndex(){return this.indexBuffer}getBuffer(e){return this.getAttribute(e).buffer}getSize(){for(const e in this.attributes){const n=this.attributes[e];return n.buffer.data.length/(n.stride/4||n.size)}return 0}addAttribute(e,n){const r=s_(n);this.buffers.indexOf(r.buffer)===-1&&(this.buffers.push(r.buffer),r.buffer.on("update",this.onBufferUpdate,this),r.buffer.on("change",this.onBufferUpdate,this)),this.attributes[e]=r}addIndex(e){this.indexBuffer=Wm(e,!0),this.buffers.push(this.indexBuffer)}get bounds(){return this._boundsDirty?(this._boundsDirty=!1,i_(this,"aPosition",this._bounds)):this._bounds}destroy(e=!1){this.emit("destroy",this),this.removeAllListeners(),e&&this.buffers.forEach(n=>n.destroy()),this.attributes=null,this.buffers=null,this.indexBuffer=null,this._bounds=null}}const a_=new Float32Array(1),l_=new Uint32Array(1);class u_ extends o_{constructor(){const n=new Bi({data:a_,label:"attribute-batch-buffer",usage:Oe.VERTEX|Oe.COPY_DST,shrinkToFit:!1}),r=new Bi({data:l_,label:"index-batch-buffer",usage:Oe.INDEX|Oe.COPY_DST,shrinkToFit:!1}),i=6*4;super({attributes:{aPosition:{buffer:n,format:"float32x2",stride:i,offset:0},aUV:{buffer:n,format:"float32x2",stride:i,offset:2*4},aColor:{buffer:n,format:"unorm8x4",stride:i,offset:4*4},aTextureIdAndRound:{buffer:n,format:"uint16x2",stride:i,offset:5*4}},indexBuffer:r})}}function Kh(t,e,n){if(t)for(const r in t){const i=r.toLocaleLowerCase(),s=e[i];if(s){let o=t[r];r==="header"&&(o=o.replace(/@in\s+[^;]+;\s*/g,"").replace(/@out\s+[^;]+;\s*/g,"")),n&&s.push(`//----${n}----//`),s.push(o)}else ee(`${r} placement hook does not exist in shader`)}}const c_=/\{\{(.*?)\}\}/g;function Qh(t){const e={};return(t.match(c_)?.map(r=>r.replace(/[{()}]/g,""))??[]).forEach(r=>{e[r]=[]}),e}function Zh(t,e){let n;const r=/@in\s+([^;]+);/g;for(;(n=r.exec(t))!==null;)e.push(n[1])}function Jh(t,e,n=!1){const r=[];Zh(e,r),t.forEach(a=>{a.header&&Zh(a.header,r)});const i=r;n&&i.sort();const s=i.map((a,l)=>`       @location(${l}) ${a},`).join(`
`);let o=e.replace(/@in\s+[^;]+;\s*/g,"");return o=o.replace("{{in}}",`
${s}
`),o}function ed(t,e){let n;const r=/@out\s+([^;]+);/g;for(;(n=r.exec(t))!==null;)e.push(n[1])}function h_(t){const n=/\b(\w+)\s*:/g.exec(t);return n?n[1]:""}function d_(t){const e=/@.*?\s+/g;return t.replace(e,"")}function f_(t,e){const n=[];ed(e,n),t.forEach(l=>{l.header&&ed(l.header,n)});let r=0;const i=n.sort().map(l=>l.indexOf("builtin")>-1?l:`@location(${r++}) ${l}`).join(`,
`),s=n.sort().map(l=>`       var ${d_(l)};`).join(`
`),o=`return VSOutput(
            ${n.sort().map(l=>` ${h_(l)}`).join(`,
`)});`;let a=e.replace(/@out\s+[^;]+;\s*/g,"");return a=a.replace("{{struct}}",`
${i}
`),a=a.replace("{{start}}",`
${s}
`),a=a.replace("{{return}}",`
${o}
`),a}function td(t,e){let n=t;for(const r in e){const i=e[r];i.join(`
`).length?n=n.replace(`{{${r}}}`,`//-----${r} START-----//
${i.join(`
`)}
//----${r} FINISH----//`):n=n.replace(`{{${r}}}`,"")}return n}const nn=Object.create(null),ba=new Map;let p_=0;function m_({template:t,bits:e}){const n=$m(t,e);if(nn[n])return nn[n];const{vertex:r,fragment:i}=y_(t,e);return nn[n]=Hm(r,i,e),nn[n]}function g_({template:t,bits:e}){const n=$m(t,e);return nn[n]||(nn[n]=Hm(t.vertex,t.fragment,e)),nn[n]}function y_(t,e){const n=e.map(o=>o.vertex).filter(o=>!!o),r=e.map(o=>o.fragment).filter(o=>!!o);let i=Jh(n,t.vertex,!0);i=f_(n,i);const s=Jh(r,t.fragment,!0);return{vertex:i,fragment:s}}function $m(t,e){return e.map(n=>(ba.has(n)||ba.set(n,p_++),ba.get(n))).sort((n,r)=>n-r).join("-")+t.vertex+t.fragment}function Hm(t,e,n){const r=Qh(t),i=Qh(e);return n.forEach(s=>{Kh(s.vertex,r,s.name),Kh(s.fragment,i,s.name)}),{vertex:td(t,r),fragment:td(e,i)}}const x_=`
    @in aPosition: vec2<f32>;
    @in aUV: vec2<f32>;

    @out @builtin(position) vPosition: vec4<f32>;
    @out vUV : vec2<f32>;
    @out vColor : vec4<f32>;

    {{header}}

    struct VSOutput {
        {{struct}}
    };

    @vertex
    fn main( {{in}} ) -> VSOutput {

        var worldTransformMatrix = globalUniforms.uWorldTransformMatrix;
        var modelMatrix = mat3x3<f32>(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        var position = aPosition;
        var uv = aUV;

        {{start}}

        vColor = vec4<f32>(1., 1., 1., 1.);

        {{main}}

        vUV = uv;

        var modelViewProjectionMatrix = globalUniforms.uProjectionMatrix * worldTransformMatrix * modelMatrix;

        vPosition =  vec4<f32>((modelViewProjectionMatrix *  vec3<f32>(position, 1.0)).xy, 0.0, 1.0);

        vColor *= globalUniforms.uWorldColorAlpha;

        {{end}}

        {{return}}
    };
`,__=`
    @in vUV : vec2<f32>;
    @in vColor : vec4<f32>;

    {{header}}

    @fragment
    fn main(
        {{in}}
      ) -> @location(0) vec4<f32> {

        {{start}}

        var outColor:vec4<f32>;

        {{main}}

        var finalColor:vec4<f32> = outColor * vColor;

        {{end}}

        return finalColor;
      };
`,v_=`
    in vec2 aPosition;
    in vec2 aUV;

    out vec4 vColor;
    out vec2 vUV;

    {{header}}

    void main(void){

        mat3 worldTransformMatrix = uWorldTransformMatrix;
        mat3 modelMatrix = mat3(
            1.0, 0.0, 0.0,
            0.0, 1.0, 0.0,
            0.0, 0.0, 1.0
          );
        vec2 position = aPosition;
        vec2 uv = aUV;

        {{start}}

        vColor = vec4(1.);

        {{main}}

        vUV = uv;

        mat3 modelViewProjectionMatrix = uProjectionMatrix * worldTransformMatrix * modelMatrix;

        gl_Position = vec4((modelViewProjectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);

        vColor *= uWorldColorAlpha;

        {{end}}
    }
`,w_=`

    in vec4 vColor;
    in vec2 vUV;

    out vec4 finalColor;

    {{header}}

    void main(void) {

        {{start}}

        vec4 outColor;

        {{main}}

        finalColor = outColor * vColor;

        {{end}}
    }
`,S_={name:"global-uniforms-bit",vertex:{header:`
        struct GlobalUniforms {
            uProjectionMatrix:mat3x3<f32>,
            uWorldTransformMatrix:mat3x3<f32>,
            uWorldColorAlpha: vec4<f32>,
            uResolution: vec2<f32>,
        }

        @group(0) @binding(0) var<uniform> globalUniforms : GlobalUniforms;
        `}},C_={name:"global-uniforms-bit",vertex:{header:`
          uniform mat3 uProjectionMatrix;
          uniform mat3 uWorldTransformMatrix;
          uniform vec4 uWorldColorAlpha;
          uniform vec2 uResolution;
        `}};function k_({bits:t,name:e}){const n=m_({template:{fragment:__,vertex:x_},bits:[S_,...t]});return Lo.from({name:e,vertex:{source:n.vertex,entryPoint:"main"},fragment:{source:n.fragment,entryPoint:"main"}})}function A_({bits:t,name:e}){return new Sm({name:e,...g_({template:{vertex:v_,fragment:w_},bits:[C_,...t]})})}const P_={name:"color-bit",vertex:{header:`
            @in aColor: vec4<f32>;
        `,main:`
            vColor *= vec4<f32>(aColor.rgb * aColor.a, aColor.a);
        `}},b_={name:"color-bit",vertex:{header:`
            in vec4 aColor;
        `,main:`
            vColor *= vec4(aColor.rgb * aColor.a, aColor.a);
        `}},Ma={};function M_(t){const e=[];if(t===1)e.push("@group(1) @binding(0) var textureSource1: texture_2d<f32>;"),e.push("@group(1) @binding(1) var textureSampler1: sampler;");else{let n=0;for(let r=0;r<t;r++)e.push(`@group(1) @binding(${n++}) var textureSource${r+1}: texture_2d<f32>;`),e.push(`@group(1) @binding(${n++}) var textureSampler${r+1}: sampler;`)}return e.join(`
`)}function T_(t){const e=[];if(t===1)e.push("outColor = textureSampleGrad(textureSource1, textureSampler1, vUV, uvDx, uvDy);");else{e.push("switch vTextureId {");for(let n=0;n<t;n++)n===t-1?e.push("  default:{"):e.push(`  case ${n}:{`),e.push(`      outColor = textureSampleGrad(textureSource${n+1}, textureSampler${n+1}, vUV, uvDx, uvDy);`),e.push("      break;}");e.push("}")}return e.join(`
`)}function E_(t){return Ma[t]||(Ma[t]={name:"texture-batch-bit",vertex:{header:`
                @in aTextureIdAndRound: vec2<u32>;
                @out @interpolate(flat) vTextureId : u32;
            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1)
                {
                    vPosition = vec4<f32>(roundPixels(vPosition.xy, globalUniforms.uResolution), vPosition.zw);
                }
            `},fragment:{header:`
                @in @interpolate(flat) vTextureId: u32;

                ${M_(t)}
            `,main:`
                var uvDx = dpdx(vUV);
                var uvDy = dpdy(vUV);

                ${T_(t)}
            `}}),Ma[t]}const Ta={};function R_(t){const e=[];for(let n=0;n<t;n++)n>0&&e.push("else"),n<t-1&&e.push(`if(vTextureId < ${n}.5)`),e.push("{"),e.push(`	outColor = texture(uTextures[${n}], vUV);`),e.push("}");return e.join(`
`)}function I_(t){return Ta[t]||(Ta[t]={name:"texture-batch-bit",vertex:{header:`
                in vec2 aTextureIdAndRound;
                out float vTextureId;

            `,main:`
                vTextureId = aTextureIdAndRound.y;
            `,end:`
                if(aTextureIdAndRound.x == 1.)
                {
                    gl_Position.xy = roundPixels(gl_Position.xy, uResolution);
                }
            `},fragment:{header:`
                in float vTextureId;

                uniform sampler2D uTextures[${t}];

            `,main:`

                ${R_(t)}
            `}}),Ta[t]}const F_={name:"round-pixels-bit",vertex:{header:`
            fn roundPixels(position: vec2<f32>, targetSize: vec2<f32>) -> vec2<f32>
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},L_={name:"round-pixels-bit",vertex:{header:`
            vec2 roundPixels(vec2 position, vec2 targetSize)
            {
                return (floor(((position * 0.5 + 0.5) * targetSize) + 0.5) / targetSize) * 2.0 - 1.0;
            }
        `}},nd={};function B_(t){let e=nd[t];if(e)return e;const n=new Int32Array(t);for(let r=0;r<t;r++)n[r]=r;return e=nd[t]=new Pm({uTextures:{value:n,type:"i32",size:t}},{isStatic:!0}),e}class z_ extends Xu{constructor(e){const n=A_({name:"batch",bits:[b_,I_(e),L_]}),r=k_({name:"batch",bits:[P_,E_(e),F_]});super({glProgram:n,gpuProgram:r,resources:{batchSamplers:B_(e)}})}}let Ea=null;const Vm=class Ym extends r_{constructor(e){super(e),this.geometry=new u_,this.name=Ym.extension.name,this.vertexSize=6,Ea??(Ea=new z_(e.maxTextures)),this.shader=Ea}packAttributes(e,n,r,i,s){const o=s<<16|e.roundPixels&65535,a=e.transform,l=a.a,u=a.b,c=a.c,h=a.d,d=a.tx,f=a.ty,{positions:g,uvs:x}=e,_=e.color,m=e.attributeOffset,p=m+e.attributeSize;for(let y=m;y<p;y++){const v=y*2,C=g[v],S=g[v+1];n[i++]=l*C+c*S+d,n[i++]=h*S+u*C+f,n[i++]=x[v],n[i++]=x[v+1],r[i++]=_,r[i++]=o}}packQuadAttributes(e,n,r,i,s){const o=e.texture,a=e.transform,l=a.a,u=a.b,c=a.c,h=a.d,d=a.tx,f=a.ty,g=e.bounds,x=g.maxX,_=g.minX,m=g.maxY,p=g.minY,y=o.uvs,v=e.color,C=s<<16|e.roundPixels&65535;n[i+0]=l*_+c*p+d,n[i+1]=h*p+u*_+f,n[i+2]=y.x0,n[i+3]=y.y0,r[i+4]=v,r[i+5]=C,n[i+6]=l*x+c*p+d,n[i+7]=h*p+u*x+f,n[i+8]=y.x1,n[i+9]=y.y1,r[i+10]=v,r[i+11]=C,n[i+12]=l*x+c*m+d,n[i+13]=h*m+u*x+f,n[i+14]=y.x2,n[i+15]=y.y2,r[i+16]=v,r[i+17]=C,n[i+18]=l*_+c*m+d,n[i+19]=h*m+u*_+f,n[i+20]=y.x3,n[i+21]=y.y3,r[i+22]=v,r[i+23]=C}};Vm.extension={type:[B.Batcher],name:"default"};let O_=Vm;function N_(t,e,n,r,i,s,o,a=null){let l=0;n*=e,i*=s;const u=a.a,c=a.b,h=a.c,d=a.d,f=a.tx,g=a.ty;for(;l<o;){const x=t[n],_=t[n+1];r[i]=u*x+h*_+f,r[i+1]=c*x+d*_+g,i+=s,n+=e,l++}}function D_(t,e,n,r){let i=0;for(e*=n;i<r;)t[e]=0,t[e+1]=0,e+=n,i++}function Xm(t,e,n,r,i){const s=e.a,o=e.b,a=e.c,l=e.d,u=e.tx,c=e.ty;n||(n=0),r||(r=2),i||(i=t.length/r-n);let h=n*r;for(let d=0;d<i;d++){const f=t[h],g=t[h+1];t[h]=s*f+a*g+u,t[h+1]=o*f+l*g+c,h+=r}}const j_=new G;class qm{constructor(){this.packAsQuad=!1,this.batcherName="default",this.topology="triangle-list",this.applyTransform=!0,this.roundPixels=0,this._batcher=null,this._batch=null}get uvs(){return this.geometryData.uvs}get positions(){return this.geometryData.vertices}get indices(){return this.geometryData.indices}get blendMode(){return this.renderable&&this.applyTransform?this.renderable.groupBlendMode:"normal"}get color(){const e=this.baseColor,n=e>>16|e&65280|(e&255)<<16,r=this.renderable;return r?Jp(n,r.groupColor)+(this.alpha*r.groupAlpha*255<<24):n+(this.alpha*255<<24)}get transform(){return this.renderable?.groupTransform||j_}copyTo(e){e.indexOffset=this.indexOffset,e.indexSize=this.indexSize,e.attributeOffset=this.attributeOffset,e.attributeSize=this.attributeSize,e.baseColor=this.baseColor,e.alpha=this.alpha,e.texture=this.texture,e.geometryData=this.geometryData,e.topology=this.topology}reset(){this.applyTransform=!0,this.renderable=null,this.topology="triangle-list"}destroy(){this.renderable=null,this.texture=null,this.geometryData=null,this._batcher.destroy(),this._batcher=null,this._batch.destroy(),this._batch=null}}const zi={extension:{type:B.ShapeBuilder,name:"circle"},build(t,e){let n,r,i,s,o,a;if(t.type==="circle"){const v=t;if(o=a=v.radius,o<=0)return!1;n=v.x,r=v.y,i=s=0}else if(t.type==="ellipse"){const v=t;if(o=v.halfWidth,a=v.halfHeight,o<=0||a<=0)return!1;n=v.x,r=v.y,i=s=0}else{const v=t,C=v.width/2,S=v.height/2;n=v.x+C,r=v.y+S,o=a=Math.max(0,Math.min(v.radius,Math.min(C,S))),i=C-o,s=S-a}if(i<0||s<0)return!1;const l=Math.ceil(2.3*Math.sqrt(o+a)),u=l*8+(i?4:0)+(s?4:0);if(u===0)return!1;if(l===0)return e[0]=e[6]=n+i,e[1]=e[3]=r+s,e[2]=e[4]=n-i,e[5]=e[7]=r-s,!0;let c=0,h=l*4+(i?2:0)+2,d=h,f=u,g=i+o,x=s,_=n+g,m=n-g,p=r+x;if(e[c++]=_,e[c++]=p,e[--h]=p,e[--h]=m,s){const v=r-x;e[d++]=m,e[d++]=v,e[--f]=v,e[--f]=_}for(let v=1;v<l;v++){const C=Math.PI/2*(v/l),S=i+Math.cos(C)*o,w=s+Math.sin(C)*a,A=n+S,T=n-S,k=r+w,E=r-w;e[c++]=A,e[c++]=k,e[--h]=k,e[--h]=T,e[d++]=T,e[d++]=E,e[--f]=E,e[--f]=A}g=i,x=s+a,_=n+g,m=n-g,p=r+x;const y=r-x;return e[c++]=_,e[c++]=p,e[--f]=y,e[--f]=_,i&&(e[c++]=m,e[c++]=p,e[--f]=y,e[--f]=m),!0},triangulate(t,e,n,r,i,s){if(t.length===0)return;let o=0,a=0;for(let c=0;c<t.length;c+=2)o+=t[c],a+=t[c+1];o/=t.length/2,a/=t.length/2;let l=r;e[l*n]=o,e[l*n+1]=a;const u=l++;for(let c=0;c<t.length;c+=2)e[l*n]=t[c],e[l*n+1]=t[c+1],c>0&&(i[s++]=l,i[s++]=u,i[s++]=l-1),l++;i[s++]=u+1,i[s++]=u,i[s++]=l-1}},G_={...zi,extension:{...zi.extension,name:"ellipse"}},U_={...zi,extension:{...zi.extension,name:"roundedRectangle"}},Km=1e-4,rd=1e-4;function W_(t){const e=t.length;if(e<6)return 1;let n=0;for(let r=0,i=t[e-2],s=t[e-1];r<e;r+=2){const o=t[r],a=t[r+1];n+=(o-i)*(a+s),i=o,s=a}return n<0?-1:1}function id(t,e,n,r,i,s,o,a){const l=t-n*i,u=e-r*i,c=t+n*s,h=e+r*s;let d,f;o?(d=r,f=-n):(d=-r,f=n);const g=l+d,x=u+f,_=c+d,m=h+f;return a.push(g,x),a.push(_,m),2}function Cn(t,e,n,r,i,s,o,a){const l=n-t,u=r-e;let c=Math.atan2(l,u),h=Math.atan2(i-t,s-e);a&&c<h?c+=Math.PI*2:!a&&c>h&&(h+=Math.PI*2);let d=c;const f=h-c,g=Math.abs(f),x=Math.sqrt(l*l+u*u),_=(15*g*Math.sqrt(x)/Math.PI>>0)+1,m=f/_;if(d+=m,a){o.push(t,e),o.push(n,r);for(let p=1,y=d;p<_;p++,y+=m)o.push(t,e),o.push(t+Math.sin(y)*x,e+Math.cos(y)*x);o.push(t,e),o.push(i,s)}else{o.push(n,r),o.push(t,e);for(let p=1,y=d;p<_;p++,y+=m)o.push(t+Math.sin(y)*x,e+Math.cos(y)*x),o.push(t,e);o.push(i,s),o.push(t,e)}return _*2}function $_(t,e,n,r,i,s){const o=Km;if(t.length===0)return;const a=e;let l=a.alignment;if(e.alignment!==.5){let M=W_(t);n&&(M*=-1),l=(l-.5)*M+.5}const u=new Te(t[0],t[1]),c=new Te(t[t.length-2],t[t.length-1]),h=r,d=Math.abs(u.x-c.x)<o&&Math.abs(u.y-c.y)<o;if(h){t=t.slice(),d&&(t.pop(),t.pop(),c.set(t[t.length-2],t[t.length-1]));const M=(u.x+c.x)*.5,O=(c.y+u.y)*.5;t.unshift(M,O),t.push(M,O)}const f=i,g=t.length/2;let x=t.length;const _=f.length/2,m=a.width/2,p=m*m,y=a.miterLimit*a.miterLimit;let v=t[0],C=t[1],S=t[2],w=t[3],A=0,T=0,k=-(C-w),E=v-S,$=0,H=0,K=Math.sqrt(k*k+E*E);k/=K,E/=K,k*=m,E*=m;const Yt=l,F=(1-Yt)*2,z=Yt*2;h||(a.cap==="round"?x+=Cn(v-k*(F-z)*.5,C-E*(F-z)*.5,v-k*F,C-E*F,v+k*z,C+E*z,f,!0)+2:a.cap==="square"&&(x+=id(v,C,k,E,F,z,!0,f))),f.push(v-k*F,C-E*F),f.push(v+k*z,C+E*z);for(let M=1;M<g-1;++M){v=t[(M-1)*2],C=t[(M-1)*2+1],S=t[M*2],w=t[M*2+1],A=t[(M+1)*2],T=t[(M+1)*2+1],k=-(C-w),E=v-S,K=Math.sqrt(k*k+E*E),k/=K,E/=K,k*=m,E*=m,$=-(w-T),H=S-A,K=Math.sqrt($*$+H*H),$/=K,H/=K,$*=m,H*=m;const O=S-v,q=C-w,re=S-A,wt=T-w,St=O*re+q*wt,Xt=q*re-wt*O,$e=Xt<0;if(Math.abs(Xt)<.001*Math.abs(St)){f.push(S-k*F,w-E*F),f.push(S+k*z,w+E*z),St>=0&&(a.join==="round"?x+=Cn(S,w,S-k*F,w-E*F,S-$*F,w-H*F,f,!1)+4:x+=2,f.push(S-$*z,w-H*z),f.push(S+$*F,w+H*F));continue}const xn=(-k+v)*(-E+w)-(-k+S)*(-E+C),sc=(-$+A)*(-H+w)-(-$+S)*(-H+T),Wi=(O*sc-re*xn)/Xt,$i=(wt*xn-q*sc)/Xt,No=(Wi-S)*(Wi-S)+($i-w)*($i-w),_n=S+(Wi-S)*F,vn=w+($i-w)*F,wn=S-(Wi-S)*z,Sn=w-($i-w)*z,hg=Math.min(O*O+q*q,re*re+wt*wt),oc=$e?F:z,dg=hg+oc*oc*p;No<=dg?a.join==="bevel"||No/p>y?($e?(f.push(_n,vn),f.push(S+k*z,w+E*z),f.push(_n,vn),f.push(S+$*z,w+H*z)):(f.push(S-k*F,w-E*F),f.push(wn,Sn),f.push(S-$*F,w-H*F),f.push(wn,Sn)),x+=2):a.join==="round"?$e?(f.push(_n,vn),f.push(S+k*z,w+E*z),x+=Cn(S,w,S+k*z,w+E*z,S+$*z,w+H*z,f,!0)+4,f.push(_n,vn),f.push(S+$*z,w+H*z)):(f.push(S-k*F,w-E*F),f.push(wn,Sn),x+=Cn(S,w,S-k*F,w-E*F,S-$*F,w-H*F,f,!1)+4,f.push(S-$*F,w-H*F),f.push(wn,Sn)):(f.push(_n,vn),f.push(wn,Sn)):(f.push(S-k*F,w-E*F),f.push(S+k*z,w+E*z),a.join==="round"?$e?x+=Cn(S,w,S+k*z,w+E*z,S+$*z,w+H*z,f,!0)+2:x+=Cn(S,w,S-k*F,w-E*F,S-$*F,w-H*F,f,!1)+2:a.join==="miter"&&No/p<=y&&($e?(f.push(wn,Sn),f.push(wn,Sn)):(f.push(_n,vn),f.push(_n,vn)),x+=2),f.push(S-$*F,w-H*F),f.push(S+$*z,w+H*z),x+=2)}v=t[(g-2)*2],C=t[(g-2)*2+1],S=t[(g-1)*2],w=t[(g-1)*2+1],k=-(C-w),E=v-S,K=Math.sqrt(k*k+E*E),k/=K,E/=K,k*=m,E*=m,f.push(S-k*F,w-E*F),f.push(S+k*z,w+E*z),h||(a.cap==="round"?x+=Cn(S-k*(F-z)*.5,w-E*(F-z)*.5,S-k*F,w-E*F,S+k*z,w+E*z,f,!1)+2:a.cap==="square"&&(x+=id(S,w,k,E,F,z,!1,f)));const R=rd*rd;for(let M=_;M<x+_-2;++M)v=f[M*2],C=f[M*2+1],S=f[(M+1)*2],w=f[(M+1)*2+1],A=f[(M+2)*2],T=f[(M+2)*2+1],!(Math.abs(v*(w-T)+S*(T-C)+A*(C-w))<R)&&s.push(M,M+1,M+2)}function H_(t,e,n,r){const i=Km;if(t.length===0)return;const s=t[0],o=t[1],a=t[t.length-2],l=t[t.length-1],u=e||Math.abs(s-a)<i&&Math.abs(o-l)<i,c=n,h=t.length/2,d=c.length/2;for(let f=0;f<h;f++)c.push(t[f*2]),c.push(t[f*2+1]);for(let f=0;f<h-1;f++)r.push(d+f,d+f+1);u&&r.push(d+h-1,d)}function Qm(t,e,n,r,i,s,o){const a=b1(t,e,2);if(!a)return;for(let u=0;u<a.length;u+=3)s[o++]=a[u]+i,s[o++]=a[u+1]+i,s[o++]=a[u+2]+i;let l=i*r;for(let u=0;u<t.length;u+=2)n[l]=t[u],n[l+1]=t[u+1],l+=r}const V_=[],Y_={extension:{type:B.ShapeBuilder,name:"polygon"},build(t,e){for(let n=0;n<t.points.length;n++)e[n]=t.points[n];return!0},triangulate(t,e,n,r,i,s){Qm(t,V_,e,n,r,i,s)}},X_={extension:{type:B.ShapeBuilder,name:"rectangle"},build(t,e){const n=t,r=n.x,i=n.y,s=n.width,o=n.height;return s>0&&o>0?(e[0]=r,e[1]=i,e[2]=r+s,e[3]=i,e[4]=r+s,e[5]=i+o,e[6]=r,e[7]=i+o,!0):!1},triangulate(t,e,n,r,i,s){let o=0;r*=n,e[r+o]=t[0],e[r+o+1]=t[1],o+=n,e[r+o]=t[2],e[r+o+1]=t[3],o+=n,e[r+o]=t[6],e[r+o+1]=t[7],o+=n,e[r+o]=t[4],e[r+o+1]=t[5],o+=n;const a=r/n;i[s++]=a,i[s++]=a+1,i[s++]=a+2,i[s++]=a+1,i[s++]=a+3,i[s++]=a+2}},q_={extension:{type:B.ShapeBuilder,name:"triangle"},build(t,e){return e[0]=t.x,e[1]=t.y,e[2]=t.x2,e[3]=t.y2,e[4]=t.x3,e[5]=t.y3,!0},triangulate(t,e,n,r,i,s){let o=0;r*=n,e[r+o]=t[0],e[r+o+1]=t[1],o+=n,e[r+o]=t[2],e[r+o+1]=t[3],o+=n,e[r+o]=t[4],e[r+o+1]=t[5];const a=r/n;i[s++]=a,i[s++]=a+1,i[s++]=a+2}},K_=new G,Q_=new fe;function Z_(t,e,n,r){const i=e.matrix?t.copyFrom(e.matrix).invert():t.identity();if(e.textureSpace==="local"){const o=n.getBounds(Q_);e.width&&o.pad(e.width);const{x:a,y:l}=o,u=1/o.width,c=1/o.height,h=-a*u,d=-l*c,f=i.a,g=i.b,x=i.c,_=i.d;i.a*=u,i.b*=u,i.c*=c,i.d*=c,i.tx=h*f+d*x+i.tx,i.ty=h*g+d*_+i.ty}else i.translate(e.texture.frame.x,e.texture.frame.y),i.scale(1/e.texture.source.width,1/e.texture.source.height);const s=e.texture.source.style;return!(e.fill instanceof Ht)&&s.addressMode==="clamp-to-edge"&&(s.addressMode="repeat",s.update()),r&&i.append(K_.copyFrom(r).invert()),i}const zo={};Ce.handleByMap(B.ShapeBuilder,zo);Ce.add(X_,Y_,q_,zi,G_,U_);const J_=new fe,ev=new G;function tv(t,e){const{geometryData:n,batches:r}=e;r.length=0,n.indices.length=0,n.vertices.length=0,n.uvs.length=0;for(let i=0;i<t.instructions.length;i++){const s=t.instructions[i];if(s.action==="texture")nv(s.data,r,n);else if(s.action==="fill"||s.action==="stroke"){const o=s.action==="stroke",a=s.data.path.shapePath,l=s.data.style,u=s.data.hole;o&&u&&sd(u.shapePath,l,!0,r,n),u&&(a.shapePrimitives[a.shapePrimitives.length-1].holes=u.shapePath.shapePrimitives),sd(a,l,o,r,n)}}}function nv(t,e,n){const r=[],i=zo.rectangle,s=J_;s.x=t.dx,s.y=t.dy,s.width=t.dw,s.height=t.dh;const o=t.transform;if(!i.build(s,r))return;const{vertices:a,uvs:l,indices:u}=n,c=u.length,h=a.length/2;o&&Xm(r,o),i.triangulate(r,a,2,h,u,c);const d=t.image,f=d.uvs;l.push(f.x0,f.y0,f.x1,f.y1,f.x3,f.y3,f.x2,f.y2);const g=st.get(qm);g.indexOffset=c,g.indexSize=u.length-c,g.attributeOffset=h,g.attributeSize=a.length/2-h,g.baseColor=t.style,g.alpha=t.alpha,g.texture=d,g.geometryData=n,e.push(g)}function sd(t,e,n,r,i){const{vertices:s,uvs:o,indices:a}=i;t.shapePrimitives.forEach(({shape:l,transform:u,holes:c})=>{const h=[],d=zo[l.type];if(!d.build(l,h))return;const f=a.length,g=s.length/2;let x="triangle-list";if(u&&Xm(h,u),n){const y=l.closePath??!0,v=e;v.pixelLine?(H_(h,y,s,a),x="line-list"):$_(h,v,!1,y,s,a)}else if(c){const y=[],v=h.slice();rv(c).forEach(S=>{y.push(v.length/2),v.push(...S)}),Qm(v,y,s,2,g,a,f)}else d.triangulate(h,s,2,g,a,f);const _=o.length/2,m=e.texture;if(m!==U.WHITE){const y=Z_(ev,e,l,u);N_(s,2,g,o,_,2,s.length/2-g,y)}else D_(o,_,2,s.length/2-g);const p=st.get(qm);p.indexOffset=f,p.indexSize=a.length-f,p.attributeOffset=g,p.attributeSize=s.length/2-g,p.baseColor=e.color,p.alpha=e.alpha,p.texture=m,p.geometryData=i,p.topology=x,r.push(p)})}function rv(t){const e=[];for(let n=0;n<t.length;n++){const r=t[n].shape,i=[];zo[r.type].build(r,i)&&e.push(i)}return e}class iv{constructor(){this.batches=[],this.geometryData={vertices:[],uvs:[],indices:[]}}}class sv{constructor(){this.instructions=new rm}init(e){this.batcher=new O_({maxTextures:e}),this.instructions.reset()}get geometry(){return D(Z0,"GraphicsContextRenderData#geometry is deprecated, please use batcher.geometry instead."),this.batcher.geometry}destroy(){this.batcher.destroy(),this.instructions.destroy(),this.batcher=null,this.instructions=null}}const ec=class Vl{constructor(e){this._gpuContextHash={},this._graphicsDataContextHash=Object.create(null),this._renderer=e,e.renderableGC.addManagedHash(this,"_gpuContextHash"),e.renderableGC.addManagedHash(this,"_graphicsDataContextHash")}init(e){Vl.defaultOptions.bezierSmoothness=e?.bezierSmoothness??Vl.defaultOptions.bezierSmoothness}getContextRenderData(e){return this._graphicsDataContextHash[e.uid]||this._initContextRenderData(e)}updateGpuContext(e){let n=this._gpuContextHash[e.uid]||this._initContext(e);if(e.dirty){n?this._cleanGraphicsContextData(e):n=this._initContext(e),tv(e,n);const r=e.batchMode;e.customShader||r==="no-batch"?n.isBatchable=!1:r==="auto"?n.isBatchable=n.geometryData.vertices.length<400:n.isBatchable=!0,e.dirty=!1}return n}getGpuContext(e){return this._gpuContextHash[e.uid]||this._initContext(e)}_initContextRenderData(e){const n=st.get(sv,{maxTextures:this._renderer.limits.maxBatchableTextures}),{batches:r,geometryData:i}=this._gpuContextHash[e.uid],s=i.vertices.length,o=i.indices.length;for(let c=0;c<r.length;c++)r[c].applyTransform=!1;const a=n.batcher;a.ensureAttributeBuffer(s),a.ensureIndexBuffer(o),a.begin();for(let c=0;c<r.length;c++){const h=r[c];a.add(h)}a.finish(n.instructions);const l=a.geometry;l.indexBuffer.setDataWithSize(a.indexBuffer,a.indexSize,!0),l.buffers[0].setDataWithSize(a.attributeBuffer.float32View,a.attributeSize,!0);const u=a.batches;for(let c=0;c<u.length;c++){const h=u[c];h.bindGroup=Y1(h.textures.textures,h.textures.count,this._renderer.limits.maxBatchableTextures)}return this._graphicsDataContextHash[e.uid]=n,n}_initContext(e){const n=new iv;return n.context=e,this._gpuContextHash[e.uid]=n,e.on("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]}onGraphicsContextDestroy(e){this._cleanGraphicsContextData(e),e.off("destroy",this.onGraphicsContextDestroy,this),this._gpuContextHash[e.uid]=null}_cleanGraphicsContextData(e){const n=this._gpuContextHash[e.uid];n.isBatchable||this._graphicsDataContextHash[e.uid]&&(st.return(this.getContextRenderData(e)),this._graphicsDataContextHash[e.uid]=null),n.batches&&n.batches.forEach(r=>{st.return(r)})}destroy(){for(const e in this._gpuContextHash)this._gpuContextHash[e]&&this.onGraphicsContextDestroy(this._gpuContextHash[e].context)}};ec.extension={type:[B.WebGLSystem,B.WebGPUSystem,B.CanvasSystem],name:"graphicsContext"};ec.defaultOptions={bezierSmoothness:.5};let Zm=ec;const ov=8,Ss=11920929e-14,av=1;function Jm(t,e,n,r,i,s,o,a,l,u){const h=Math.min(.99,Math.max(0,u??Zm.defaultOptions.bezierSmoothness));let d=(av-h)/1;return d*=d,lv(e,n,r,i,s,o,a,l,t,d),t}function lv(t,e,n,r,i,s,o,a,l,u){Yl(t,e,n,r,i,s,o,a,l,u,0),l.push(o,a)}function Yl(t,e,n,r,i,s,o,a,l,u,c){if(c>ov)return;const h=(t+n)/2,d=(e+r)/2,f=(n+i)/2,g=(r+s)/2,x=(i+o)/2,_=(s+a)/2,m=(h+f)/2,p=(d+g)/2,y=(f+x)/2,v=(g+_)/2,C=(m+y)/2,S=(p+v)/2;if(c>0){let w=o-t,A=a-e;const T=Math.abs((n-o)*A-(r-a)*w),k=Math.abs((i-o)*A-(s-a)*w);if(T>Ss&&k>Ss){if((T+k)*(T+k)<=u*(w*w+A*A)){l.push(C,S);return}}else if(T>Ss){if(T*T<=u*(w*w+A*A)){l.push(C,S);return}}else if(k>Ss){if(k*k<=u*(w*w+A*A)){l.push(C,S);return}}else if(w=C-(t+o)/2,A=S-(e+a)/2,w*w+A*A<=u){l.push(C,S);return}}Yl(t,e,h,d,m,p,C,S,l,u,c+1),Yl(C,S,y,v,x,_,o,a,l,u,c+1)}const uv=8,cv=11920929e-14,hv=1;function dv(t,e,n,r,i,s,o,a){const u=Math.min(.99,Math.max(0,a??Zm.defaultOptions.bezierSmoothness));let c=(hv-u)/1;return c*=c,fv(e,n,r,i,s,o,t,c),t}function fv(t,e,n,r,i,s,o,a){Xl(o,t,e,n,r,i,s,a,0),o.push(i,s)}function Xl(t,e,n,r,i,s,o,a,l){if(l>uv)return;const u=(e+r)/2,c=(n+i)/2,h=(r+s)/2,d=(i+o)/2,f=(u+h)/2,g=(c+d)/2;let x=s-e,_=o-n;const m=Math.abs((r-s)*_-(i-o)*x);if(m>cv){if(m*m<=a*(x*x+_*_)){t.push(f,g);return}}else if(x=f-(e+s)/2,_=g-(n+o)/2,x*x+_*_<=a){t.push(f,g);return}Xl(t,e,n,u,c,f,g,a,l+1),Xl(t,f,g,h,d,s,o,a,l+1)}function eg(t,e,n,r,i,s,o,a){let l=Math.abs(i-s);(!o&&i>s||o&&s>i)&&(l=2*Math.PI-l),a||(a=Math.max(6,Math.floor(6*Math.pow(r,1/3)*(l/Math.PI)))),a=Math.max(a,3);let u=l/a,c=i;u*=o?-1:1;for(let h=0;h<a+1;h++){const d=Math.cos(c),f=Math.sin(c),g=e+d*r,x=n+f*r;t.push(g,x),c+=u}}function pv(t,e,n,r,i,s){const o=t[t.length-2],l=t[t.length-1]-n,u=o-e,c=i-n,h=r-e,d=Math.abs(l*h-u*c);if(d<1e-8||s===0){(t[t.length-2]!==e||t[t.length-1]!==n)&&t.push(e,n);return}const f=l*l+u*u,g=c*c+h*h,x=l*c+u*h,_=s*Math.sqrt(f)/d,m=s*Math.sqrt(g)/d,p=_*x/f,y=m*x/g,v=_*h+m*u,C=_*c+m*l,S=u*(m+p),w=l*(m+p),A=h*(_+y),T=c*(_+y),k=Math.atan2(w-C,S-v),E=Math.atan2(T-C,A-v);eg(t,v+e,C+n,s,k,E,u*c>h*l)}const pi=Math.PI*2,Ra={centerX:0,centerY:0,ang1:0,ang2:0},Ia=({x:t,y:e},n,r,i,s,o,a,l)=>{t*=n,e*=r;const u=i*t-s*e,c=s*t+i*e;return l.x=u+o,l.y=c+a,l};function mv(t,e){const n=e===-1.5707963267948966?-.551915024494:1.3333333333333333*Math.tan(e/4),r=e===1.5707963267948966?.551915024494:n,i=Math.cos(t),s=Math.sin(t),o=Math.cos(t+e),a=Math.sin(t+e);return[{x:i-s*r,y:s+i*r},{x:o+a*r,y:a-o*r},{x:o,y:a}]}const od=(t,e,n,r)=>{const i=t*r-e*n<0?-1:1;let s=t*n+e*r;return s>1&&(s=1),s<-1&&(s=-1),i*Math.acos(s)},gv=(t,e,n,r,i,s,o,a,l,u,c,h,d)=>{const f=Math.pow(i,2),g=Math.pow(s,2),x=Math.pow(c,2),_=Math.pow(h,2);let m=f*g-f*_-g*x;m<0&&(m=0),m/=f*_+g*x,m=Math.sqrt(m)*(o===a?-1:1);const p=m*i/s*h,y=m*-s/i*c,v=u*p-l*y+(t+n)/2,C=l*p+u*y+(e+r)/2,S=(c-p)/i,w=(h-y)/s,A=(-c-p)/i,T=(-h-y)/s,k=od(1,0,S,w);let E=od(S,w,A,T);a===0&&E>0&&(E-=pi),a===1&&E<0&&(E+=pi),d.centerX=v,d.centerY=C,d.ang1=k,d.ang2=E};function yv(t,e,n,r,i,s,o,a=0,l=0,u=0){if(s===0||o===0)return;const c=Math.sin(a*pi/360),h=Math.cos(a*pi/360),d=h*(e-r)/2+c*(n-i)/2,f=-c*(e-r)/2+h*(n-i)/2;if(d===0&&f===0)return;s=Math.abs(s),o=Math.abs(o);const g=Math.pow(d,2)/Math.pow(s,2)+Math.pow(f,2)/Math.pow(o,2);g>1&&(s*=Math.sqrt(g),o*=Math.sqrt(g)),gv(e,n,r,i,s,o,l,u,c,h,d,f,Ra);let{ang1:x,ang2:_}=Ra;const{centerX:m,centerY:p}=Ra;let y=Math.abs(_)/(pi/4);Math.abs(1-y)<1e-7&&(y=1);const v=Math.max(Math.ceil(y),1);_/=v;let C=t[t.length-2],S=t[t.length-1];const w={x:0,y:0};for(let A=0;A<v;A++){const T=mv(x,_),{x:k,y:E}=Ia(T[0],s,o,h,c,m,p,w),{x:$,y:H}=Ia(T[1],s,o,h,c,m,p,w),{x:K,y:Yt}=Ia(T[2],s,o,h,c,m,p,w);Jm(t,C,S,k,E,$,H,K,Yt),C=K,S=Yt,x+=_}}function xv(t,e,n){const r=(o,a)=>{const l=a.x-o.x,u=a.y-o.y,c=Math.sqrt(l*l+u*u),h=l/c,d=u/c;return{len:c,nx:h,ny:d}},i=(o,a)=>{o===0?t.moveTo(a.x,a.y):t.lineTo(a.x,a.y)};let s=e[e.length-1];for(let o=0;o<e.length;o++){const a=e[o%e.length],l=a.radius??n;if(l<=0){i(o,a),s=a;continue}const u=e[(o+1)%e.length],c=r(a,s),h=r(a,u);if(c.len<1e-4||h.len<1e-4){i(o,a),s=a;continue}let d=Math.asin(c.nx*h.ny-c.ny*h.nx),f=1,g=!1;c.nx*h.nx-c.ny*-h.ny<0?d<0?d=Math.PI+d:(d=Math.PI-d,f=-1,g=!0):d>0&&(f=-1,g=!0);const x=d/2;let _,m=Math.abs(Math.cos(x)*l/Math.sin(x));m>Math.min(c.len/2,h.len/2)?(m=Math.min(c.len/2,h.len/2),_=Math.abs(m*Math.sin(x)/Math.cos(x))):_=l;const p=a.x+h.nx*m+-h.ny*_*f,y=a.y+h.ny*m+h.nx*_*f,v=Math.atan2(c.ny,c.nx)+Math.PI/2*f,C=Math.atan2(h.ny,h.nx)-Math.PI/2*f;o===0&&t.moveTo(p+Math.cos(v)*_,y+Math.sin(v)*_),t.arc(p,y,_,v,C,g),s=a}}function _v(t,e,n,r){const i=(a,l)=>Math.sqrt((a.x-l.x)**2+(a.y-l.y)**2),s=(a,l,u)=>({x:a.x+(l.x-a.x)*u,y:a.y+(l.y-a.y)*u}),o=e.length;for(let a=0;a<o;a++){const l=e[(a+1)%o],u=l.radius??n;if(u<=0){a===0?t.moveTo(l.x,l.y):t.lineTo(l.x,l.y);continue}const c=e[a],h=e[(a+2)%o],d=i(c,l);let f;if(d<1e-4)f=l;else{const _=Math.min(d/2,u);f=s(l,c,_/d)}const g=i(h,l);let x;if(g<1e-4)x=l;else{const _=Math.min(g/2,u);x=s(l,h,_/g)}a===0?t.moveTo(f.x,f.y):t.lineTo(f.x,f.y),t.quadraticCurveTo(l.x,l.y,x.x,x.y,r)}}const vv=new fe;class wv{constructor(e){this.shapePrimitives=[],this._currentPoly=null,this._bounds=new yt,this._graphicsPath2D=e,this.signed=e.checkForHoles}moveTo(e,n){return this.startPoly(e,n),this}lineTo(e,n){this._ensurePoly();const r=this._currentPoly.points,i=r[r.length-2],s=r[r.length-1];return(i!==e||s!==n)&&r.push(e,n),this}arc(e,n,r,i,s,o){this._ensurePoly(!1);const a=this._currentPoly.points;return eg(a,e,n,r,i,s,o),this}arcTo(e,n,r,i,s){this._ensurePoly();const o=this._currentPoly.points;return pv(o,e,n,r,i,s),this}arcToSvg(e,n,r,i,s,o,a){const l=this._currentPoly.points;return yv(l,this._currentPoly.lastX,this._currentPoly.lastY,o,a,e,n,r,i,s),this}bezierCurveTo(e,n,r,i,s,o,a){this._ensurePoly();const l=this._currentPoly;return Jm(this._currentPoly.points,l.lastX,l.lastY,e,n,r,i,s,o,a),this}quadraticCurveTo(e,n,r,i,s){this._ensurePoly();const o=this._currentPoly;return dv(this._currentPoly.points,o.lastX,o.lastY,e,n,r,i,s),this}closePath(){return this.endPoly(!0),this}addPath(e,n){this.endPoly(),n&&!n.isIdentity()&&(e=e.clone(!0),e.transform(n));const r=this.shapePrimitives,i=r.length;for(let s=0;s<e.instructions.length;s++){const o=e.instructions[s];this[o.action](...o.data)}if(e.checkForHoles&&r.length-i>1){let s=null;for(let o=i;o<r.length;o++){const a=r[o];if(a.shape.type==="polygon"){const l=a.shape,u=s?.shape;u&&u.containsPolygon(l)?(s.holes||(s.holes=[]),s.holes.push(a),r.copyWithin(o,o+1),r.length--,o--):s=a}}}return this}finish(e=!1){this.endPoly(e)}rect(e,n,r,i,s){return this.drawShape(new fe(e,n,r,i),s),this}circle(e,n,r,i){return this.drawShape(new Qu(e,n,r),i),this}poly(e,n,r){const i=new di(e);return i.closePath=n,this.drawShape(i,r),this}regularPoly(e,n,r,i,s=0,o){i=Math.max(i|0,3);const a=-1*Math.PI/2+s,l=Math.PI*2/i,u=[];for(let c=0;c<i;c++){const h=a-c*l;u.push(e+r*Math.cos(h),n+r*Math.sin(h))}return this.poly(u,!0,o),this}roundPoly(e,n,r,i,s,o=0,a){if(i=Math.max(i|0,3),s<=0)return this.regularPoly(e,n,r,i,o);const l=r*Math.sin(Math.PI/i)-.001;s=Math.min(s,l);const u=-1*Math.PI/2+o,c=Math.PI*2/i,h=(i-2)*Math.PI/i/2;for(let d=0;d<i;d++){const f=d*c+u,g=e+r*Math.cos(f),x=n+r*Math.sin(f),_=f+Math.PI+h,m=f-Math.PI-h,p=g+s*Math.cos(_),y=x+s*Math.sin(_),v=g+s*Math.cos(m),C=x+s*Math.sin(m);d===0?this.moveTo(p,y):this.lineTo(p,y),this.quadraticCurveTo(g,x,v,C,a)}return this.closePath()}roundShape(e,n,r=!1,i){return e.length<3?this:(r?_v(this,e,n,i):xv(this,e,n),this.closePath())}filletRect(e,n,r,i,s){if(s===0)return this.rect(e,n,r,i);const o=Math.min(r,i)/2,a=Math.min(o,Math.max(-o,s)),l=e+r,u=n+i,c=a<0?-a:0,h=Math.abs(a);return this.moveTo(e,n+h).arcTo(e+c,n+c,e+h,n,h).lineTo(l-h,n).arcTo(l-c,n+c,l,n+h,h).lineTo(l,u-h).arcTo(l-c,u-c,e+r-h,u,h).lineTo(e+h,u).arcTo(e+c,u-c,e,u-h,h).closePath()}chamferRect(e,n,r,i,s,o){if(s<=0)return this.rect(e,n,r,i);const a=Math.min(s,Math.min(r,i)/2),l=e+r,u=n+i,c=[e+a,n,l-a,n,l,n+a,l,u-a,l-a,u,e+a,u,e,u-a,e,n+a];for(let h=c.length-1;h>=2;h-=2)c[h]===c[h-2]&&c[h-1]===c[h-3]&&c.splice(h-1,2);return this.poly(c,!0,o)}ellipse(e,n,r,i,s){return this.drawShape(new Zu(e,n,r,i),s),this}roundRect(e,n,r,i,s,o){return this.drawShape(new Ju(e,n,r,i,s),o),this}drawShape(e,n){return this.endPoly(),this.shapePrimitives.push({shape:e,transform:n}),this}startPoly(e,n){let r=this._currentPoly;return r&&this.endPoly(),r=new di,r.points.push(e,n),this._currentPoly=r,this}endPoly(e=!1){const n=this._currentPoly;return n&&n.points.length>2&&(n.closePath=e,this.shapePrimitives.push({shape:n})),this._currentPoly=null,this}_ensurePoly(e=!0){if(!this._currentPoly&&(this._currentPoly=new di,e)){const n=this.shapePrimitives[this.shapePrimitives.length-1];if(n){let r=n.shape.x,i=n.shape.y;if(n.transform&&!n.transform.isIdentity()){const s=n.transform,o=r;r=s.a*r+s.c*i+s.tx,i=s.b*o+s.d*i+s.ty}this._currentPoly.points.push(r,i)}else this._currentPoly.points.push(0,0)}}buildPath(){const e=this._graphicsPath2D;this.shapePrimitives.length=0,this._currentPoly=null;for(let n=0;n<e.instructions.length;n++){const r=e.instructions[n];this[r.action](...r.data)}this.finish()}get bounds(){const e=this._bounds;e.clear();const n=this.shapePrimitives;for(let r=0;r<n.length;r++){const i=n[r],s=i.shape.getBounds(vv);i.transform?e.addRect(s,i.transform):e.addRect(s)}return e}}class Dt{constructor(e,n=!1){this.instructions=[],this.uid=he("graphicsPath"),this._dirty=!0,this.checkForHoles=n,typeof e=="string"?W1(e,this):this.instructions=e?.slice()??[]}get shapePath(){return this._shapePath||(this._shapePath=new wv(this)),this._dirty&&(this._dirty=!1,this._shapePath.buildPath()),this._shapePath}addPath(e,n){return e=e.clone(),this.instructions.push({action:"addPath",data:[e,n]}),this._dirty=!0,this}arc(...e){return this.instructions.push({action:"arc",data:e}),this._dirty=!0,this}arcTo(...e){return this.instructions.push({action:"arcTo",data:e}),this._dirty=!0,this}arcToSvg(...e){return this.instructions.push({action:"arcToSvg",data:e}),this._dirty=!0,this}bezierCurveTo(...e){return this.instructions.push({action:"bezierCurveTo",data:e}),this._dirty=!0,this}bezierCurveToShort(e,n,r,i,s){const o=this.instructions[this.instructions.length-1],a=this.getLastPoint(Te.shared);let l=0,u=0;if(!o||o.action!=="bezierCurveTo")l=a.x,u=a.y;else{l=o.data[2],u=o.data[3];const c=a.x,h=a.y;l=c+(c-l),u=h+(h-u)}return this.instructions.push({action:"bezierCurveTo",data:[l,u,e,n,r,i,s]}),this._dirty=!0,this}closePath(){return this.instructions.push({action:"closePath",data:[]}),this._dirty=!0,this}ellipse(...e){return this.instructions.push({action:"ellipse",data:e}),this._dirty=!0,this}lineTo(...e){return this.instructions.push({action:"lineTo",data:e}),this._dirty=!0,this}moveTo(...e){return this.instructions.push({action:"moveTo",data:e}),this}quadraticCurveTo(...e){return this.instructions.push({action:"quadraticCurveTo",data:e}),this._dirty=!0,this}quadraticCurveToShort(e,n,r){const i=this.instructions[this.instructions.length-1],s=this.getLastPoint(Te.shared);let o=0,a=0;if(!i||i.action!=="quadraticCurveTo")o=s.x,a=s.y;else{o=i.data[0],a=i.data[1];const l=s.x,u=s.y;o=l+(l-o),a=u+(u-a)}return this.instructions.push({action:"quadraticCurveTo",data:[o,a,e,n,r]}),this._dirty=!0,this}rect(e,n,r,i,s){return this.instructions.push({action:"rect",data:[e,n,r,i,s]}),this._dirty=!0,this}circle(e,n,r,i){return this.instructions.push({action:"circle",data:[e,n,r,i]}),this._dirty=!0,this}roundRect(...e){return this.instructions.push({action:"roundRect",data:e}),this._dirty=!0,this}poly(...e){return this.instructions.push({action:"poly",data:e}),this._dirty=!0,this}regularPoly(...e){return this.instructions.push({action:"regularPoly",data:e}),this._dirty=!0,this}roundPoly(...e){return this.instructions.push({action:"roundPoly",data:e}),this._dirty=!0,this}roundShape(...e){return this.instructions.push({action:"roundShape",data:e}),this._dirty=!0,this}filletRect(...e){return this.instructions.push({action:"filletRect",data:e}),this._dirty=!0,this}chamferRect(...e){return this.instructions.push({action:"chamferRect",data:e}),this._dirty=!0,this}star(e,n,r,i,s,o,a){s||(s=i/2);const l=-1*Math.PI/2+o,u=r*2,c=Math.PI*2/u,h=[];for(let d=0;d<u;d++){const f=d%2?s:i,g=d*c+l;h.push(e+f*Math.cos(g),n+f*Math.sin(g))}return this.poly(h,!0,a),this}clone(e=!1){const n=new Dt;if(n.checkForHoles=this.checkForHoles,!e)n.instructions=this.instructions.slice();else for(let r=0;r<this.instructions.length;r++){const i=this.instructions[r];n.instructions.push({action:i.action,data:i.data.slice()})}return n}clear(){return this.instructions.length=0,this._dirty=!0,this}transform(e){if(e.isIdentity())return this;const n=e.a,r=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty;let l=0,u=0,c=0,h=0,d=0,f=0,g=0,x=0;for(let _=0;_<this.instructions.length;_++){const m=this.instructions[_],p=m.data;switch(m.action){case"moveTo":case"lineTo":l=p[0],u=p[1],p[0]=n*l+i*u+o,p[1]=r*l+s*u+a;break;case"bezierCurveTo":c=p[0],h=p[1],d=p[2],f=p[3],l=p[4],u=p[5],p[0]=n*c+i*h+o,p[1]=r*c+s*h+a,p[2]=n*d+i*f+o,p[3]=r*d+s*f+a,p[4]=n*l+i*u+o,p[5]=r*l+s*u+a;break;case"quadraticCurveTo":c=p[0],h=p[1],l=p[2],u=p[3],p[0]=n*c+i*h+o,p[1]=r*c+s*h+a,p[2]=n*l+i*u+o,p[3]=r*l+s*u+a;break;case"arcToSvg":l=p[5],u=p[6],g=p[0],x=p[1],p[0]=n*g+i*x,p[1]=r*g+s*x,p[5]=n*l+i*u+o,p[6]=r*l+s*u+a;break;case"circle":p[4]=Hr(p[3],e);break;case"rect":p[4]=Hr(p[4],e);break;case"ellipse":p[8]=Hr(p[8],e);break;case"roundRect":p[5]=Hr(p[5],e);break;case"addPath":p[0].transform(e);break;case"poly":p[2]=Hr(p[2],e);break;default:ee("unknown transform action",m.action);break}}return this._dirty=!0,this}get bounds(){return this.shapePath.bounds}getLastPoint(e){let n=this.instructions.length-1,r=this.instructions[n];if(!r)return e.x=0,e.y=0,e;for(;r.action==="closePath";){if(n--,n<0)return e.x=0,e.y=0,e;r=this.instructions[n]}switch(r.action){case"moveTo":case"lineTo":e.x=r.data[0],e.y=r.data[1];break;case"quadraticCurveTo":e.x=r.data[2],e.y=r.data[3];break;case"bezierCurveTo":e.x=r.data[4],e.y=r.data[5];break;case"arc":case"arcToSvg":e.x=r.data[5],e.y=r.data[6];break;case"addPath":r.data[0].getLastPoint(e);break}return e}}function Hr(t,e){return t?t.prepend(e):e.clone()}function ue(t,e,n){const r=t.getAttribute(e);return r?Number(r):n}function Sv(t,e){const n=t.querySelectorAll("defs");for(let r=0;r<n.length;r++){const i=n[r];for(let s=0;s<i.children.length;s++){const o=i.children[s];switch(o.nodeName.toLowerCase()){case"lineargradient":e.defs[o.id]=Cv(o);break;case"radialgradient":e.defs[o.id]=kv();break}}}}function Cv(t){const e=ue(t,"x1",0),n=ue(t,"y1",0),r=ue(t,"x2",1),i=ue(t,"y2",0),s=t.getAttribute("gradientUnits")||"objectBoundingBox",o=new Ht(e,n,r,i,s==="objectBoundingBox"?"local":"global");for(let a=0;a<t.children.length;a++){const l=t.children[a],u=ue(l,"offset",0),c=ye.shared.setValue(l.getAttribute("stop-color")).toNumber();o.addColorStop(u,c)}return o}function kv(t){return ee("[SVG Parser] Radial gradients are not yet supported"),new Ht(0,0,1,0)}function ad(t){const e=t.match(/url\s*\(\s*['"]?\s*#([^'"\s)]+)\s*['"]?\s*\)/i);return e?e[1]:""}const ld={fill:{type:"paint",default:0},"fill-opacity":{type:"number",default:1},stroke:{type:"paint",default:0},"stroke-width":{type:"number",default:1},"stroke-opacity":{type:"number",default:1},"stroke-linecap":{type:"string",default:"butt"},"stroke-linejoin":{type:"string",default:"miter"},"stroke-miterlimit":{type:"number",default:10},"stroke-dasharray":{type:"string",default:"none"},"stroke-dashoffset":{type:"number",default:0},opacity:{type:"number",default:1}};function tg(t,e){const n=t.getAttribute("style"),r={},i={},s={strokeStyle:r,fillStyle:i,useFill:!1,useStroke:!1};for(const o in ld){const a=t.getAttribute(o);a&&ud(e,s,o,a.trim())}if(n){const o=n.split(";");for(let a=0;a<o.length;a++){const l=o[a].trim(),[u,c]=l.split(":");ld[u]&&ud(e,s,u,c.trim())}}return{strokeStyle:s.useStroke?r:null,fillStyle:s.useFill?i:null,useFill:s.useFill,useStroke:s.useStroke}}function ud(t,e,n,r){switch(n){case"stroke":if(r!=="none"){if(r.startsWith("url(")){const i=ad(r);e.strokeStyle.fill=t.defs[i]}else e.strokeStyle.color=ye.shared.setValue(r).toNumber();e.useStroke=!0}break;case"stroke-width":e.strokeStyle.width=Number(r);break;case"fill":if(r!=="none"){if(r.startsWith("url(")){const i=ad(r);e.fillStyle.fill=t.defs[i]}else e.fillStyle.color=ye.shared.setValue(r).toNumber();e.useFill=!0}break;case"fill-opacity":e.fillStyle.alpha=Number(r);break;case"stroke-opacity":e.strokeStyle.alpha=Number(r);break;case"opacity":e.fillStyle.alpha=Number(r),e.strokeStyle.alpha=Number(r);break}}function Av(t){if(t.length<=2)return!0;const e=t.map(a=>a.area).sort((a,l)=>l-a),[n,r]=e,i=e[e.length-1],s=n/r,o=r/i;return!(s>3&&o<2)}function Pv(t){return t.split(/(?=[Mm])/).filter(r=>r.trim().length>0)}function bv(t){const e=t.match(/[-+]?[0-9]*\.?[0-9]+/g);if(!e||e.length<4)return 0;const n=e.map(Number),r=[],i=[];for(let c=0;c<n.length;c+=2)c+1<n.length&&(r.push(n[c]),i.push(n[c+1]));if(r.length===0||i.length===0)return 0;const s=Math.min(...r),o=Math.max(...r),a=Math.min(...i),l=Math.max(...i);return(o-s)*(l-a)}function cd(t,e){const n=new Dt(t,!1);for(const r of n.instructions)e.instructions.push(r)}function Mv(t,e){if(typeof t=="string"){const o=document.createElement("div");o.innerHTML=t.trim(),t=o.querySelector("svg")}const n={context:e,defs:{},path:new Dt};Sv(t,n);const r=t.children,{fillStyle:i,strokeStyle:s}=tg(t,n);for(let o=0;o<r.length;o++){const a=r[o];a.nodeName.toLowerCase()!=="defs"&&ng(a,n,i,s)}return e}function ng(t,e,n,r){const i=t.children,{fillStyle:s,strokeStyle:o}=tg(t,e);s&&n?n={...n,...s}:s&&(n=s),o&&r?r={...r,...o}:o&&(r=o);const a=!n&&!r;a&&(n={color:0});let l,u,c,h,d,f,g,x,_,m,p,y,v,C,S,w,A;switch(t.nodeName.toLowerCase()){case"path":{C=t.getAttribute("d");const T=t.getAttribute("fill-rule"),k=Pv(C),E=T==="evenodd",$=k.length>1;if(E&&$){const K=k.map(F=>({path:F,area:bv(F)}));if(K.sort((F,z)=>z.area-F.area),k.length>3||!Av(K))for(let F=0;F<K.length;F++){const z=K[F],R=F===0;e.context.beginPath();const M=new Dt(void 0,!0);cd(z.path,M),e.context.path(M),R?(n&&e.context.fill(n),r&&e.context.stroke(r)):e.context.cut()}else for(let F=0;F<K.length;F++){const z=K[F],R=F%2===1;e.context.beginPath();const M=new Dt(void 0,!0);cd(z.path,M),e.context.path(M),R?e.context.cut():(n&&e.context.fill(n),r&&e.context.stroke(r))}}else{const K=T?T==="evenodd":!0;S=new Dt(C,K),e.context.path(S),n&&e.context.fill(n),r&&e.context.stroke(r)}break}case"circle":g=ue(t,"cx",0),x=ue(t,"cy",0),_=ue(t,"r",0),e.context.ellipse(g,x,_,_),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"rect":l=ue(t,"x",0),u=ue(t,"y",0),w=ue(t,"width",0),A=ue(t,"height",0),m=ue(t,"rx",0),p=ue(t,"ry",0),m||p?e.context.roundRect(l,u,w,A,m||p):e.context.rect(l,u,w,A),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"ellipse":g=ue(t,"cx",0),x=ue(t,"cy",0),m=ue(t,"rx",0),p=ue(t,"ry",0),e.context.beginPath(),e.context.ellipse(g,x,m,p),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"line":c=ue(t,"x1",0),h=ue(t,"y1",0),d=ue(t,"x2",0),f=ue(t,"y2",0),e.context.beginPath(),e.context.moveTo(c,h),e.context.lineTo(d,f),r&&e.context.stroke(r);break;case"polygon":v=t.getAttribute("points"),y=v.match(/\d+/g).map(T=>parseInt(T,10)),e.context.poly(y,!0),n&&e.context.fill(n),r&&e.context.stroke(r);break;case"polyline":v=t.getAttribute("points"),y=v.match(/\d+/g).map(T=>parseInt(T,10)),e.context.poly(y,!1),r&&e.context.stroke(r);break;case"g":case"svg":break;default:{ee(`[SVG parser] <${t.nodeName}> elements unsupported`);break}}a&&(n=null);for(let T=0;T<i.length;T++)ng(i[T],e,n,r)}function Tv(t){return ye.isColorLike(t)}function hd(t){return t instanceof Bo}function dd(t){return t instanceof Ht}function Ev(t){return t instanceof U}function Rv(t,e,n){const r=ye.shared.setValue(e??0);return t.color=r.toNumber(),t.alpha=r.alpha===1?n.alpha:r.alpha,t.texture=U.WHITE,{...n,...t}}function Iv(t,e,n){return t.texture=e,{...n,...t}}function fd(t,e,n){return t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,{...n,...t}}function pd(t,e,n){return e.buildGradient(),t.fill=e,t.color=16777215,t.texture=e.texture,t.matrix=e.transform,t.textureSpace=e.textureSpace,{...n,...t}}function Fv(t,e){const n={...e,...t},r=ye.shared.setValue(n.color);return n.alpha*=r.alpha,n.color=r.toNumber(),n}function Fn(t,e){if(t==null)return null;const n={},r=t;return Tv(t)?Rv(n,t,e):Ev(t)?Iv(n,t,e):hd(t)?fd(n,t,e):dd(t)?pd(n,t,e):r.fill&&hd(r.fill)?fd(r,r.fill,e):r.fill&&dd(r.fill)?pd(r,r.fill,e):Fv(r,e)}function mo(t,e){const{width:n,alignment:r,miterLimit:i,cap:s,join:o,pixelLine:a,...l}=e,u=Fn(t,l);return u?{width:n,alignment:r,miterLimit:i,cap:s,join:o,pixelLine:a,...u}:null}const Lv=new Te,md=new G,tc=class At extends xt{constructor(){super(...arguments),this.uid=he("graphicsContext"),this.dirty=!0,this.batchMode="auto",this.instructions=[],this._activePath=new Dt,this._transform=new G,this._fillStyle={...At.defaultFillStyle},this._strokeStyle={...At.defaultStrokeStyle},this._stateStack=[],this._tick=0,this._bounds=new yt,this._boundsDirty=!0}clone(){const e=new At;return e.batchMode=this.batchMode,e.instructions=this.instructions.slice(),e._activePath=this._activePath.clone(),e._transform=this._transform.clone(),e._fillStyle={...this._fillStyle},e._strokeStyle={...this._strokeStyle},e._stateStack=this._stateStack.slice(),e._bounds=this._bounds.clone(),e._boundsDirty=!0,e}get fillStyle(){return this._fillStyle}set fillStyle(e){this._fillStyle=Fn(e,At.defaultFillStyle)}get strokeStyle(){return this._strokeStyle}set strokeStyle(e){this._strokeStyle=mo(e,At.defaultStrokeStyle)}setFillStyle(e){return this._fillStyle=Fn(e,At.defaultFillStyle),this}setStrokeStyle(e){return this._strokeStyle=Fn(e,At.defaultStrokeStyle),this}texture(e,n,r,i,s,o){return this.instructions.push({action:"texture",data:{image:e,dx:r||0,dy:i||0,dw:s||e.frame.width,dh:o||e.frame.height,transform:this._transform.clone(),alpha:this._fillStyle.alpha,style:n?ye.shared.setValue(n).toNumber():16777215}}),this.onUpdate(),this}beginPath(){return this._activePath=new Dt,this}fill(e,n){let r;const i=this.instructions[this.instructions.length-1];return this._tick===0&&i&&i.action==="stroke"?r=i.data.path:r=this._activePath.clone(),r?(e!=null&&(n!==void 0&&typeof e=="number"&&(D(X,"GraphicsContext.fill(color, alpha) is deprecated, use GraphicsContext.fill({ color, alpha }) instead"),e={color:e,alpha:n}),this._fillStyle=Fn(e,At.defaultFillStyle)),this.instructions.push({action:"fill",data:{style:this.fillStyle,path:r}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}_initNextPathLocation(){const{x:e,y:n}=this._activePath.getLastPoint(Te.shared);this._activePath.clear(),this._activePath.moveTo(e,n)}stroke(e){let n;const r=this.instructions[this.instructions.length-1];return this._tick===0&&r&&r.action==="fill"?n=r.data.path:n=this._activePath.clone(),n?(e!=null&&(this._strokeStyle=mo(e,At.defaultStrokeStyle)),this.instructions.push({action:"stroke",data:{style:this.strokeStyle,path:n}}),this.onUpdate(),this._initNextPathLocation(),this._tick=0,this):this}cut(){for(let e=0;e<2;e++){const n=this.instructions[this.instructions.length-1-e],r=this._activePath.clone();if(n&&(n.action==="stroke"||n.action==="fill"))if(n.data.hole)n.data.hole.addPath(r);else{n.data.hole=r;break}}return this._initNextPathLocation(),this}arc(e,n,r,i,s,o){this._tick++;const a=this._transform;return this._activePath.arc(a.a*e+a.c*n+a.tx,a.b*e+a.d*n+a.ty,r,i,s,o),this}arcTo(e,n,r,i,s){this._tick++;const o=this._transform;return this._activePath.arcTo(o.a*e+o.c*n+o.tx,o.b*e+o.d*n+o.ty,o.a*r+o.c*i+o.tx,o.b*r+o.d*i+o.ty,s),this}arcToSvg(e,n,r,i,s,o,a){this._tick++;const l=this._transform;return this._activePath.arcToSvg(e,n,r,i,s,l.a*o+l.c*a+l.tx,l.b*o+l.d*a+l.ty),this}bezierCurveTo(e,n,r,i,s,o,a){this._tick++;const l=this._transform;return this._activePath.bezierCurveTo(l.a*e+l.c*n+l.tx,l.b*e+l.d*n+l.ty,l.a*r+l.c*i+l.tx,l.b*r+l.d*i+l.ty,l.a*s+l.c*o+l.tx,l.b*s+l.d*o+l.ty,a),this}closePath(){return this._tick++,this._activePath?.closePath(),this}ellipse(e,n,r,i){return this._tick++,this._activePath.ellipse(e,n,r,i,this._transform.clone()),this}circle(e,n,r){return this._tick++,this._activePath.circle(e,n,r,this._transform.clone()),this}path(e){return this._tick++,this._activePath.addPath(e,this._transform.clone()),this}lineTo(e,n){this._tick++;const r=this._transform;return this._activePath.lineTo(r.a*e+r.c*n+r.tx,r.b*e+r.d*n+r.ty),this}moveTo(e,n){this._tick++;const r=this._transform,i=this._activePath.instructions,s=r.a*e+r.c*n+r.tx,o=r.b*e+r.d*n+r.ty;return i.length===1&&i[0].action==="moveTo"?(i[0].data[0]=s,i[0].data[1]=o,this):(this._activePath.moveTo(s,o),this)}quadraticCurveTo(e,n,r,i,s){this._tick++;const o=this._transform;return this._activePath.quadraticCurveTo(o.a*e+o.c*n+o.tx,o.b*e+o.d*n+o.ty,o.a*r+o.c*i+o.tx,o.b*r+o.d*i+o.ty,s),this}rect(e,n,r,i){return this._tick++,this._activePath.rect(e,n,r,i,this._transform.clone()),this}roundRect(e,n,r,i,s){return this._tick++,this._activePath.roundRect(e,n,r,i,s,this._transform.clone()),this}poly(e,n){return this._tick++,this._activePath.poly(e,n,this._transform.clone()),this}regularPoly(e,n,r,i,s=0,o){return this._tick++,this._activePath.regularPoly(e,n,r,i,s,o),this}roundPoly(e,n,r,i,s,o){return this._tick++,this._activePath.roundPoly(e,n,r,i,s,o),this}roundShape(e,n,r,i){return this._tick++,this._activePath.roundShape(e,n,r,i),this}filletRect(e,n,r,i,s){return this._tick++,this._activePath.filletRect(e,n,r,i,s),this}chamferRect(e,n,r,i,s,o){return this._tick++,this._activePath.chamferRect(e,n,r,i,s,o),this}star(e,n,r,i,s=0,o=0){return this._tick++,this._activePath.star(e,n,r,i,s,o,this._transform.clone()),this}svg(e){return this._tick++,Mv(e,this),this}restore(){const e=this._stateStack.pop();return e&&(this._transform=e.transform,this._fillStyle=e.fillStyle,this._strokeStyle=e.strokeStyle),this}save(){return this._stateStack.push({transform:this._transform.clone(),fillStyle:{...this._fillStyle},strokeStyle:{...this._strokeStyle}}),this}getTransform(){return this._transform}resetTransform(){return this._transform.identity(),this}rotate(e){return this._transform.rotate(e),this}scale(e,n=e){return this._transform.scale(e,n),this}setTransform(e,n,r,i,s,o){return e instanceof G?(this._transform.set(e.a,e.b,e.c,e.d,e.tx,e.ty),this):(this._transform.set(e,n,r,i,s,o),this)}transform(e,n,r,i,s,o){return e instanceof G?(this._transform.append(e),this):(md.set(e,n,r,i,s,o),this._transform.append(md),this)}translate(e,n=e){return this._transform.translate(e,n),this}clear(){return this._activePath.clear(),this.instructions.length=0,this.resetTransform(),this.onUpdate(),this}onUpdate(){this.dirty||(this.emit("update",this,16),this.dirty=!0,this._boundsDirty=!0)}get bounds(){if(!this._boundsDirty)return this._bounds;this._boundsDirty=!1;const e=this._bounds;e.clear();for(let n=0;n<this.instructions.length;n++){const r=this.instructions[n],i=r.action;if(i==="fill"){const s=r.data;e.addBounds(s.path.bounds)}else if(i==="texture"){const s=r.data;e.addFrame(s.dx,s.dy,s.dx+s.dw,s.dy+s.dh,s.transform)}if(i==="stroke"){const s=r.data,o=s.style.alignment,a=s.style.width*(1-o),l=s.path.bounds;e.addFrame(l.minX-a,l.minY-a,l.maxX+a,l.maxY+a)}}return e}containsPoint(e){if(!this.bounds.containsPoint(e.x,e.y))return!1;const n=this.instructions;let r=!1;for(let i=0;i<n.length;i++){const s=n[i],o=s.data,a=o.path;if(!s.action||!a)continue;const l=o.style,u=a.shapePath.shapePrimitives;for(let c=0;c<u.length;c++){const h=u[c].shape;if(!l||!h)continue;const d=u[c].transform,f=d?d.applyInverse(e,Lv):e;if(s.action==="fill")r=h.contains(f.x,f.y);else{const x=l;r=h.strokeContains(f.x,f.y,x.width,x.alignment)}const g=o.hole;if(g){const x=g.shapePath?.shapePrimitives;if(x)for(let _=0;_<x.length;_++)x[_].shape.contains(f.x,f.y)&&(r=!1)}if(r)return!0}}return r}destroy(e=!1){if(this._stateStack.length=0,this._transform=null,this.emit("destroy",this),this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.textureSource;this._fillStyle.texture&&(this._fillStyle.fill&&"uid"in this._fillStyle.fill?this._fillStyle.fill.destroy():this._fillStyle.texture.destroy(r)),this._strokeStyle.texture&&(this._strokeStyle.fill&&"uid"in this._strokeStyle.fill?this._strokeStyle.fill.destroy():this._strokeStyle.texture.destroy(r))}this._fillStyle=null,this._strokeStyle=null,this.instructions=null,this._activePath=null,this._bounds=null,this._stateStack=null,this.customShader=null,this._transform=null}};tc.defaultFillStyle={color:16777215,alpha:1,texture:U.WHITE,matrix:null,fill:null,textureSpace:"local"};tc.defaultStrokeStyle={width:1,color:16777215,alpha:1,alignment:.5,miterLimit:10,cap:"butt",join:"miter",texture:U.WHITE,matrix:null,fill:null,textureSpace:"local",pixelLine:!1};let tt=tc;const nc=class qn extends xt{constructor(e={}){super(),this.uid=he("textStyle"),this._tick=0,Bv(e);const n={...qn.defaultTextStyle,...e};for(const r in n){const i=r;this[i]=n[r]}this.update(),this._tick=0}get align(){return this._align}set align(e){this._align=e,this.update()}get breakWords(){return this._breakWords}set breakWords(e){this._breakWords=e,this.update()}get dropShadow(){return this._dropShadow}set dropShadow(e){e!==null&&typeof e=="object"?this._dropShadow=this._createProxy({...qn.defaultDropShadow,...e}):this._dropShadow=e?this._createProxy({...qn.defaultDropShadow}):null,this.update()}get fontFamily(){return this._fontFamily}set fontFamily(e){this._fontFamily=e,this.update()}get fontSize(){return this._fontSize}set fontSize(e){typeof e=="string"?this._fontSize=parseInt(e,10):this._fontSize=e,this.update()}get fontStyle(){return this._fontStyle}set fontStyle(e){this._fontStyle=e.toLowerCase(),this.update()}get fontVariant(){return this._fontVariant}set fontVariant(e){this._fontVariant=e,this.update()}get fontWeight(){return this._fontWeight}set fontWeight(e){this._fontWeight=e,this.update()}get leading(){return this._leading}set leading(e){this._leading=e,this.update()}get letterSpacing(){return this._letterSpacing}set letterSpacing(e){this._letterSpacing=e,this.update()}get lineHeight(){return this._lineHeight}set lineHeight(e){this._lineHeight=e,this.update()}get padding(){return this._padding}set padding(e){this._padding=e,this.update()}get filters(){return this._filters}set filters(e){this._filters=Object.freeze(e),this.update()}get trim(){return this._trim}set trim(e){this._trim=e,this.update()}get textBaseline(){return this._textBaseline}set textBaseline(e){this._textBaseline=e,this.update()}get whiteSpace(){return this._whiteSpace}set whiteSpace(e){this._whiteSpace=e,this.update()}get wordWrap(){return this._wordWrap}set wordWrap(e){this._wordWrap=e,this.update()}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(e){this._wordWrapWidth=e,this.update()}get fill(){return this._originalFill}set fill(e){e!==this._originalFill&&(this._originalFill=e,this._isFillStyle(e)&&(this._originalFill=this._createProxy({...tt.defaultFillStyle,...e},()=>{this._fill=Fn({...this._originalFill},tt.defaultFillStyle)})),this._fill=Fn(e===0?"black":e,tt.defaultFillStyle),this.update())}get stroke(){return this._originalStroke}set stroke(e){e!==this._originalStroke&&(this._originalStroke=e,this._isFillStyle(e)&&(this._originalStroke=this._createProxy({...tt.defaultStrokeStyle,...e},()=>{this._stroke=mo({...this._originalStroke},tt.defaultStrokeStyle)})),this._stroke=mo(e,tt.defaultStrokeStyle),this.update())}update(){this._tick++,this.emit("update",this)}reset(){const e=qn.defaultTextStyle;for(const n in e)this[n]=e[n]}get styleKey(){return`${this.uid}-${this._tick}`}clone(){return new qn({align:this.align,breakWords:this.breakWords,dropShadow:this._dropShadow?{...this._dropShadow}:null,fill:this._fill,fontFamily:this.fontFamily,fontSize:this.fontSize,fontStyle:this.fontStyle,fontVariant:this.fontVariant,fontWeight:this.fontWeight,leading:this.leading,letterSpacing:this.letterSpacing,lineHeight:this.lineHeight,padding:this.padding,stroke:this._stroke,textBaseline:this.textBaseline,whiteSpace:this.whiteSpace,wordWrap:this.wordWrap,wordWrapWidth:this.wordWrapWidth,filters:this._filters?[...this._filters]:void 0})}_getFinalPadding(){let e=0;if(this._filters)for(let n=0;n<this._filters.length;n++)e+=this._filters[n].padding;return Math.max(this._padding,e)}destroy(e=!1){if(this.removeAllListeners(),typeof e=="boolean"?e:e?.texture){const r=typeof e=="boolean"?e:e?.textureSource;this._fill?.texture&&this._fill.texture.destroy(r),this._originalFill?.texture&&this._originalFill.texture.destroy(r),this._stroke?.texture&&this._stroke.texture.destroy(r),this._originalStroke?.texture&&this._originalStroke.texture.destroy(r)}this._fill=null,this._stroke=null,this.dropShadow=null,this._originalStroke=null,this._originalFill=null}_createProxy(e,n){return new Proxy(e,{set:(r,i,s)=>(r[i]=s,n?.(i,s),this.update(),!0)})}_isFillStyle(e){return(e??null)!==null&&!(ye.isColorLike(e)||e instanceof Ht||e instanceof Bo)}};nc.defaultDropShadow={alpha:1,angle:Math.PI/6,blur:0,color:"black",distance:5};nc.defaultTextStyle={align:"left",breakWords:!1,dropShadow:null,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,padding:0,stroke:null,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};let go=nc;function Bv(t){const e=t;if(typeof e.dropShadow=="boolean"&&e.dropShadow){const n=go.defaultDropShadow;t.dropShadow={alpha:e.dropShadowAlpha??n.alpha,angle:e.dropShadowAngle??n.angle,blur:e.dropShadowBlur??n.blur,color:e.dropShadowColor??n.color,distance:e.dropShadowDistance??n.distance}}if(e.strokeThickness!==void 0){D(X,"strokeThickness is now a part of stroke");const n=e.stroke;let r={};if(ye.isColorLike(n))r.color=n;else if(n instanceof Ht||n instanceof Bo)r.fill=n;else if(Object.hasOwnProperty.call(n,"color")||Object.hasOwnProperty.call(n,"fill"))r=n;else throw new Error("Invalid stroke value.");t.stroke={...r,width:e.strokeThickness}}if(Array.isArray(e.fillGradientStops)){if(D(X,"gradient fill is now a fill pattern: `new FillGradient(...)`"),!Array.isArray(e.fill)||e.fill.length===0)throw new Error("Invalid fill value. Expected an array of colors for gradient fill.");e.fill.length!==e.fillGradientStops.length&&ee("The number of fill colors must match the number of fill gradient stops.");const n=new Ht({start:{x:0,y:0},end:{x:0,y:1},textureSpace:"local"}),r=e.fillGradientStops.slice(),i=e.fill.map(s=>ye.shared.setValue(s).toNumber());r.forEach((s,o)=>{n.addColorStop(s,i[o])}),t.fill={fill:n}}}class zv{constructor(e){this._canvasPool=Object.create(null),this.canvasOptions=e||{},this.enableFullScreen=!1}_createCanvasAndContext(e,n){const r=ne.get().createCanvas();r.width=e,r.height=n;const i=r.getContext("2d");return{canvas:r,context:i}}getOptimalCanvasAndContext(e,n,r=1){e=Math.ceil(e*r-1e-6),n=Math.ceil(n*r-1e-6),e=co(e),n=co(n);const i=(e<<17)+(n<<1);this._canvasPool[i]||(this._canvasPool[i]=[]);let s=this._canvasPool[i].pop();return s||(s=this._createCanvasAndContext(e,n)),s}returnCanvasAndContext(e){const n=e.canvas,{width:r,height:i}=n,s=(r<<17)+(i<<1);e.context.resetTransform(),e.context.clearRect(0,0,r,i),this._canvasPool[s].push(e)}clear(){this._canvasPool={}}}const ql=new zv;Ui.register(ql);const gd=1e5;function yd(t,e,n,r=0){if(t.texture===U.WHITE&&!t.fill)return ye.shared.setValue(t.color).setAlpha(t.alpha??1).toHexa();if(t.fill){if(t.fill instanceof Bo){const i=t.fill,s=e.createPattern(i.texture.source.resource,"repeat"),o=i.transform.copyTo(G.shared);return o.scale(i.texture.frame.width,i.texture.frame.height),s.setTransform(o),s}else if(t.fill instanceof Ht){const i=t.fill,s=i.type==="linear",o=i.textureSpace==="local";let a=1,l=1;o&&n&&(a=n.width+r,l=n.height+r);let u,c=!1;if(s){const{start:h,end:d}=i;u=e.createLinearGradient(h.x*a,h.y*l,d.x*a,d.y*l),c=Math.abs(d.x-h.x)<Math.abs((d.y-h.y)*.1)}else{const{center:h,innerRadius:d,outerCenter:f,outerRadius:g}=i;u=e.createRadialGradient(h.x*a,h.y*l,d*a,f.x*a,f.y*l,g*a)}if(c&&o&&n){const h=n.lineHeight/l;for(let d=0;d<n.lines.length;d++){const f=(d*n.lineHeight+r/2)/l;i.colorStops.forEach(g=>{const x=f+g.offset*h;u.addColorStop(Math.floor(x*gd)/gd,ye.shared.setValue(g.color).toHex())})}}else i.colorStops.forEach(h=>{u.addColorStop(h.offset,ye.shared.setValue(h.color).toHex())});return u}}else{const i=e.createPattern(t.texture.source.resource,"repeat"),s=t.matrix.copyTo(G.shared);return s.scale(t.texture.frame.width,t.texture.frame.height),i.setTransform(s),i}return ee("FillStyle not recognised",t),"red"}const rg=class ig extends Nm{constructor(e){super(),this.resolution=1,this.pages=[],this._padding=0,this._measureCache=Object.create(null),this._currentChars=[],this._currentX=0,this._currentY=0,this._currentMaxCharHeight=0,this._currentPageIndex=-1,this._skipKerning=!1;const n={...ig.defaultOptions,...e};this._textureSize=n.textureSize,this._mipmap=n.mipmap;const r=n.style.clone();n.overrideFill&&(r._fill.color=16777215,r._fill.alpha=1,r._fill.texture=U.WHITE,r._fill.fill=null),this.applyFillAsTint=n.overrideFill;const i=r.fontSize;r.fontSize=this.baseMeasurementFontSize;const s=$l(r);n.overrideSize?r._stroke&&(r._stroke.width*=this.baseRenderedFontSize/i):r.fontSize=this.baseRenderedFontSize=i,this._style=r,this._skipKerning=n.skipKerning??!1,this.resolution=n.resolution??1,this._padding=n.padding??4,n.textureStyle&&(this._textureStyle=n.textureStyle instanceof ho?n.textureStyle:new ho(n.textureStyle)),this.fontMetrics=Ns.measureFont(s),this.lineHeight=r.lineHeight||this.fontMetrics.fontSize||r.fontSize}ensureCharacters(e){const n=Ns.graphemeSegmenter(e).filter(_=>!this._currentChars.includes(_)).filter((_,m,p)=>p.indexOf(_)===m);if(!n.length)return;this._currentChars=[...this._currentChars,...n];let r;this._currentPageIndex===-1?r=this._nextPage():r=this.pages[this._currentPageIndex];let{canvas:i,context:s}=r.canvasAndContext,o=r.texture.source;const a=this._style;let l=this._currentX,u=this._currentY,c=this._currentMaxCharHeight;const h=this.baseRenderedFontSize/this.baseMeasurementFontSize,d=this._padding*h;let f=!1;const g=i.width/this.resolution,x=i.height/this.resolution;for(let _=0;_<n.length;_++){const m=n[_],p=Ns.measureText(m,a,i,!1);p.lineHeight=p.height;const y=p.width*h,v=Math.ceil((a.fontStyle==="italic"?2:1)*y),C=p.height*h,S=v+d*2,w=C+d*2;if(f=!1,m!==`
`&&m!=="\r"&&m!=="	"&&m!==" "&&(f=!0,c=Math.ceil(Math.max(w,c))),l+S>g&&(u+=c,c=w,l=0,u+c>x)){o.update();const T=this._nextPage();i=T.canvasAndContext.canvas,s=T.canvasAndContext.context,o=T.texture.source,l=0,u=0,c=0}const A=y/h-(a.dropShadow?.distance??0)-(a._stroke?.width??0);if(this.chars[m]={id:m.codePointAt(0),xOffset:-this._padding,yOffset:-this._padding,xAdvance:A,kerning:{}},f){this._drawGlyph(s,p,l+d,u+d,h,a);const T=o.width*h,k=o.height*h,E=new fe(l/T*o.width,u/k*o.height,S/T*o.width,w/k*o.height);this.chars[m].texture=new U({source:o,frame:E}),l+=Math.ceil(S)}}o.update(),this._currentX=l,this._currentY=u,this._currentMaxCharHeight=c,this._skipKerning&&this._applyKerning(n,s)}get pageTextures(){return D(X,"BitmapFont.pageTextures is deprecated, please use BitmapFont.pages instead."),this.pages}_applyKerning(e,n){const r=this._measureCache;for(let i=0;i<e.length;i++){const s=e[i];for(let o=0;o<this._currentChars.length;o++){const a=this._currentChars[o];let l=r[s];l||(l=r[s]=n.measureText(s).width);let u=r[a];u||(u=r[a]=n.measureText(a).width);let c=n.measureText(s+a).width,h=c-(l+u);h&&(this.chars[s].kerning[a]=h),c=n.measureText(s+a).width,h=c-(l+u),h&&(this.chars[a].kerning[s]=h)}}}_nextPage(){this._currentPageIndex++;const e=this.resolution,n=ql.getOptimalCanvasAndContext(this._textureSize,this._textureSize,e);this._setupContext(n.context,this._style,e);const r=e*(this.baseRenderedFontSize/this.baseMeasurementFontSize),i=new U({source:new Un({resource:n.canvas,resolution:r,alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:this._mipmap})});this._textureStyle&&(i.source.style=this._textureStyle);const s={canvasAndContext:n,texture:i};return this.pages[this._currentPageIndex]=s,s}_setupContext(e,n,r){n.fontSize=this.baseRenderedFontSize,e.scale(r,r),e.font=$l(n),n.fontSize=this.baseMeasurementFontSize,e.textBaseline=n.textBaseline;const i=n._stroke,s=i?.width??0;if(i&&(e.lineWidth=s,e.lineJoin=i.join,e.miterLimit=i.miterLimit,e.strokeStyle=yd(i,e)),n._fill&&(e.fillStyle=yd(n._fill,e)),n.dropShadow){const o=n.dropShadow,a=ye.shared.setValue(o.color).toArray(),l=o.blur*r,u=o.distance*r;e.shadowColor=`rgba(${a[0]*255},${a[1]*255},${a[2]*255},${o.alpha})`,e.shadowBlur=l,e.shadowOffsetX=Math.cos(o.angle)*u,e.shadowOffsetY=Math.sin(o.angle)*u}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0}_drawGlyph(e,n,r,i,s,o){const a=n.text,l=n.fontProperties,c=(o._stroke?.width??0)*s,h=r+c/2,d=i-c/2,f=l.descent*s,g=n.lineHeight*s;let x=!1;o.stroke&&c&&(x=!0,e.strokeText(a,h,d+g-f));const{shadowBlur:_,shadowOffsetX:m,shadowOffsetY:p}=e;o._fill&&(x&&(e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0),e.fillText(a,h,d+g-f)),x&&(e.shadowBlur=_,e.shadowOffsetX=m,e.shadowOffsetY=p)}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{canvasAndContext:n,texture:r}=this.pages[e];ql.returnCanvasAndContext(n),r.destroy(!0)}this.pages=null}};rg.defaultOptions={textureSize:512,style:new go,mipmap:!0};let xd=rg;function Ov(t,e,n,r){const i={width:0,height:0,offsetY:0,scale:e.fontSize/n.baseMeasurementFontSize,lines:[{width:0,charPositions:[],spaceWidth:0,spacesIndex:[],chars:[]}]};i.offsetY=n.baseLineOffset;let s=i.lines[0],o=null,a=!0;const l={spaceWord:!1,width:0,start:0,index:0,positions:[],chars:[]},u=n.baseMeasurementFontSize/e.fontSize,c=e.letterSpacing*u,h=e.wordWrapWidth*u,d=e.lineHeight?e.lineHeight*u:n.lineHeight,f=e.wordWrap&&e.breakWords,g=m=>{const p=s.width;for(let y=0;y<l.index;y++){const v=m.positions[y];s.chars.push(m.chars[y]),s.charPositions.push(v+p)}s.width+=m.width,a=!1,l.width=0,l.index=0,l.chars.length=0},x=()=>{let m=s.chars.length-1;if(r){let p=s.chars[m];for(;p===" ";)s.width-=n.chars[p].xAdvance,p=s.chars[--m]}i.width=Math.max(i.width,s.width),s={width:0,charPositions:[],chars:[],spaceWidth:0,spacesIndex:[]},a=!0,i.lines.push(s),i.height+=d},_=m=>m-c>h;for(let m=0;m<t.length+1;m++){let p;const y=m===t.length;y||(p=t[m]);const v=n.chars[p]||n.chars[" "];if(/(?:\s)/.test(p)||p==="\r"||p===`
`||y){if(!a&&e.wordWrap&&_(s.width+l.width)?(x(),g(l),y||s.charPositions.push(0)):(l.start=s.width,g(l),y||s.charPositions.push(0)),p==="\r"||p===`
`)x();else if(!y){const A=v.xAdvance+(v.kerning[o]||0)+c;s.width+=A,s.spaceWidth=A,s.spacesIndex.push(s.charPositions.length),s.chars.push(p)}}else{const w=v.kerning[o]||0,A=v.xAdvance+w+c;f&&_(s.width+l.width+A)&&(g(l),x()),l.positions[l.index++]=l.width+w,l.chars.push(p),l.width+=A}o=p}return x(),e.align==="center"?Nv(i):e.align==="right"?Dv(i):e.align==="justify"&&jv(i),i}function Nv(t){for(let e=0;e<t.lines.length;e++){const n=t.lines[e],r=t.width/2-n.width/2;for(let i=0;i<n.charPositions.length;i++)n.charPositions[i]+=r}}function Dv(t){for(let e=0;e<t.lines.length;e++){const n=t.lines[e],r=t.width-n.width;for(let i=0;i<n.charPositions.length;i++)n.charPositions[i]+=r}}function jv(t){const e=t.width;for(let n=0;n<t.lines.length;n++){const r=t.lines[n];let i=0,s=r.spacesIndex[i++],o=0;const a=r.spacesIndex.length,u=(e-r.width)/a;for(let c=0;c<r.charPositions.length;c++)c===s&&(s=r.spacesIndex[i++],o+=u),r.charPositions[c]+=o}}function Gv(t){if(t==="")return[];typeof t=="string"&&(t=[t]);const e=[];for(let n=0,r=t.length;n<r;n++){const i=t[n];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);if(i[0].length===0||i[1].length===0)throw new Error("[BitmapFont]: Invalid character delimiter.");const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,l=o;a<=l;a++)e.push(String.fromCharCode(a))}else e.push(...Array.from(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}let Cs=0;class Uv{constructor(){this.ALPHA=[["a","z"],["A","Z"]," "],this.NUMERIC=[["0","9"]],this.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],this.ASCII=[[" ","~"]],this.defaultOptions={chars:this.ALPHANUMERIC,resolution:1,padding:4,skipKerning:!1,textureStyle:null},this.measureCache=Dm(1e3)}getFont(e,n){let r=`${n.fontFamily}-bitmap`,i=!0;if(n._fill.fill&&!n._stroke?(r+=n._fill.fill.styleKey,i=!1):(n._stroke||n.dropShadow)&&(r=`${n.styleKey}-bitmap`,i=!1),!J.has(r)){const o=Object.create(n);o.lineHeight=0;const a=new xd({style:o,overrideFill:i,overrideSize:!0,...this.defaultOptions});Cs++,Cs>50&&ee("BitmapText",`You have dynamically created ${Cs} bitmap fonts, this can be inefficient. Try pre installing your font styles using \`BitmapFont.install({name:"style1", style})\``),a.once("destroy",()=>{Cs--,J.remove(r)}),J.set(r,a)}const s=J.get(r);return s.ensureCharacters?.(e),s}getLayout(e,n,r=!0){const i=this.getFont(e,n),s=`${e}-${n.styleKey}-${r}`;if(this.measureCache.has(s))return this.measureCache.get(s);const o=Ns.graphemeSegmenter(e),a=Ov(o,n,i,r);return this.measureCache.set(s,a),a}measureText(e,n,r=!0){return this.getLayout(e,n,r)}install(...e){let n=e[0];typeof n=="string"&&(n={name:n,style:e[1],chars:e[2]?.chars,resolution:e[2]?.resolution,padding:e[2]?.padding,skipKerning:e[2]?.skipKerning},D(X,"BitmapFontManager.install(name, style, options) is deprecated, use BitmapFontManager.install({name, style, ...options})"));const r=n?.name;if(!r)throw new Error("[BitmapFontManager] Property `name` is required.");n={...this.defaultOptions,...n};const i=n.style,s=i instanceof go?i:new go(i),o=n.dynamicFill??this._canUseTintForStyle(s),a=new xd({style:s,overrideFill:o,skipKerning:n.skipKerning,padding:n.padding,resolution:n.resolution,overrideSize:!1,textureStyle:n.textureStyle}),l=Gv(n.chars);return a.ensureCharacters(l.join("")),J.set(`${r}-bitmap`,a),a.once("destroy",()=>J.remove(`${r}-bitmap`)),a}uninstall(e){const n=`${e}-bitmap`,r=J.get(n);r&&r.destroy()}_canUseTintForStyle(e){return!e._stroke&&(!e.dropShadow||e.dropShadow.color===0)&&!e._fill.fill&&e._fill.color===16777215}}const _d=new Uv;class sg extends Nm{constructor(e,n){super();const{textures:r,data:i}=e;Object.keys(i.pages).forEach(s=>{const o=i.pages[parseInt(s,10)],a=r[o.id];this.pages.push({texture:a})}),Object.keys(i.chars).forEach(s=>{const o=i.chars[s],{frame:a,source:l,rotate:u}=r[o.page],c=Y.transformRectCoords(o,a,u,new fe),h=new U({frame:c,orig:new fe(0,0,o.width,o.height),source:l,rotate:u});this.chars[s]={id:s.codePointAt(0),xOffset:o.xOffset,yOffset:o.yOffset,xAdvance:o.xAdvance,kerning:o.kerning??{},texture:h}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=n}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){const{texture:n}=this.pages[e];n.destroy(!0)}this.pages=null}static install(e){_d.install(e)}static uninstall(e){_d.uninstall(e)}}const Fa={test(t){return typeof t=="string"&&t.startsWith("info face=")},parse(t){const e=t.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const h in e){const d=e[h].match(/^[a-z]+/gm)[0],f=e[h].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),g={};for(const x in f){const _=f[x].split("="),m=_[0],p=_[1].replace(/"/gm,""),y=parseFloat(p),v=isNaN(y)?p:y;g[m]=v}n[d].push(g)}const r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=n.info,[s]=n.common,[o]=n.distanceField??[];o&&(r.distanceField={range:parseInt(o.distanceRange,10),type:o.fieldType}),r.fontSize=parseInt(i.size,10),r.fontFamily=i.face,r.lineHeight=parseInt(s.lineHeight,10);const a=n.page;for(let h=0;h<a.length;h++)r.pages.push({id:parseInt(a[h].id,10)||0,file:a[h].file});const l={};r.baseLineOffset=r.lineHeight-parseInt(s.base,10);const u=n.char;for(let h=0;h<u.length;h++){const d=u[h],f=parseInt(d.id,10);let g=d.letter??d.char??String.fromCharCode(f);g==="space"&&(g=" "),l[f]=g,r.chars[g]={id:f,page:parseInt(d.page,10)||0,x:parseInt(d.x,10),y:parseInt(d.y,10),width:parseInt(d.width,10),height:parseInt(d.height,10),xOffset:parseInt(d.xoffset,10),yOffset:parseInt(d.yoffset,10),xAdvance:parseInt(d.xadvance,10),kerning:{}}}const c=n.kerning||[];for(let h=0;h<c.length;h++){const d=parseInt(c[h].first,10),f=parseInt(c[h].second,10),g=parseInt(c[h].amount,10);r.chars[l[f]].kerning[l[d]]=g}return r}},vd={test(t){const e=t;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(t){const e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},n=t.getElementsByTagName("info")[0],r=t.getElementsByTagName("common")[0],i=t.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});const s=t.getElementsByTagName("page"),o=t.getElementsByTagName("char"),a=t.getElementsByTagName("kerning");e.fontSize=parseInt(n.getAttribute("size"),10),e.fontFamily=n.getAttribute("face"),e.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let u=0;u<s.length;u++)e.pages.push({id:parseInt(s[u].getAttribute("id"),10)||0,file:s[u].getAttribute("file")});const l={};e.baseLineOffset=e.lineHeight-parseInt(r.getAttribute("base"),10);for(let u=0;u<o.length;u++){const c=o[u],h=parseInt(c.getAttribute("id"),10);let d=c.getAttribute("letter")??c.getAttribute("char")??String.fromCharCode(h);d==="space"&&(d=" "),l[h]=d,e.chars[d]={id:h,page:parseInt(c.getAttribute("page"),10)||0,x:parseInt(c.getAttribute("x"),10),y:parseInt(c.getAttribute("y"),10),width:parseInt(c.getAttribute("width"),10),height:parseInt(c.getAttribute("height"),10),xOffset:parseInt(c.getAttribute("xoffset"),10),yOffset:parseInt(c.getAttribute("yoffset"),10),xAdvance:parseInt(c.getAttribute("xadvance"),10),kerning:{}}}for(let u=0;u<a.length;u++){const c=parseInt(a[u].getAttribute("first"),10),h=parseInt(a[u].getAttribute("second"),10),d=parseInt(a[u].getAttribute("amount"),10);e.chars[l[h]].kerning[l[c]]=d}return e}},wd={test(t){return typeof t=="string"&&t.includes("<font>")?vd.test(ne.get().parseXML(t)):!1},parse(t){return vd.parse(ne.get().parseXML(t))}},Wv=[".xml",".fnt"],$v={extension:{type:B.CacheParser,name:"cacheBitmapFont"},test:t=>t instanceof sg,getCacheableAssets(t,e){const n={};return t.forEach(r=>{n[r]=e,n[`${r}-bitmap`]=e}),n[`${e.fontFamily}-bitmap`]=e,n}},Hv={extension:{type:B.LoadParser,priority:yn.Normal},name:"loadBitmapFont",id:"bitmap-font",test(t){return Wv.includes(qe.extname(t).toLowerCase())},async testParse(t){return Fa.test(t)||wd.test(t)},async parse(t,e,n){const r=Fa.test(t)?Fa.parse(t):wd.parse(t),{src:i}=e,{pages:s}=r,o=[],a=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let h=0;h<s.length;++h){const d=s[h].file;let f=qe.join(qe.dirname(i),d);f=Ol(f,i),o.push({src:f,data:a})}const l=await n.load(o),u=o.map(h=>l[h.src]);return new sg({data:r,textures:u},i)},async load(t,e){return await(await ne.get().fetch(t)).text()},async unload(t,e,n){await Promise.all(t.pages.map(r=>n.unload(r.texture.source._sourceOrigin))),t.destroy()}};class Vv{constructor(e,n=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=n}add(e){e.forEach(n=>{this._assetList.push(n)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],n=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<n;r++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}const Yv={extension:{type:B.CacheParser,name:"cacheTextureArray"},test:t=>Array.isArray(t)&&t.every(e=>e instanceof U),getCacheableAssets:(t,e)=>{const n={};return t.forEach(r=>{e.forEach((i,s)=>{n[r+(s===0?"":s+1)]=i})}),n}};async function og(t){if("Image"in globalThis)return new Promise(e=>{const n=new Image;n.onload=()=>{e(!0)},n.onerror=()=>{e(!1)},n.src=t});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{const e=await(await fetch(t)).blob();await createImageBitmap(e)}catch{return!1}return!0}return!1}const Xv={extension:{type:B.DetectionParser,priority:1},test:async()=>og("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A="),add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")},Sd=["png","jpg","jpeg"],qv={extension:{type:B.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...Sd],remove:async t=>t.filter(e=>!Sd.includes(e))},Kv="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Oo(t){return Kv?!1:document.createElement("video").canPlayType(t)!==""}const Qv={extension:{type:B.DetectionParser,priority:0},test:async()=>Oo("video/mp4"),add:async t=>[...t,"mp4","m4v"],remove:async t=>t.filter(e=>e!=="mp4"&&e!=="m4v")},Zv={extension:{type:B.DetectionParser,priority:0},test:async()=>Oo("video/ogg"),add:async t=>[...t,"ogv"],remove:async t=>t.filter(e=>e!=="ogv")},Jv={extension:{type:B.DetectionParser,priority:0},test:async()=>Oo("video/webm"),add:async t=>[...t,"webm"],remove:async t=>t.filter(e=>e!=="webm")},ew={extension:{type:B.DetectionParser,priority:0},test:async()=>og("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="),add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};class tw{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,n,r)=>(this._parsersValidated=!1,e[n]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,n){const r={promise:null,parser:null};return r.promise=(async()=>{let i=null,s=null;if((n.parser||n.loadParser)&&(s=this._parserHash[n.parser||n.loadParser],n.loadParser&&ee(`[Assets] "loadParser" is deprecated, use "parser" instead for ${e}`),s||ee(`[Assets] specified load parser "${n.parser||n.loadParser}" not found while loading ${e}`)),!s){for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];if(a.load&&a.test?.(e,n,this)){s=a;break}}if(!s)return ee(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,n,this),r.parser=s;for(let o=0;o<this.parsers.length;o++){const a=this.parsers[o];a.parse&&a.parse&&await a.testParse?.(i,n,this)&&(i=await a.parse(i,n,this)||i,r.parser=a)}return i})(),r}async load(e,n){this._parsersValidated||this._validateParsers();let r=0;const i={},s=fo(e),o=ft(e,u=>({alias:[u],src:u,data:{}})),a=o.length,l=o.map(async u=>{const c=qe.toAbsolute(u.src);if(!i[u.src])try{this.promiseCache[c]||(this.promiseCache[c]=this._getLoadPromiseAndParser(c,u)),i[u.src]=await this.promiseCache[c].promise,n&&n(++r/a)}catch(h){throw delete this.promiseCache[c],delete i[u.src],new Error(`[Loader.load] Failed to load ${c}.
${h}`)}});return await Promise.all(l),s?i[o[0].src]:i}async unload(e){const r=ft(e,i=>({alias:[i],src:i})).map(async i=>{const s=qe.toAbsolute(i.src),o=this.promiseCache[s];if(o){const a=await o.promise;delete this.promiseCache[s],await o.parser?.unload?.(a,i,this)}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name||e.id).reduce((e,n)=>(!n.name&&!n.id?ee("[Assets] parser should have an id"):(e[n.name]||e[n.id])&&ee(`[Assets] parser id conflict "${n.id}"`),e[n.name]=n,n.id&&(e[n.id]=n),e),{})}}function Er(t,e){if(Array.isArray(e)){for(const n of e)if(t.startsWith(`data:${n}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Rr(t,e){const n=t.split("?")[0],r=qe.extname(n).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}const nw=".json",rw="application/json",iw={extension:{type:B.LoadParser,priority:yn.Low},name:"loadJson",id:"json",test(t){return Er(t,rw)||Rr(t,nw)},async load(t){return await(await ne.get().fetch(t)).json()}},sw=".txt",ow="text/plain",aw={name:"loadTxt",id:"text",extension:{type:B.LoadParser,priority:yn.Low,name:"loadTxt"},test(t){return Er(t,ow)||Rr(t,sw)},async load(t){return await(await ne.get().fetch(t)).text()}},lw=["normal","bold","100","200","300","400","500","600","700","800","900"],uw=[".ttf",".otf",".woff",".woff2"],cw=["font/ttf","font/otf","font/woff","font/woff2"],hw=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function dw(t){const e=qe.extname(t),i=qe.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(a=>a.charAt(0).toUpperCase()+a.slice(1));let s=i.length>0;for(const a of i)if(!a.match(hw)){s=!1;break}let o=i.join(" ");return s||(o=`"${o.replace(/[\\"]/g,"\\$&")}"`),o}const fw=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function pw(t){return fw.test(t)?t:encodeURI(t)}const mw={extension:{type:B.LoadParser,priority:yn.Low},name:"loadWebFont",id:"web-font",test(t){return Er(t,cw)||Rr(t,uw)},async load(t,e){const n=ne.get().getFontFaceSet();if(n){const r=[],i=e.data?.family??dw(t),s=e.data?.weights?.filter(a=>lw.includes(a))??["normal"],o=e.data??{};for(let a=0;a<s.length;a++){const l=s[a],u=new FontFace(i,`url(${pw(t)})`,{...o,weight:l});await u.load(),n.add(u),r.push(u)}return J.has(`${i}-and-url`)?J.get(`${i}-and-url`).entries.push({url:t,faces:r}):J.set(`${i}-and-url`,{entries:[{url:t,faces:r}]}),r.length===1?r[0]:r}return ee("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){const e=Array.isArray(t)?t:[t],n=e[0].family,r=J.get(`${n}-and-url`),i=r.entries.find(s=>s.faces.some(o=>e.indexOf(o)!==-1));i.faces=i.faces.filter(s=>e.indexOf(s)===-1),i.faces.length===0&&(r.entries=r.entries.filter(s=>s!==i)),e.forEach(s=>{ne.get().getFontFaceSet().delete(s)}),r.entries.length===0&&J.remove(`${n}-and-url`)}};function rc(t,e=1){const n=Tr.RETINA_PREFIX?.exec(t);return n?parseFloat(n[1]):e}function ic(t,e,n){t.label=n,t._sourceOrigin=n;const r=new U({source:t,label:n}),i=()=>{delete e.promiseCache[n],J.has(n)&&J.remove(n)};return r.source.once("destroy",()=>{e.promiseCache[n]&&(ee("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),r.once("destroy",()=>{t.destroyed||(ee("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),r}const gw=".svg",yw="image/svg+xml",xw={extension:{type:B.LoadParser,priority:yn.Low,name:"loadSVG"},name:"loadSVG",id:"svg",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(t){return Er(t,yw)||Rr(t,gw)},async load(t,e,n){return e.data?.parseAsGraphicsContext??this.config.parseAsGraphicsContext?vw(t):_w(t,e,n,this.config.crossOrigin)},unload(t){t.destroy(!0)}};async function _w(t,e,n,r){const i=await ne.get().fetch(t),s=ne.get().createImage();s.src=`data:image/svg+xml;charset=utf-8,${encodeURIComponent(await i.text())}`,s.crossOrigin=r,await s.decode();const o=e.data?.width??s.width,a=e.data?.height??s.height,l=e.data?.resolution||rc(t),u=Math.ceil(o*l),c=Math.ceil(a*l),h=ne.get().createCanvas(u,c),d=h.getContext("2d");d.imageSmoothingEnabled=!0,d.imageSmoothingQuality="high",d.drawImage(s,0,0,o*l,a*l);const{parseAsGraphicsContext:f,...g}=e.data??{},x=new Un({resource:h,alphaMode:"premultiply-alpha-on-upload",resolution:l,...g});return ic(x,n,t)}async function vw(t){const n=await(await ne.get().fetch(t)).text(),r=new tt;return r.svg(n),r}const ww=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (_e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`;let mr=null,Kl=class{constructor(){mr||(mr=URL.createObjectURL(new Blob([ww],{type:"application/javascript"}))),this.worker=new Worker(mr)}};Kl.revokeObjectURL=function(){mr&&(URL.revokeObjectURL(mr),mr=null)};const Sw=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`;let gr=null;class ag{constructor(){gr||(gr=URL.createObjectURL(new Blob([Sw],{type:"application/javascript"}))),this.worker=new Worker(gr)}}ag.revokeObjectURL=function(){gr&&(URL.revokeObjectURL(gr),gr=null)};let Cd=0,La;class Cw{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const{worker:n}=new Kl;n.addEventListener("message",r=>{n.terminate(),Kl.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,n){return this._run("loadImageBitmap",[e,n?.data?.alphaMode])}async _initWorkers(){this._initialized||(this._initialized=!0)}_getWorker(){La===void 0&&(La=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<La&&(this._createdWorkers++,e=new ag().worker,e.addEventListener("message",n=>{this._complete(n.data),this._returnWorker(n.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}async _run(e,n){await this._initWorkers();const r=new Promise((i,s)=>{this._queue.push({id:e,arguments:n,resolve:i,reject:s})});return this._next(),r}_next(){if(!this._queue.length)return;const e=this._getWorker();if(!e)return;const n=this._queue.pop(),r=n.id;this._resolveHash[Cd]={resolve:n.resolve,reject:n.reject},e.postMessage({data:n.arguments,uuid:Cd++,id:r})}reset(){this._workerPool.forEach(e=>e.terminate()),this._workerPool.length=0,Object.values(this._resolveHash).forEach(({reject:e})=>{e?.(new Error("WorkerManager destroyed"))}),this._resolveHash={},this._queue.length=0,this._initialized=!1,this._createdWorkers=0}}const kd=new Cw,kw=[".jpeg",".jpg",".png",".webp",".avif"],Aw=["image/jpeg","image/png","image/webp","image/avif"];async function Pw(t,e){const n=await ne.get().fetch(t);if(!n.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${n.status} ${n.statusText}`);const r=await n.blob();return e?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)}const lg={name:"loadTextures",id:"texture",extension:{type:B.LoadParser,priority:yn.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Er(t,Aw)||Rr(t,kw)},async load(t,e,n){let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await kd.isImageBitmapSupported()?r=await kd.loadImageBitmap(t,e):r=await Pw(t,e):r=await new Promise((s,o)=>{r=ne.get().createImage(),r.crossOrigin=this.config.crossOrigin,r.src=t,r.complete?s(r):(r.onload=()=>{s(r)},r.onerror=o)});const i=new Un({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:e.data?.resolution||rc(t),...e.data});return ic(i,n,t)},unload(t){t.destroy(!0)}},bw=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"];let Ba,za;function Mw(t,e,n){n===void 0&&!e.startsWith("data:")?t.crossOrigin=Ew(e):n!==!1&&(t.crossOrigin=typeof n=="string"?n:"anonymous")}function Tw(t){return new Promise((e,n)=>{t.addEventListener("canplaythrough",r),t.addEventListener("error",i),t.load();function r(){s(),e()}function i(o){s(),n(o)}function s(){t.removeEventListener("canplaythrough",r),t.removeEventListener("error",i)}})}function Ew(t,e=globalThis.location){if(t.startsWith("data:"))return"";e||(e=globalThis.location);const n=new URL(t,document.baseURI);return n.hostname!==e.hostname||n.port!==e.port||n.protocol!==e.protocol?"anonymous":""}function Rw(){const t=[],e=[];for(const n of bw){const r=hi.MIME_TYPES[n.substring(1)]||`video/${n.substring(1)}`;Oo(r)&&(t.push(n),e.includes(r)||e.push(r))}return{validVideoExtensions:t,validVideoMime:e}}const Iw={name:"loadVideo",id:"video",extension:{type:B.LoadParser,name:"loadVideo"},test(t){if(!Ba||!za){const{validVideoExtensions:r,validVideoMime:i}=Rw();Ba=r,za=i}const e=Er(t,za),n=Rr(t,Ba);return e||n},async load(t,e,n){const r={...hi.defaultOptions,resolution:e.data?.resolution||rc(t),alphaMode:e.data?.alphaMode||await pm(),...e.data},i=document.createElement("video"),s={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(s).forEach(l=>{const u=s[l];u!==void 0&&i.setAttribute(l,u)}),r.muted===!0&&(i.muted=!0),Mw(i,t,r.crossorigin);const o=document.createElement("source");let a;if(r.mime)a=r.mime;else if(t.startsWith("data:"))a=t.slice(5,t.indexOf(";"));else if(!t.startsWith("blob:")){const l=t.split("?")[0].slice(t.lastIndexOf(".")+1).toLowerCase();a=hi.MIME_TYPES[l]||`video/${l}`}return o.src=t,a&&(o.type=a),new Promise(l=>{const u=async()=>{const c=new hi({...r,resource:i});i.removeEventListener("canplay",u),e.data.preload&&await Tw(i),l(ic(c,n,t))};r.preload&&!r.autoPlay&&i.load(),i.addEventListener("canplay",u),i.appendChild(o)})},unload(t){t.destroy(!0)}},ug={extension:{type:B.ResolveParser,name:"resolveTexture"},test:lg.test,parse:t=>({resolution:parseFloat(Tr.RETINA_PREFIX.exec(t)?.[1]??"1"),format:t.split(".").pop(),src:t})},Fw={extension:{type:B.ResolveParser,priority:-2,name:"resolveJson"},test:t=>Tr.RETINA_PREFIX.test(t)&&t.endsWith(".json"),parse:ug.parse};class Lw{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Tr,this.loader=new tw,this.cache=J,this._backgroundLoader=new Vv(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){if(this._initialized){ee("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let s=e.manifest;typeof s=="string"&&(s=await this.load(s)),this.resolver.addManifest(s)}const n=e.texturePreference?.resolution??1,r=typeof n=="number"?[n]:n,i=await this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)}add(e){this.resolver.add(e)}async load(e,n){this._initialized||await this.init();const r=fo(e),i=ft(e).map(a=>{if(typeof a!="string"){const l=this.resolver.getAlias(a);return l.some(u=>!this.resolver.hasKey(u))&&this.add(a),Array.isArray(l)?l[0]:l}return this.resolver.hasKey(a)||this.add({alias:a,src:a}),a}),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,n);return r?o[i[0]]:o}addBundle(e,n){this.resolver.addBundle(e,n)}async loadBundle(e,n){this._initialized||await this.init();let r=!1;typeof e=="string"&&(r=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,l=0;const u=()=>{n?.(++a/l)},c=o.map(h=>{const d=i[h],f=Object.values(d),g=[...new Set(f.flat())];return l+=g.length,this._mapLoadToResolve(d,u).then(x=>{s[h]=x})});return await Promise.all(c),r?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(n))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const n=this.resolver.resolveBundle(e);Object.values(n).forEach(r=>{this._backgroundLoader.add(Object.values(r))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return J.get(e);const n={};for(let r=0;r<e.length;r++)n[r]=J.get(e[r]);return n}async _mapLoadToResolve(e,n){const r=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;const i=await this.loader.load(r,n);this._backgroundLoader.active=!0;const s={};return r.forEach(o=>{const a=i[o.src],l=[o.src];o.alias&&l.push(...o.alias),l.forEach(u=>{s[u]=a}),J.set(l,a)}),s}async unload(e){this._initialized||await this.init();const n=ft(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(n);await this._unloadFromResolved(r)}async unloadBundle(e){this._initialized||await this.init(),e=ft(e);const n=this.resolver.resolveBundle(e),r=Object.keys(n).map(i=>this._unloadFromResolved(n[i]));await Promise.all(r)}async _unloadFromResolved(e){const n=Object.values(e);n.forEach(r=>{J.remove(r.src)}),await this.loader.unload(n)}async _detectFormats(e){let n=[];e.preferredFormats&&(n=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(const r of e.detections)e.skipDetections||await r.test()?n=await r.add(n):e.skipDetections||(n=await r.remove(n));return n=n.filter((r,i)=>n.indexOf(r)===i),n}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(n=>{n.config&&Object.keys(n.config).filter(r=>r in e).forEach(r=>{n.config[r]=e[r]})})}}const ei=new Lw;Ce.handleByList(B.LoadParser,ei.loader.parsers).handleByList(B.ResolveParser,ei.resolver.parsers).handleByList(B.CacheParser,ei.cache.parsers).handleByList(B.DetectionParser,ei.detections);Ce.add(Yv,qv,Xv,ew,Qv,Zv,Jv,iw,aw,mw,xw,lg,Iw,Hv,$v,ug,Fw);const Ad={loader:B.LoadParser,resolver:B.ResolveParser,cache:B.CacheParser,detection:B.DetectionParser};Ce.handle(B.Asset,t=>{const e=t.ref;Object.entries(Ad).filter(([n])=>!!e[n]).forEach(([n,r])=>Ce.add(Object.assign(e[n],{extension:e[n].extension??r})))},t=>{const e=t.ref;Object.keys(Ad).filter(n=>!!e[n]).forEach(n=>Ce.remove(e[n]))});class $n extends sm{constructor(e){e instanceof tt&&(e={context:e});const{context:n,roundPixels:r,...i}=e||{};super({label:"Graphics",...i}),this.renderPipeId="graphics",n?this._context=n:this._context=this._ownedContext=new tt,this._context.on("update",this.onViewUpdate,this),this.didViewUpdate=!0,this.allowChildren=!1,this.roundPixels=r??!1}set context(e){e!==this._context&&(this._context.off("update",this.onViewUpdate,this),this._context=e,this._context.on("update",this.onViewUpdate,this),this.onViewUpdate())}get context(){return this._context}get bounds(){return this._context.bounds}updateBounds(){}containsPoint(e){return this._context.containsPoint(e)}destroy(e){this._ownedContext&&!e?this._ownedContext.destroy(e):(e===!0||e?.context===!0)&&this._context.destroy(e),this._ownedContext=null,this._context=null,super.destroy(e)}_callContextMethod(e,n){return this.context[e](...n),this}setFillStyle(...e){return this._callContextMethod("setFillStyle",e)}setStrokeStyle(...e){return this._callContextMethod("setStrokeStyle",e)}fill(...e){return this._callContextMethod("fill",e)}stroke(...e){return this._callContextMethod("stroke",e)}texture(...e){return this._callContextMethod("texture",e)}beginPath(){return this._callContextMethod("beginPath",[])}cut(){return this._callContextMethod("cut",[])}arc(...e){return this._callContextMethod("arc",e)}arcTo(...e){return this._callContextMethod("arcTo",e)}arcToSvg(...e){return this._callContextMethod("arcToSvg",e)}bezierCurveTo(...e){return this._callContextMethod("bezierCurveTo",e)}closePath(){return this._callContextMethod("closePath",[])}ellipse(...e){return this._callContextMethod("ellipse",e)}circle(...e){return this._callContextMethod("circle",e)}path(...e){return this._callContextMethod("path",e)}lineTo(...e){return this._callContextMethod("lineTo",e)}moveTo(...e){return this._callContextMethod("moveTo",e)}quadraticCurveTo(...e){return this._callContextMethod("quadraticCurveTo",e)}rect(...e){return this._callContextMethod("rect",e)}roundRect(...e){return this._callContextMethod("roundRect",e)}poly(...e){return this._callContextMethod("poly",e)}regularPoly(...e){return this._callContextMethod("regularPoly",e)}roundPoly(...e){return this._callContextMethod("roundPoly",e)}roundShape(...e){return this._callContextMethod("roundShape",e)}filletRect(...e){return this._callContextMethod("filletRect",e)}chamferRect(...e){return this._callContextMethod("chamferRect",e)}star(...e){return this._callContextMethod("star",e)}svg(...e){return this._callContextMethod("svg",e)}restore(...e){return this._callContextMethod("restore",e)}save(){return this._callContextMethod("save",[])}getTransform(){return this.context.getTransform()}resetTransform(){return this._callContextMethod("resetTransform",[])}rotateTransform(...e){return this._callContextMethod("rotate",e)}scaleTransform(...e){return this._callContextMethod("scale",e)}setTransform(...e){return this._callContextMethod("setTransform",e)}transform(...e){return this._callContextMethod("transform",e)}translateTransform(...e){return this._callContextMethod("translate",e)}clear(){return this._callContextMethod("clear",[])}get fillStyle(){return this._context.fillStyle}set fillStyle(e){this._context.fillStyle=e}get strokeStyle(){return this._context.strokeStyle}set strokeStyle(e){this._context.strokeStyle=e}clone(e=!1){return e?new $n(this._context.clone()):(this._ownedContext=null,new $n(this._context))}lineStyle(e,n,r){D(X,"Graphics#lineStyle is no longer needed. Use Graphics#setStrokeStyle to set the stroke style.");const i={};return e&&(i.width=e),n&&(i.color=n),r&&(i.alpha=r),this.context.strokeStyle=i,this}beginFill(e,n){D(X,"Graphics#beginFill is no longer needed. Use Graphics#fill to fill the shape with the desired style.");const r={};return e!==void 0&&(r.color=e),n!==void 0&&(r.alpha=n),this.context.fillStyle=r,this}endFill(){D(X,"Graphics#endFill is no longer needed. Use Graphics#fill to fill the shape with the desired style."),this.context.fill();const e=this.context.strokeStyle;return(e.width!==tt.defaultStrokeStyle.width||e.color!==tt.defaultStrokeStyle.color||e.alpha!==tt.defaultStrokeStyle.alpha)&&this.context.stroke(),this}drawCircle(...e){return D(X,"Graphics#drawCircle has been renamed to Graphics#circle"),this._callContextMethod("circle",e)}drawEllipse(...e){return D(X,"Graphics#drawEllipse has been renamed to Graphics#ellipse"),this._callContextMethod("ellipse",e)}drawPolygon(...e){return D(X,"Graphics#drawPolygon has been renamed to Graphics#poly"),this._callContextMethod("poly",e)}drawRect(...e){return D(X,"Graphics#drawRect has been renamed to Graphics#rect"),this._callContextMethod("rect",e)}drawRoundedRect(...e){return D(X,"Graphics#drawRoundedRect has been renamed to Graphics#roundRect"),this._callContextMethod("roundRect",e)}drawStar(...e){return D(X,"Graphics#drawStar has been renamed to Graphics#star"),this._callContextMethod("star",e)}}Ce.add(W0,$0);var Ne=(t=>(t[t.STUCK=0]="STUCK",t[t.LOOSE=1]="LOOSE",t[t.EXITING=2]="EXITING",t))(Ne||{}),bt=(t=>(t.SAND="sand",t.MUD="mud",t.GREASE="grease",t))(bt||{});class Bw{constructor(){b(this,"x",0);b(this,"y",0);b(this,"vx",0);b(this,"vy",0);b(this,"size",2);b(this,"state",Ne.STUCK);b(this,"cellX",0);b(this,"cellY",0);b(this,"alive",!0);b(this,"dirtType",bt.SAND);b(this,"color",13808780);b(this,"alpha",1);b(this,"shape","circle");b(this,"layer",0);b(this,"fadeTimer",0);b(this,"isFading",!1)}reset(e,n,r,i=bt.SAND){this.x=e,this.y=n,this.vx=0,this.vy=0,this.size=r,this.state=Ne.STUCK,this.alive=!0,this.dirtType=i,this.layer=0,this.fadeTimer=0,this.isFading=!1}}class zw{constructor(e){b(this,"pool",[]);b(this,"used",[]);for(let n=0;n<e;n++)this.pool.push(new Bw)}acquire(){const e=this.pool.pop();return e?(this.used.push(e),e):null}release(e){e.alive=!1;const n=this.used.indexOf(e);n>=0&&(this.used.splice(n,1),this.pool.push(e))}forEach(e){for(let n=0;n<this.used.length;n++){const r=this.used[n];r.alive&&e(r)}}get activeCount(){return this.used.length}}class Ow{constructor(e){b(this,"cells",new Map);this.cellSize=e}key(e,n){return e<<16^n}clear(){for(const e of this.cells.values())e.length=0}insert(e){const n=e.x/this.cellSize|0,r=e.y/this.cellSize|0;e.cellX=n,e.cellY=r;const i=this.key(n,r);let s=this.cells.get(i);s||(s=[],this.cells.set(i,s)),s.push(e)}queryCircle(e,n,r,i){i.length=0;const s=this.cellSize,o=(r/s|0)+1,a=e/s|0,l=n/s|0,u=r*r;for(let c=-o;c<=o;c++)for(let h=-o;h<=o;h++){const d=this.cells.get(this.key(a+h,l+c));if(d)for(let f=0;f<d.length;f++){const g=d[f],x=g.x-e,_=g.y-n;x*x+_*_<=u&&i.push(g)}}}queryCone(e,n,r,i,s,o,a){a.length=0;const l=this.cellSize,u=(o/l|0)+1,c=e/l|0,h=n/l|0,d=Math.cos(s),f=o*o;for(let g=-u;g<=u;g++)for(let x=-u;x<=u;x++){const _=this.cells.get(this.key(c+x,h+g));if(_)for(let m=0;m<_.length;m++){const p=_[m],y=p.x-e,v=p.y-n,C=y*y+v*v;if(C>f)continue;const S=Math.sqrt(C)||1,w=y/S,A=v/S;w*r+A*i>=d&&a.push(p)}}}}class Nw{constructor(e,n,r){b(this,"width");b(this,"height");b(this,"data");b(this,"total",0);b(this,"dirty",0);this.worldW=e,this.worldH=n,this.cellSize=r,this.width=Math.ceil(e/r),this.height=Math.ceil(n/r),this.data=new Float32Array(this.width*this.height)}index(e,n){return n*this.width+e}addAt(e,n,r){const i=Math.min(this.width-1,Math.max(0,e/this.cellSize|0)),s=Math.min(this.height-1,Math.max(0,n/this.cellSize|0)),o=this.index(i,s);this.data[o]+=r,this.total+=r,this.dirty+=r}removeAt(e,n,r){const i=Math.min(this.width-1,Math.max(0,e/this.cellSize|0)),s=Math.min(this.height-1,Math.max(0,n/this.cellSize|0)),o=this.index(i,s),a=this.data[o],l=Math.max(0,a-r);this.dirty-=a-l,this.data[o]=l}progress(){return this.total>0?1-this.dirty/this.total:0}clear(){this.data.fill(0),this.total=0,this.dirty=0}}class Dw{constructor(e){b(this,"pool",[]);b(this,"used",[]);for(let n=0;n<e;n++){const r=new $n;this.pool.push(r)}}acquire(){const e=this.pool.pop();return e?(e.clear(),this.used.push(e),e):null}release(e){const n=this.used.indexOf(e);n>=0&&(this.used.splice(n,1),e.clear(),e.visible=!1,this.pool.push(e))}releaseAll(){for(const e of this.used)e.clear(),e.visible=!1,this.pool.push(e);this.used.length=0}get activeCount(){return this.used.length}}class jw{constructor(e,n,r,i){b(this,"segments",[]);b(this,"segmentCount",12);b(this,"springStiffness",.03);b(this,"damping",.95);this.initializeSegments(e,n,r,i)}initializeSegments(e,n,r,i){this.segments=[];for(let s=0;s<this.segmentCount;s++){const o=s/(this.segmentCount-1),a=e+(r-e)*o,l=n+(i-n)*o;this.segments.push({x:a,y:l,vx:0,vy:0,targetX:a,targetY:l})}}update(e,n,r,i,s){for(let o=0;o<this.segments.length;o++){const a=o/(this.segments.length-1);this.segments[o].targetX=e+(r-e)*a,this.segments[o].targetY=n+(i-n)*a}for(let o=0;o<this.segments.length;o++){const a=this.segments[o],l=a.targetX-a.x,u=a.targetY-a.y;if(a.vx+=l*this.springStiffness,a.vy+=u*this.springStiffness,a.vx*=this.damping,a.vy*=this.damping,a.x+=a.vx*s*20,a.y+=a.vy*s*20,o>0){const c=this.segments[o-1],h=.08,d=(c.x-a.x)*h,f=(c.y-a.y)*h;a.vx+=d*s*20,a.vy+=f*s*20}}}getSegments(){return this.segments.map(e=>({x:e.x,y:e.y}))}getImpactPoint(){const e=this.segments[this.segments.length-1];return{x:e.x,y:e.y}}}const jt={[bt.SAND]:{type:bt.SAND,visual:{color:13808780,alpha:.8,minSize:1,maxSize:3,shape:"circle"},physics:{gravity:100,damping:.95,mass:1,bounce:.3,stickiness:.3,clumpSize:3,spread:8},tools:{scrubEffective:!0,hoseEffective:!1},removal:{fadeOut:!1,fadeTime:0,flyLifespan:3,removalForce:50},spawnWeight:1,layerPriority:1},[bt.MUD]:{type:bt.MUD,visual:{color:9127187,alpha:.9,minSize:3,maxSize:7,shape:"blob"},physics:{gravity:150,damping:.88,mass:2,bounce:.1,stickiness:.7,clumpSize:8,spread:12},tools:{scrubEffective:!1,hoseEffective:!0},removal:{fadeOut:!1,fadeTime:0,flyLifespan:2.5,removalForce:80},spawnWeight:1,layerPriority:2},[bt.GREASE]:{type:bt.GREASE,visual:{color:3100463,alpha:.7,minSize:2,maxSize:8,shape:"square"},physics:{gravity:80,damping:.98,mass:.5,bounce:.05,stickiness:.5,clumpSize:1,spread:15},tools:{scrubEffective:!0,hoseEffective:!1},removal:{fadeOut:!0,fadeTime:.8,flyLifespan:.5,removalForce:30},spawnWeight:1,layerPriority:3}};class Gw{constructor(e,n,r){b(this,"particles",[]);b(this,"config");this.type=e,this.layer=n,this.pool=r,this.config=jt[e]}spawnCluster(e,n){const r=[],i=this.config.physics.clumpSize,s=this.config.physics.spread;for(let o=0;o<i;o++){const a=this.pool.acquire();if(!a)break;const l=o/i*Math.PI*2,u=Math.random()*s,c=e+Math.cos(l)*u,h=n+Math.sin(l)*u,d=this.config.visual.minSize+Math.random()*(this.config.visual.maxSize-this.config.visual.minSize);a.reset(c,h,d,this.type),a.layer=this.layer,a.color=this.config.visual.color,a.alpha=this.config.visual.alpha,a.shape=this.config.visual.shape,this.particles.push(a),r.push(a)}return r}removeParticle(e){const n=this.particles.indexOf(e);n!==-1&&(this.particles.splice(n,1),this.pool.release(e))}getParticles(){return this.particles}getConfig(){return this.config}clear(){for(const e of this.particles)this.pool.release(e);this.particles.length=0}}class Uw{constructor(e,n,r=Math.random){b(this,"dirtLayers",[]);b(this,"allParticles",[]);this.pool=e,this.cov=n,this.rng=r}spawn(e,n){this.cleanup();const r=n||{x:0,y:0,width:e.width,height:e.height};Object.values(bt).sort((s,o)=>jt[s].layerPriority-jt[o].layerPriority).forEach((s,o)=>{const a=new Gw(s,o,this.pool);this.dirtLayers.push(a);const l=jt[s],h=(r.width*r.height/600|0)*l.spawnWeight|0;for(let d=0;d<h;d++){const f=(this.rng()-.5)*r.width,g=(this.rng()-.5)*r.height,x=a.spawnCluster(f,g);this.allParticles.push(...x);for(const _ of x){const m=r.x+r.width/2+_.x,p=r.y+r.height/2+_.y;this.cov.addAt(m,p,_.size)}}})}getParticles(){return this.allParticles}removeParticle(e){const n=this.dirtLayers.find(i=>i.getParticles().includes(e));n&&n.removeParticle(e);const r=this.allParticles.indexOf(e);r!==-1&&this.allParticles.splice(r,1)}getDirtLayers(){return this.dirtLayers}cleanup(){for(const e of this.dirtLayers)e.clear();this.dirtLayers.length=0,this.allParticles.length=0}}class Ww{constructor(e,n){b(this,"lastX",0);b(this,"lastY",0);b(this,"lastT",0);b(this,"queryResults",[]);this.hash=e,this.cov=n}update(e,n,r,i,s,o){const a=Math.max(.016,Math.min(.05,r-this.lastT||.016)),l=(e-this.lastX)/a,u=(n-this.lastY)/a,c=Math.hypot(l,u),h=Math.min(1,c/800);this.hash.queryCircle(e,n,i,this.queryResults);for(let d=0;d<this.queryResults.length;d++){const f=this.queryResults[d],g=jt[f.dirtType];if(g.tools.scrubEffective&&(f.state===Ne.STUCK&&Math.random()<s*(.3+h*.7)*g.physics.stickiness&&(g.removal.fadeOut?(f.isFading=!0,f.fadeTimer=0):(f.state=Ne.LOOSE,f.fadeTimer=0),this.cov.removeAt(f.x,f.y,f.size*.9)),f.state===Ne.LOOSE)){const x=f.x-e,_=f.y-n,m=Math.hypot(x,_)||1,p=.5+h*.5,y=g.removal.removalForce/50;f.vx+=x/m*o*p*y,f.vy+=_/m*o*p*y}}this.lastX=e,this.lastY=n,this.lastT=r}}class $w{constructor(e,n){b(this,"queryResults",[]);this.hash=e,this.cov=n}updateStreamPath(e,n,r){this.queryResults.length=0;for(const i of e){const s=[];this.hash.queryCircle(i.x,i.y,n,s);for(const o of s)this.queryResults.includes(o)||this.queryResults.push(o)}for(let i=0;i<this.queryResults.length;i++){const s=this.queryResults[i],o=jt[s.dirtType];if(!o.tools.hoseEffective)continue;let a=e[0],l=Number.MAX_VALUE;for(const x of e){const _=Math.hypot(s.x-x.x,s.y-x.y);_<l&&(l=_,a=x)}const u=e[e.length-1],c=u.x-a.x,h=u.y-a.y,d=Math.hypot(c,h)||1,f=c/d,g=h/d;if(s.state===Ne.STUCK&&Math.random()<.6*o.physics.stickiness&&(s.state=Ne.LOOSE,s.fadeTimer=0,this.cov.removeAt(s.x,s.y,s.size*.9)),s.state===Ne.LOOSE){const x=o.removal.removalForce/50,_=r*x;s.vx+=f*_,s.vy+=g*_}}}update(e,n,r,i,s,o,a){const l=r-e,u=i-n,c=Math.hypot(l,u)||1,h=l/c,d=u/c,f=s*Math.PI/180;this.hash.queryCone(e,n,h,d,f,o,this.queryResults);for(let g=0;g<this.queryResults.length;g++){const x=this.queryResults[g],_=jt[x.dirtType];if(_.tools.hoseEffective&&(x.state===Ne.STUCK&&Math.random()<.4*_.physics.stickiness&&(x.state=Ne.LOOSE,x.fadeTimer=0,this.cov.removeAt(x.x,x.y,x.size*.9)),x.state===Ne.LOOSE)){const m=_.removal.removalForce/50;x.vx+=h*a*m,x.vy+=d*a*m}}this.queryResults.length>0&&Math.random()<.1&&console.log(`Hose affecting ${this.queryResults.length} particles`)}}class Hw{constructor(e,n){this.objectWidth=e,this.objectHeight=n}integrate(e,n){if(e.isFading){e.fadeTimer+=n;const o=jt[e.dirtType];if(e.fadeTimer>=o.removal.fadeTime){e.alive=!1;return}const a=e.fadeTimer/o.removal.fadeTime;e.alpha=o.visual.alpha*(1-a);return}if(e.state!==Ne.LOOSE)return;const r=jt[e.dirtType];e.vx*=r.physics.damping,e.vy*=r.physics.damping,e.vy+=r.physics.gravity*n;const i=1/r.physics.mass;e.x+=e.vx*n*8*i,e.y+=e.vy*n*8*i;const s=Math.max(this.objectWidth,this.objectHeight)*4;(e.x<-s||e.x>s||e.y<-s||e.y>s)&&(e.alive=!1),!r.removal.fadeOut&&e.state===Ne.LOOSE&&(e.fadeTimer+=n,e.fadeTimer>=r.removal.flyLifespan&&(e.alive=!1))}}class Vw{constructor(e){this.cov=e}getProgress(){return this.cov.progress()}}class Yw{constructor(){b(this,"shakeContainer",null);b(this,"isShaking",!1);b(this,"finaleTriggered",!1)}setShakeContainer(e){this.shakeContainer=e}microShake(e){if(!this.shakeContainer||this.isShaking)return;this.isShaking=!0;const n=this.shakeContainer.x,r=this.shakeContainer.y,i=e*5;let s=0;const o=10,a=()=>{s<o&&this.shakeContainer?(this.shakeContainer.x=n+(Math.random()-.5)*i,this.shakeContainer.y=r+(Math.random()-.5)*i,s++,requestAnimationFrame(a)):this.shakeContainer&&(this.shakeContainer.x=n,this.shakeContainer.y=r,this.isShaking=!1)};a()}finale(e){if(!this.finaleTriggered)if(this.finaleTriggered=!0,this.shakeContainer){const n=this.shakeContainer.scale.x;let r=n,i=0;const s=30,o=()=>{i<s&&this.shakeContainer?(r=n+Math.sin(i/s*Math.PI)*.1,this.shakeContainer.scale.set(r),i++,requestAnimationFrame(o)):this.shakeContainer&&(this.shakeContainer.scale.set(n),this.microShake(2),e?.())};o()}else e?.()}reset(){this.finaleTriggered=!1,this.isShaking=!1}}class Xw{constructor(){b(this,"app");b(this,"stage");b(this,"particlesLayer");b(this,"hoseLayer");b(this,"imageSprite");b(this,"objectContainer");b(this,"objectGraphics");b(this,"objectTextureSprite");b(this,"objectBounds");b(this,"pool",new zw(8e3));b(this,"spritePool",new Dw(8e3));b(this,"hash",new Ow(32));b(this,"cov");b(this,"dirt");b(this,"scrub");b(this,"hose");b(this,"phys");b(this,"prog");b(this,"effects");b(this,"tools");b(this,"usingHose",!1);b(this,"nozzle",{x:0,y:0});b(this,"pointer",{x:0,y:0});b(this,"isPressed",!1);b(this,"waterStream");b(this,"currentLevel");b(this,"lastProgress",0);b(this,"completionTriggered",!1);b(this,"events");b(this,"currentRotX",0);b(this,"currentRotY",0);b(this,"targetRotX",0);b(this,"targetRotY",0);b(this,"update",e=>{const n=Math.min(.05,Math.max(.016,e.deltaTime/60));this.hash.clear();const r=this.dirt.getParticles();for(const a of r)a.alive&&this.hash.insert(a);if(this.isPressed)if(this.usingHose){const a=this.app.screen.width/2,l=this.app.screen.height/2;this.waterStream||(this.waterStream=new jw(this.pointer.x,this.pointer.y,a,l)),this.waterStream.update(this.pointer.x,this.pointer.y,a,l,n);const c=this.waterStream.getSegments().map(d=>this.worldToObjectCoords(d.x,d.y)),h=this.tools.hose.range*.4;this.hose.updateStreamPath(c,h,this.tools.hose.force)}else{const a=this.worldToObjectCoords(this.pointer.x,this.pointer.y),l=this.tools.scrub.radius*.4;this.scrub.update(a.x,a.y,performance.now()/1e3,l,this.tools.scrub.loosenChance,this.tools.scrub.baseKick)}else this.waterStream=void 0;this.updateObjectTilt();const i=this.dirt.getParticles(),s=[];for(const a of i)a.alive&&(this.phys.integrate(a,n),a.alive||s.push(a));for(const a of s)this.dirt.removeParticle(a);this.renderParticles(),this.renderHose();const o=this.prog.getProgress();this.imageSprite.alpha=o,Math.abs(o-this.lastProgress)>.01&&(this.events?.onProgressUpdate(o),this.lastProgress=o),o>=.95&&!this.completionTriggered&&(this.completionTriggered=!0,this.effects.finale(()=>{this.events?.onComplete()}))})}async init(e,n,r,i){try{console.log("Engine init starting...",{level:n,tools:r}),console.log("Canvas element:",e,"dimensions:",e.width,"x",e.height),this.tools=r,this.events=i,this.currentLevel=n,this.completionTriggered=!1,this.app=new qu,e.width=n.width,e.height=n.height,await this.app.init({canvas:e,width:n.width,height:n.height,antialias:!0,background:16119285}),console.log("PixiJS app initialized",this.app),this.stage=this.app.stage,this.particlesLayer=new Rt,this.hoseLayer=new Rt,window.addEventListener("resize",()=>{}),this.objectBounds={width:n.width/4,height:n.height/4,x:n.width/2-n.width/8,y:n.height/2-n.height/8},this.objectContainer=new Rt,this.objectContainer.x=n.width/2,this.objectContainer.y=n.height/2,this.objectGraphics=new $n,this.objectGraphics.rect(-this.objectBounds.width/2,-this.objectBounds.height/2,this.objectBounds.width,this.objectBounds.height),this.objectGraphics.fill(15790320),this.objectContainer.addChild(this.objectGraphics);try{const s="/assets/images/poster_001.svg",o=await ei.load(s);this.objectTextureSprite=new Gn(o);const a=this.objectBounds.width/this.objectTextureSprite.width,l=this.objectBounds.height/this.objectTextureSprite.height,u=Math.min(a,l);this.objectTextureSprite.scale.set(u),this.objectTextureSprite.anchor.set(.5),this.objectTextureSprite.x=0,this.objectTextureSprite.y=0,this.objectContainer.addChild(this.objectTextureSprite),console.log("Object texture loaded successfully")}catch(s){console.warn("Failed to load object texture, using solid color fallback:",s),this.objectGraphics.fill(9132587)}this.imageSprite=new Gn,this.imageSprite.alpha=1,this.stage.addChild(this.objectContainer),this.stage.addChild(this.particlesLayer),this.stage.addChild(this.hoseLayer),this.particlesLayer.x=n.width/2,this.particlesLayer.y=n.height/2,this.cov=new Nw(n.width,n.height,16),this.dirt=new Uw(this.pool,this.cov),this.scrub=new Ww(this.hash,this.cov),this.hose=new $w(this.hash,this.cov),this.phys=new Hw(n.width,n.height),this.prog=new Vw(this.cov),this.effects=new Yw,this.effects.setShakeContainer(this.stage),this.dirt.spawn(n,this.objectBounds),console.log("Dirt spawned, particles:",this.pool.activeCount),this.nozzle.x=n.width/2,this.nozzle.y=n.height-30,this.setupInput(),this.app.ticker.add(this.update),console.log("Engine initialization complete")}catch(s){throw console.error("Engine initialization failed:",s),s}}setupInput(){this.stage.eventMode="static",this.stage.hitArea=this.app.screen,this.stage.on("pointermove",e=>{const n=e.global;this.pointer.x=n.x,this.pointer.y=n.y}),this.stage.on("pointerdown",()=>{this.isPressed=!0}),this.stage.on("pointerup",()=>{this.isPressed=!1}),this.stage.on("pointerupoutside",()=>{this.isPressed=!1})}toggleHose(e){this.usingHose=e}resetDirt(){this.dirt.cleanup(),this.cov.clear(),this.currentLevel&&(this.dirt.spawn(this.currentLevel,this.objectBounds),console.log("Dirt reset, new particles:",this.dirt.getParticles().length))}updateObjectTilt(){const e=this.app.screen.width/2,n=this.app.screen.height/2,r=this.pointer.x-e,i=this.pointer.y-n,s=Math.sqrt(r*r+i*i),o=Math.min(this.app.screen.width,this.app.screen.height)*.8,a=Math.max(0,1-s/o);if(a>0){const l=r/o,u=i/o,h=35*a;this.targetRotX=u*h*1.2,this.targetRotY=l*h*1.2,this.targetRotX=Math.max(-h,Math.min(h,this.targetRotX)),this.targetRotY=Math.max(-h,Math.min(h,this.targetRotY))}else this.targetRotX=0,this.targetRotY=0;this.updateSpringAnimation(),this.apply3DRotation(this.currentRotX,this.currentRotY)}updateSpringAnimation(){const r=(this.targetRotX-this.currentRotX)*.12,i=(this.targetRotY-this.currentRotY)*.12;this.currentRotX+=r,this.currentRotY+=i,this.currentRotX*=.85,this.currentRotY*=.85,Math.abs(this.targetRotX-this.currentRotX)<.05&&(this.currentRotX=this.targetRotX),Math.abs(this.targetRotY-this.currentRotY)<.05&&(this.currentRotY=this.targetRotY)}apply3DRotation(e,n){const r=e*Math.PI/180,i=n*Math.PI/180,s=Math.cos(r),o=Math.cos(i),a=Math.sin(i),l=Math.abs(o),u=Math.abs(s);this.objectContainer.scale.x=l,this.objectContainer.scale.y=u,this.objectContainer.skew.x=0,this.objectContainer.skew.y=0,this.objectContainer.rotation=a*.3,this.objectContainer.x=this.app.screen.width/2,this.objectContainer.y=this.app.screen.height/2,this.particlesLayer.scale.x=l,this.particlesLayer.scale.y=u,this.particlesLayer.skew.x=0,this.particlesLayer.skew.y=0,this.particlesLayer.rotation=a*.3,this.particlesLayer.x=this.app.screen.width/2,this.particlesLayer.y=this.app.screen.height/2}worldToObjectCoords(e,n){const r=this.app.screen.width/2,i=this.app.screen.height/2,s=e-r,o=n-i,a=this.currentRotX*Math.PI/180,l=this.currentRotY*Math.PI/180,u=Math.cos(a),c=Math.cos(l),h=Math.sin(l),d=Math.abs(c),f=Math.abs(u),g=h*.3;let x=s/d,_=o/f;if(g!==0){const m=Math.cos(-g),p=Math.sin(-g),y=x*m-_*p,v=x*p+_*m;x=y,_=v}return{x,y:_}}renderParticles(){this.spritePool.releaseAll();let e=0;const n=this.dirt.getParticles();for(const r of n){if(!r.alive)continue;e++;const i=this.spritePool.acquire();if(!i)return;const s=r.color,o=r.alpha,a=r.size;switch(i.clear(),i.alpha=o,r.shape){case"circle":i.circle(r.x,r.y,a/2).fill(s);break;case"square":i.rect(r.x-a/2,r.y-a/2,a,a).fill(s);break;case"blob":const l=[],u=8;for(let c=0;c<u;c++){const h=c/u*Math.PI*2,d=a/2*(.8+Math.random()*.4),f=r.x+Math.cos(h)*d,g=r.y+Math.sin(h)*d;l.push(f,g)}i.poly(l).fill(s);break}i.visible=!0,i.parent||this.particlesLayer.addChild(i)}Math.random()<.01&&console.log("Rendering particles:",e)}destroy(){this.app&&this.app.ticker&&this.app.ticker.remove(this.update),this.dirt&&this.dirt.cleanup(),this.effects&&this.effects.reset(),this.app&&this.app.destroy()}renderHose(){if(this.hoseLayer.removeChildren(),!this.usingHose||!this.isPressed||!this.waterStream)return;const e=new $n,n=this.waterStream.getSegments();if(n.length<2)return;e.moveTo(n[0].x,n[0].y);for(let s=1;s<n.length;s++){const o=n[s],a=n[s-1];if(s===1)e.lineTo(o.x,o.y);else{const l=(a.x+o.x)/2,u=(a.y+o.y)/2;e.quadraticCurveTo(a.x,a.y,l,u)}}e.stroke({width:8,color:8900331,alpha:.7});const r=this.waterStream.getImpactPoint(),i=15;e.circle(r.x,r.y,i),e.fill({color:8900331,alpha:.4});for(let s=0;s<6;s++){const o=s/6*Math.PI*2,a=8+Math.random()*12,l=r.x+Math.cos(o)*a,u=r.y+Math.sin(o)*a;e.circle(l,u,2+Math.random()*3),e.fill({color:8900331,alpha:.3+Math.random()*.3})}this.hoseLayer.addChild(e)}getStats(){return{particles:this.pool.activeCount,progress:this.prog.getProgress(),usingHose:this.usingHose}}}const qw=()=>({id:"cleaning_object",image:"",width:window.innerWidth,height:window.innerHeight,threshold:.95,dirtLayers:[{density:1.5,stickiness:.3,sizeRange:[1,3]},{density:1.2,stickiness:.5,sizeRange:[2,4]},{density:.8,stickiness:.7,sizeRange:[3,6]},{density:.4,stickiness:.8,sizeRange:[4,8]}]}),Kw={scrub:{radius:64,loosenChance:.35,baseKick:30},hose:{angleDeg:25,range:380,force:40}},cg=De.forwardRef(({onComplete:t,onProgressUpdate:e},n)=>{const r=De.useRef(null),i=De.useRef(null);return De.useImperativeHandle(n,()=>({toggleHose:s=>{i.current?.toggleHose(s)},resetDirt:()=>{i.current?.resetDirt()},getStats:()=>i.current?.getStats()||{}})),De.useEffect(()=>{if(!r.current)return;if(console.log("GameCanvas: useEffect triggered"),i.current){console.log("GameCanvas: Engine already exists, skipping init");return}const s=new Xw;i.current=s;const o={onComplete:t||(()=>{}),onProgressUpdate:e||(()=>{})};return s.init(r.current,qw(),Kw,o).catch(a=>{console.error("GameCanvas: Engine initialization failed:",a)}),()=>{console.log("GameCanvas: Cleanup triggered"),i.current&&(i.current.destroy(),i.current=null)}},[]),N.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",background:"#0b0b0d",overflow:"hidden"},children:N.jsx("canvas",{ref:r,style:{touchAction:"none",width:"100%",height:"100%",display:"block"}})})});cg.displayName="GameCanvas";class Qw{constructor(){b(this,"app")}async init(e){console.log("TestEngine: Starting initialization..."),console.log("Canvas element:",e);try{this.app=new qu,console.log("TestEngine: Application created"),await this.app.init({canvas:e,width:800,height:600,antialias:!0,backgroundAlpha:1,backgroundColor:1087931}),console.log("TestEngine: PixiJS initialized",this.app);const n=new $n;n.rect(100,100,200,200),n.fill(16711680),this.app.stage.addChild(n),console.log("TestEngine: Test graphic added")}catch(n){throw console.error("TestEngine: Initialization failed:",n),n}}destroy(){this.app&&this.app.destroy()}}function Zw(){const t=De.useRef(null);return De.useEffect(()=>{if(!t.current)return;console.log("TestCanvas: Effect running");const e=new Qw;return e.init(t.current).catch(n=>{console.error("TestCanvas: Engine initialization failed:",n)}),()=>{console.log("TestCanvas: Cleanup"),e.destroy()}},[]),N.jsx("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",background:"#222"},children:N.jsx("canvas",{ref:t,style:{border:"2px solid #fff",display:"block"}})})}function Jw({onToggleHose:t,onResetDirt:e,progress:n,stats:r}){const[i,s]=De.useState(!1),o=()=>{const a=!i;s(a),t(a)};return N.jsxs("div",{style:{position:"absolute",inset:0,pointerEvents:"none",fontFamily:"system-ui, -apple-system, sans-serif"},children:[N.jsx("div",{style:{position:"absolute",top:16,left:16,right:16,pointerEvents:"auto"},children:N.jsxs("div",{style:{background:"rgba(0,0,0,0.5)",padding:"8px 12px",borderRadius:"8px",color:"white",fontSize:"14px"},children:[N.jsxs("div",{children:["Progress: ",Math.round(n*100),"%"]}),N.jsx("div",{style:{width:"100%",height:"4px",background:"rgba(255,255,255,0.3)",borderRadius:"2px",marginTop:"4px",overflow:"hidden"},children:N.jsx("div",{style:{width:`${n*100}%`,height:"100%",background:"#4ade80",transition:"width 0.3s ease"}})})]})}),N.jsxs("div",{style:{position:"absolute",bottom:16,right:16,pointerEvents:"auto",display:"flex",flexDirection:"column",gap:"8px"},children:[N.jsx("button",{onClick:o,style:{padding:"12px 20px",background:i?"#3b82f6":"rgba(0,0,0,0.5)",color:"white",border:"none",borderRadius:"8px",fontSize:"16px",cursor:"pointer",minWidth:"100px",transition:"background 0.2s ease"},children:i?"🚿 Hose ON":"✋ Scrub"}),e&&N.jsx("button",{onClick:e,style:{padding:"8px 16px",background:"rgba(255, 165, 0, 0.8)",color:"white",border:"none",borderRadius:"6px",fontSize:"14px",cursor:"pointer",minWidth:"100px",transition:"background 0.2s ease"},onMouseEnter:a=>{a.currentTarget.style.background="rgba(255, 165, 0, 1)"},onMouseLeave:a=>{a.currentTarget.style.background="rgba(255, 165, 0, 0.8)"},children:"🔄 Reset Dirt"})]}),r&&N.jsxs("div",{style:{position:"absolute",bottom:16,left:16,background:"rgba(0,0,0,0.5)",padding:"8px",borderRadius:"4px",color:"white",fontSize:"12px",fontFamily:"monospace"},children:[N.jsxs("div",{children:["Particles: ",r.particles]}),N.jsxs("div",{children:["Mode: ",r.usingHose?"Hose":"Scrub"]})]})]})}function eS({onStartGame:t}){return N.jsx("div",{style:{position:"absolute",inset:0,background:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",color:"white",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.jsxs("div",{style:{textAlign:"center",maxWidth:"400px",padding:"20px"},children:[N.jsx("h1",{style:{fontSize:"3rem",marginBottom:"1rem",fontWeight:"bold"},children:"🧽 Wash Simulator"}),N.jsx("p",{style:{fontSize:"1.2rem",marginBottom:"2rem",opacity:.9},children:"Clean the surface by scrubbing away dirt particles!"}),N.jsxs("div",{style:{background:"rgba(255,255,255,0.1)",padding:"20px",borderRadius:"10px",marginBottom:"2rem",textAlign:"left"},children:[N.jsx("h3",{style:{marginBottom:"10px"},children:"How to Play:"}),N.jsxs("ul",{style:{listStyle:"none",padding:0},children:[N.jsx("li",{style:{marginBottom:"8px"},children:"✋ Drag to scrub and loosen dirt"}),N.jsx("li",{style:{marginBottom:"8px"},children:"🚿 Use hose to wash away loose particles"}),N.jsx("li",{style:{marginBottom:"8px"},children:"🎯 Clean 95% to complete the level"})]})]}),N.jsx("button",{onClick:t,style:{padding:"15px 30px",fontSize:"1.2rem",background:"#4ade80",color:"white",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",transition:"transform 0.2s ease",boxShadow:"0 4px 15px rgba(74, 222, 128, 0.3)"},onMouseOver:e=>{e.currentTarget.style.transform="scale(1.05)"},onMouseOut:e=>{e.currentTarget.style.transform="scale(1)"},children:"Start Cleaning! 🧹"})]})})}function tS({onRestart:t,onMainMenu:e,progress:n}){return N.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0, 0, 0, 0.8)",display:"flex",alignItems:"center",justifyContent:"center",color:"white",fontFamily:"system-ui, -apple-system, sans-serif"},children:N.jsxs("div",{style:{background:"linear-gradient(135deg, #4ade80 0%, #22c55e 100%)",padding:"40px",borderRadius:"20px",textAlign:"center",maxWidth:"400px",boxShadow:"0 20px 40px rgba(0,0,0,0.3)"},children:[N.jsx("div",{style:{fontSize:"4rem",marginBottom:"20px"},children:"✨"}),N.jsx("h2",{style:{fontSize:"2.5rem",marginBottom:"10px",fontWeight:"bold"},children:"Level Complete!"}),N.jsxs("p",{style:{fontSize:"1.2rem",marginBottom:"20px",opacity:.9},children:["You cleaned ",Math.round(n*100),"% of the surface!"]}),N.jsx("div",{style:{background:"rgba(255,255,255,0.2)",padding:"15px",borderRadius:"10px",marginBottom:"30px"},children:N.jsx("p",{style:{fontSize:"1.1rem",margin:0},children:"🎉 Perfect cleaning job! The surface is sparkling clean."})}),N.jsxs("div",{style:{display:"flex",gap:"15px",justifyContent:"center"},children:[N.jsx("button",{onClick:t,style:{padding:"12px 24px",fontSize:"1rem",background:"rgba(255,255,255,0.2)",color:"white",border:"2px solid rgba(255,255,255,0.3)",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",transition:"all 0.2s ease"},onMouseOver:r=>{r.currentTarget.style.background="rgba(255,255,255,0.3)"},onMouseOut:r=>{r.currentTarget.style.background="rgba(255,255,255,0.2)"},children:"🔄 Play Again"}),N.jsx("button",{onClick:e,style:{padding:"12px 24px",fontSize:"1rem",background:"white",color:"#22c55e",border:"none",borderRadius:"10px",cursor:"pointer",fontWeight:"bold",transition:"transform 0.2s ease"},onMouseOver:r=>{r.currentTarget.style.transform="scale(1.05)"},onMouseOut:r=>{r.currentTarget.style.transform="scale(1)"},children:"🏠 Main Menu"})]})]})})}function nS(){const[t,e]=De.useState("menu"),[n,r]=De.useState(0),[i,s]=De.useState({}),o=De.useRef(null),a=()=>{e("playing"),r(0)},l=()=>{e("complete")},u=g=>{r(g),o.current&&s(o.current.getStats())},c=g=>{o.current?.toggleHose(g)},h=()=>{o.current?.resetDirt(),r(0)},d=()=>{e("playing"),r(0),window.location.reload()},f=()=>{e("menu"),r(0)};return N.jsxs("div",{style:{position:"relative",width:"100vw",height:"100vh",background:"#0b0b0d",overflow:"hidden"},children:[t==="test"&&N.jsx(Zw,{}),t==="menu"&&N.jsx(eS,{onStartGame:a}),t==="playing"&&N.jsxs(N.Fragment,{children:[N.jsx(cg,{ref:o,onComplete:l,onProgressUpdate:u}),N.jsx(Jw,{onToggleHose:c,onResetDirt:h,progress:n,stats:i})]}),t==="complete"&&N.jsx(tS,{onRestart:d,onMainMenu:f,progress:n})]})}Oa.createRoot(document.getElementById("root")).render(N.jsx(nS,{}));export{Ix as $,Lm as A,Oe as B,Rt as C,ne as D,B as E,im as F,Lo as G,Eh as H,Gn as I,t1 as J,c1 as K,Ui as L,G as M,he as N,fe as O,Te as P,M1 as Q,Dl as R,K1 as S,ps as T,Bl as U,Ih as V,Fh as W,Lx as X,_a as Y,ho as Z,ye as _,xt as a,em as a0,Bm as a1,D as a2,X as a3,F1 as a4,o_ as a5,J1 as a6,A_ as a7,b_ as a8,I_ as a9,L_ as aa,B_ as ab,co as ac,Ns as ad,$l as ae,yd as af,qm as ag,Yh as ah,Hh as ai,_d as aj,Ov as ak,J as al,$n as am,tx as an,go as ao,Zm as ap,Bi as b,Os as c,Yu as d,Ce as e,Vh as f,Y1 as g,Rm as h,dm as i,_t as j,Pm as k,ql as l,k_ as m,P_ as n,E_ as o,F_ as p,Xu as q,mx as r,U as s,Sm as t,ex as u,O_ as v,ee as w,yt as x,st as y,Qp as z};
